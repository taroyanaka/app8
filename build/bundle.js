var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function a(t){t.forEach(e)}function i(t){return"function"==typeof t}function l(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function r(t){return null==t?"":t}function o(t,e){t.appendChild(e)}function c(t,e,n){t.insertBefore(e,n||null)}function s(t){t.parentNode&&t.parentNode.removeChild(t)}function d(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function u(t){return document.createElement(t)}function _(t){return document.createTextNode(t)}function h(){return _(" ")}function f(){return _("")}function g(t,e,n,a){return t.addEventListener(e,n,a),()=>t.removeEventListener(e,n,a)}function p(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function m(t,e){e=""+e,t.data!==e&&(t.data=e)}function v(t,e){t.value=null==e?"":e}let b;function y(t){b=t}function w(t){(function(){if(!b)throw new Error("Function called outside component initialization");return b})().$$.on_mount.push(t)}const $=[],z=[];let T=[];const j=[],E=Promise.resolve();let k=!1;function x(t){T.push(t)}const O=new Set;let N=0;function S(){if(0!==N)return;const t=b;do{try{for(;N<$.length;){const t=$[N];N++,y(t),C(t.$$)}}catch(t){throw $.length=0,N=0,t}for(y(null),$.length=0,N=0;z.length;)z.pop()();for(let t=0;t<T.length;t+=1){const e=T[t];O.has(e)||(O.add(e),e())}T.length=0}while($.length);for(;j.length;)j.pop()();k=!1,O.clear(),y(t)}function C(t){if(null!==t.fragment){t.update(),a(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(x)}}const A=new Set;function I(t,e){const n=t.$$;null!==n.fragment&&(!function(t){const e=[],n=[];T.forEach((a=>-1===t.indexOf(a)?e.push(a):n.push(a))),n.forEach((t=>t())),T=e}(n.after_update),a(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function q(t,e){-1===t.$$.dirty[0]&&($.push(t),k||(k=!0,E.then(S)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function J(l,r,o,c,d,u,_,h=[-1]){const f=b;y(l);const g=l.$$={fragment:null,ctx:[],props:u,update:t,not_equal:d,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(r.context||(f?f.$$.context:[])),callbacks:n(),dirty:h,skip_bound:!1,root:r.target||f.$$.root};_&&_(g.root);let p=!1;if(g.ctx=o?o(l,r.props||{},((t,e,...n)=>{const a=n.length?n[0]:e;return g.ctx&&d(g.ctx[t],g.ctx[t]=a)&&(!g.skip_bound&&g.bound[t]&&g.bound[t](a),p&&q(l,t)),e})):[],g.update(),p=!0,a(g.before_update),g.fragment=!!c&&c(g.ctx),r.target){if(r.hydrate){const t=function(t){return Array.from(t.childNodes)}(r.target);g.fragment&&g.fragment.l(t),t.forEach(s)}else g.fragment&&g.fragment.c();r.intro&&((m=l.$$.fragment)&&m.i&&(A.delete(m),m.i(v))),function(t,n,l,r){const{fragment:o,after_update:c}=t.$$;o&&o.m(n,l),r||x((()=>{const n=t.$$.on_mount.map(e).filter(i);t.$$.on_destroy?t.$$.on_destroy.push(...n):a(n),t.$$.on_mount=[]})),c.forEach(x)}(l,r.target,r.anchor,r.customElement),S()}var m,v;y(f)}class L{$destroy(){I(this,1),this.$destroy=t}$on(e,n){if(!i(n))return t;const a=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return a.push(n),()=>{const t=a.indexOf(n);-1!==t&&a.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function P(t,e,n){const a=t.slice();return a[55]=e[n],a}function D(t,e,n){const a=t.slice();return a[58]=e[n],a}function B(t,e,n){const a=t.slice();return a[58]=e[n],a}function W(t,e,n){const a=t.slice();return a[58]=e[n],a}function V(t,e,n){const a=t.slice();return a[65]=e[n][0],a[66]=e[n][1],a}function G(t,e,n){const a=t.slice();return a[69]=e[n],a}function K(t,e,n){const a=t.slice();return a[58]=e[n],a}function M(t,e,n){const a=t.slice();return a[55]=e[n],a}function F(e){let n,a,i,l,r;return{c(){n=u("div"),a=_("auth_google_login: "),i=u("button"),i.textContent="auth_google_login"},m(t,s){c(t,n,s),o(n,a),o(n,i),l||(r=g(i,"click",e[25]),l=!0)},p:t,d(t){t&&s(n),l=!1,r()}}}function H(t){let e,n,a,i,l,r=t[13].auth_sign_out[t[0]]+"";return{c(){e=u("div"),n=u("button"),a=_(r)},m(r,s){c(r,e,s),o(e,n),o(n,a),i||(l=g(n,"click",t[26]),i=!0)},p(t,e){1&e[0]&&r!==(r=t[13].auth_sign_out[t[0]]+"")&&m(a,r)},d(t){t&&s(e),i=!1,l()}}}function U(t){let e,n,a,i=t[7],l=[];for(let e=0;e<i.length;e+=1)l[e]=Y(M(t,i,e));return{c(){e=u("p"),e.textContent="Errors:",n=h();for(let t=0;t<l.length;t+=1)l[t].c();a=f()},m(t,i){c(t,e,i),c(t,n,i);for(let e=0;e<l.length;e+=1)l[e]&&l[e].m(t,i);c(t,a,i)},p(t,e){if(128&e[0]){let n;for(i=t[7],n=0;n<i.length;n+=1){const r=M(t,i,n);l[n]?l[n].p(r,e):(l[n]=Y(r),l[n].c(),l[n].m(a.parentNode,a))}for(;n<l.length;n+=1)l[n].d(1);l.length=i.length}},d(t){t&&s(e),t&&s(n),d(l,t),t&&s(a)}}}function Y(t){let e,n,a=t[55]+"";return{c(){e=u("div"),n=_(a)},m(t,a){c(t,e,a),o(e,n)},p(t,e){128&e[0]&&a!==(a=t[55]+"")&&m(n,a)},d(t){t&&s(e)}}}function Z(t){let e,n,a,i,l,f,g=t[13][t[65]][t[0]]+"",v="filtered_all_descs"===t[65]&&Q(t),b=t[66],y=[];for(let e=0;e<b.length;e+=1)y[e]=et(G(t,b,e));return{c(){e=u("div"),n=u("h1"),a=_(g),i=h(),v&&v.c(),l=h();for(let t=0;t<y.length;t+=1)y[t].c();p(n,"class","svelte-p0zr93"),p(e,"class",f=r(t[65])+" svelte-p0zr93")},m(t,r){c(t,e,r),o(e,n),o(n,a),o(e,i),v&&v.m(e,null),o(e,l);for(let t=0;t<y.length;t+=1)y[t]&&y[t].m(e,null)},p(t,n){if(513&n[0]&&g!==(g=t[13][t[65]][t[0]]+"")&&m(a,g),"filtered_all_descs"===t[65]?v?v.p(t,n):(v=Q(t),v.c(),v.m(e,l)):v&&(v.d(1),v=null),17218049&n[0]){let a;for(b=t[66],a=0;a<b.length;a+=1){const i=G(t,b,a);y[a]?y[a].p(i,n):(y[a]=et(i),y[a].c(),y[a].m(e,null))}for(;a<y.length;a+=1)y[a].d(1);y.length=b.length}512&n[0]&&f!==(f=r(t[65])+" svelte-p0zr93")&&p(e,"class",f)},d(t){t&&s(e),v&&v.d(),d(y,t)}}}function Q(e){let n,a,i;return{c(){n=u("button"),n.textContent="clear_filtered_all_descs"},m(t,l){c(t,n,l),a||(i=g(n,"click",e[19]),a=!0)},p:t,d(t){t&&s(n),a=!1,i()}}}function R(t){let e,n,i,l,r,d,f,p=t[13].set_desc_data[t[0]]+"",v=t[13].delete_desc[t[0]]+"";function b(){return t[34](t[69])}function y(){return t[35](t[69])}return{c(){e=u("button"),n=_(p),i=h(),l=u("button"),r=_(v)},m(t,a){c(t,e,a),o(e,n),c(t,i,a),c(t,l,a),o(l,r),d||(f=[g(e,"click",b),g(l,"click",y)],d=!0)},p(e,a){t=e,1&a[0]&&p!==(p=t[13].set_desc_data[t[0]]+"")&&m(n,p),1&a[0]&&v!==(v=t[13].delete_desc[t[0]]+"")&&m(r,v)},d(t){t&&s(e),t&&s(i),t&&s(l),d=!1,a(f)}}}function X(t){let e,n=t[69].tags,a=[];for(let e=0;e<n.length;e+=1)a[e]=tt(K(t,n,e));return{c(){for(let t=0;t<a.length;t+=1)a[t].c();e=f()},m(t,n){for(let e=0;e<a.length;e+=1)a[e]&&a[e].m(t,n);c(t,e,n)},p(t,i){if(262656&i[0]){let l;for(n=t[69].tags,l=0;l<n.length;l+=1){const r=K(t,n,l);a[l]?a[l].p(r,i):(a[l]=tt(r),a[l].c(),a[l].m(e.parentNode,e))}for(;l<a.length;l+=1)a[l].d(1);a.length=n.length}},d(t){d(a,t),t&&s(e)}}}function tt(t){let e,n,a,i,l=t[58].name+"";function r(){return t[36](t[58])}return{c(){e=u("button"),n=_(l)},m(t,l){c(t,e,l),o(e,n),a||(i=g(e,"click",r),a=!0)},p(e,a){t=e,512&a[0]&&l!==(l=t[58].name+"")&&m(n,l)},d(t){t&&s(e),a=!1,i()}}}function et(t){let e,n,i,l,r,d,f,v,b,y,w,$,z,T,j,E,k,x=t[69].id+"",O=t[69].title+"",N=t[12]?"▲":"▼";function S(){return t[33](t[69])}let C="any_user_new_all_descs_with_tags"===t[65]&&t[11]&&R(t),A=t[69].tags&&X(t);return{c(){e=u("div"),n=u("p"),i=u("button"),l=_("id: "),r=_(x),d=h(),C&&C.c(),v=h(),b=u("p"),y=_(O),w=h(),$=u("p"),z=u("button"),T=_(N),j=h(),A&&A.c(),p(i,"class","button_reset svelte-p0zr93"),p(n,"id",f=t[69].id),p(b,"class","break_word svelte-p0zr93"),p(z,"class","button_reset svelte-p0zr93"),p($,"class","break_word svelte-p0zr93")},m(a,s){c(a,e,s),o(e,n),o(n,i),o(i,l),o(i,r),o(n,d),C&&C.m(n,null),o(e,v),o(e,b),o(b,y),o(e,w),o(e,$),o($,z),o(z,T),o(e,j),A&&A.m(e,null),E||(k=[g(i,"click",S),g(z,"click",t[15])],E=!0)},p(a,i){t=a,512&i[0]&&x!==(x=t[69].id+"")&&m(r,x),"any_user_new_all_descs_with_tags"===t[65]&&t[11]?C?C.p(t,i):(C=R(t),C.c(),C.m(n,null)):C&&(C.d(1),C=null),512&i[0]&&f!==(f=t[69].id)&&p(n,"id",f),512&i[0]&&O!==(O=t[69].title+"")&&m(y,O),4096&i[0]&&N!==(N=t[12]?"▲":"▼")&&m(T,N),t[69].tags?A?A.p(t,i):(A=X(t),A.c(),A.m(e,null)):A&&(A.d(1),A=null)},d(t){t&&s(e),C&&C.d(),A&&A.d(),E=!1,a(k)}}}function nt(t){let e,n="all_tags"!==t[65]&&Z(t);return{c(){n&&n.c(),e=f()},m(t,a){n&&n.m(t,a),c(t,e,a)},p(t,a){"all_tags"!==t[65]?n?n.p(t,a):(n=Z(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&s(e)}}}function at(t){let e,n=t[9].all_tags,a=[];for(let e=0;e<n.length;e+=1)a[e]=it(W(t,n,e));return{c(){for(let t=0;t<a.length;t+=1)a[t].c();e=f()},m(t,n){for(let e=0;e<a.length;e+=1)a[e]&&a[e].m(t,n);c(t,e,n)},p(t,i){if(262656&i[0]){let l;for(n=t[9].all_tags,l=0;l<n.length;l+=1){const r=W(t,n,l);a[l]?a[l].p(r,i):(a[l]=it(r),a[l].c(),a[l].m(e.parentNode,e))}for(;l<a.length;l+=1)a[l].d(1);a.length=n.length}},d(t){d(a,t),t&&s(e)}}}function it(t){let e,n,a,i,l=t[58].name+"";function r(){return t[37](t[58])}return{c(){e=u("button"),n=_(l)},m(t,l){c(t,e,l),o(e,n),a||(i=g(e,"click",r),a=!0)},p(e,a){t=e,512&a[0]&&l!==(l=t[58].name+"")&&m(n,l)},d(t){t&&s(e),a=!1,i()}}}function lt(t){let e,n,i,l,r,b,y,w,$,z,T,j,E,k,x,O,N,S,C,A,I,q,J,L,P,W,V,G,K,M,F,H,U=t[13].clear_title_description_tags[t[0]]+"",Y=t[13].tag[t[0]]+"",Z=t[13].add_tag_to_desc[t[0]]+"",Q=t[6],R=[];for(let e=0;e<Q.length;e+=1)R[e]=rt(B(t,Q,e));let X=t[2],tt=[];for(let e=0;e<X.length;e+=1)tt[e]=ot(D(t,X,e));let et=t[7].length>0&&ct(t),nt=null===t[3]&&dt(t),at=null!==t[3]&&ut(t);return{c(){e=u("p"),n=_("id: "),i=_(t[3]),l=h(),r=u("button"),b=_(U),y=h(),w=u("div"),w.textContent="title:",$=h(),z=u("textarea"),T=h(),j=u("div"),j.textContent="description:",E=h(),k=u("textarea"),x=h(),O=u("div");for(let t=0;t<R.length;t+=1)R[t].c();N=h(),S=u("label"),C=_(Y),A=h(),I=u("input"),q=h(),J=u("datalist");for(let t=0;t<tt.length;t+=1)tt[t].c();L=h(),P=u("button"),W=_(Z),V=h(),et&&et.c(),G=h(),nt&&nt.c(),K=h(),at&&at.c(),M=f(),p(z,"class","title svelte-p0zr93"),p(z,"minlength","1"),p(z,"maxlength","100"),z.required=!0,p(z,"placeholder","1_100"),p(k,"class","description svelte-p0zr93"),p(k,"minlength","1"),p(k,"maxlength","1000"),k.required=!0,p(k,"placeholder","1_1000"),p(S,"for","my_all_tags"),p(I,"list","all_tags"),p(I,"id","my_all_tags"),p(I,"name","my_all_tags"),p(I,"minlength","1"),p(I,"maxlength","10"),I.required=!0,p(I,"placeholder","1_10"),p(J,"id","all_tags")},m(a,s){c(a,e,s),o(e,n),o(e,i),c(a,l,s),c(a,r,s),o(r,b),c(a,y,s),c(a,w,s),c(a,$,s),c(a,z,s),v(z,t[4]),c(a,T,s),c(a,j,s),c(a,E,s),c(a,k,s),v(k,t[5]),c(a,x,s),c(a,O,s);for(let t=0;t<R.length;t+=1)R[t]&&R[t].m(O,null);c(a,N,s),c(a,S,s),o(S,C),c(a,A,s),c(a,I,s),v(I,t[1]),c(a,q,s),c(a,J,s);for(let t=0;t<tt.length;t+=1)tt[t]&&tt[t].m(J,null);c(a,L,s),c(a,P,s),o(P,W),c(a,V,s),et&&et.m(a,s),c(a,G,s),nt&&nt.m(a,s),c(a,K,s),at&&at.m(a,s),c(a,M,s),F||(H=[g(r,"click",t[14]),g(z,"input",t[38]),g(k,"input",t[39]),g(I,"input",t[41]),g(P,"click",t[42])],F=!0)},p(t,e){if(8&e[0]&&m(i,t[3]),1&e[0]&&U!==(U=t[13].clear_title_description_tags[t[0]]+"")&&m(b,U),16&e[0]&&v(z,t[4]),32&e[0]&&v(k,t[5]),64&e[0]){let n;for(Q=t[6],n=0;n<Q.length;n+=1){const a=B(t,Q,n);R[n]?R[n].p(a,e):(R[n]=rt(a),R[n].c(),R[n].m(O,null))}for(;n<R.length;n+=1)R[n].d(1);R.length=Q.length}if(1&e[0]&&Y!==(Y=t[13].tag[t[0]]+"")&&m(C,Y),2&e[0]&&I.value!==t[1]&&v(I,t[1]),4&e[0]){let n;for(X=t[2],n=0;n<X.length;n+=1){const a=D(t,X,n);tt[n]?tt[n].p(a,e):(tt[n]=ot(a),tt[n].c(),tt[n].m(J,null))}for(;n<tt.length;n+=1)tt[n].d(1);tt.length=X.length}1&e[0]&&Z!==(Z=t[13].add_tag_to_desc[t[0]]+"")&&m(W,Z),t[7].length>0?et?et.p(t,e):(et=ct(t),et.c(),et.m(G.parentNode,G)):et&&(et.d(1),et=null),null===t[3]?nt?nt.p(t,e):(nt=dt(t),nt.c(),nt.m(K.parentNode,K)):nt&&(nt.d(1),nt=null),null!==t[3]?at?at.p(t,e):(at=ut(t),at.c(),at.m(M.parentNode,M)):at&&(at.d(1),at=null)},d(t){t&&s(e),t&&s(l),t&&s(r),t&&s(y),t&&s(w),t&&s($),t&&s(z),t&&s(T),t&&s(j),t&&s(E),t&&s(k),t&&s(x),t&&s(O),d(R,t),t&&s(N),t&&s(S),t&&s(A),t&&s(I),t&&s(q),t&&s(J),d(tt,t),t&&s(L),t&&s(P),t&&s(V),et&&et.d(t),t&&s(G),nt&&nt.d(t),t&&s(K),at&&at.d(t),t&&s(M),F=!1,a(H)}}}function rt(t){let e,n,a,i,l=t[58].name+"";function r(){return t[40](t[58])}return{c(){e=u("button"),n=_(l)},m(t,l){c(t,e,l),o(e,n),a||(i=g(e,"click",r),a=!0)},p(e,a){t=e,64&a[0]&&l!==(l=t[58].name+"")&&m(n,l)},d(t){t&&s(e),a=!1,i()}}}function ot(t){let e,n;return{c(){e=u("option"),e.__value=n=t[58].name,e.value=e.__value},m(t,n){c(t,e,n)},p(t,a){4&a[0]&&n!==(n=t[58].name)&&(e.__value=n,e.value=e.__value)},d(t){t&&s(e)}}}function ct(t){let e,n,a,i,l=t[13].errors[t[0]]+"",r=t[7],g=[];for(let e=0;e<r.length;e+=1)g[e]=st(P(t,r,e));return{c(){e=u("h2"),n=_(l),a=h();for(let t=0;t<g.length;t+=1)g[t].c();i=f()},m(t,l){c(t,e,l),o(e,n),c(t,a,l);for(let e=0;e<g.length;e+=1)g[e]&&g[e].m(t,l);c(t,i,l)},p(t,e){if(1&e[0]&&l!==(l=t[13].errors[t[0]]+"")&&m(n,l),128&e[0]){let n;for(r=t[7],n=0;n<r.length;n+=1){const a=P(t,r,n);g[n]?g[n].p(a,e):(g[n]=st(a),g[n].c(),g[n].m(i.parentNode,i))}for(;n<g.length;n+=1)g[n].d(1);g.length=r.length}},d(t){t&&s(e),t&&s(a),d(g,t),t&&s(i)}}}function st(t){let e,n,a=t[55]+"";return{c(){e=u("p"),n=_(a)},m(t,a){c(t,e,a),o(e,n)},p(t,e){128&e[0]&&a!==(a=t[55]+"")&&m(n,a)},d(t){t&&s(e)}}}function dt(t){let e,n,a,i,l=t[13].insert_desc[t[0]]+"";return{c(){e=u("button"),n=_(l),p(e,"class","fetch_insert_desc_button svelte-p0zr93")},m(l,r){c(l,e,r),o(e,n),a||(i=g(e,"click",t[21]),a=!0)},p(t,e){1&e[0]&&l!==(l=t[13].insert_desc[t[0]]+"")&&m(n,l)},d(t){t&&s(e),a=!1,i()}}}function ut(t){let e,n,a,i,l=t[13].update_desc[t[0]]+"";return{c(){e=u("button"),n=_(l),p(e,"class","fetch_update_desc_button svelte-p0zr93")},m(l,r){c(l,e,r),o(e,n),a||(i=g(e,"click",t[23]),a=!0)},p(t,e){1&e[0]&&l!==(l=t[13].update_desc[t[0]]+"")&&m(n,l)},d(t){t&&s(e),a=!1,i()}}}function _t(e){let n,i,l,r,f,v,b,y,w,$,z,T,j,E,k,x,O,N,S,C,A,I,q,J,L,P,D,B,W,G,K,M,Y,Z,Q,R,X,tt,et,it,rt,ot,ct,st,dt,ut,_t,ht,ft,gt,pt=e[13].auth_login_result[e[0]]+"",mt=e[13].web_data_tags[e[0]]+"",vt=JSON.parse(JSON.stringify(e[10]))+"",bt=e[13].web_data_edit[e[0]]+"",yt=""===e[11]&&F(e),wt=""!==e[11]&&H(e),$t=e[7]>0&&U(e),zt=Object.entries(e[9]),Tt=[];for(let t=0;t<zt.length;t+=1)Tt[t]=nt(V(e,zt,t));let jt=e[9].all_tags&&at(e),Et=""!==e[11]&&lt(e);return ht=function(t){let e;return{p(...n){e=n,e.forEach((e=>t.push(e)))},r(){e.forEach((e=>t.splice(t.indexOf(e),1)))}}}(e[29][0]),{c(){n=u("div"),i=u("div"),l=u("div"),r=u("input"),f=h(),v=u("label"),v.textContent="🇺🇸",b=h(),y=u("input"),w=h(),$=u("label"),$.textContent="🇯🇵",z=h(),T=u("input"),j=h(),E=u("label"),E.textContent="🇨🇳🇹🇼",k=h(),x=u("input"),O=h(),N=u("label"),N.textContent="🇪🇸",S=h(),C=u("div"),C.textContent="v1.0.9",A=h(),I=u("div"),q=_(pt),J=_(": "),L=u("span"),P=_(e[8]),D=h(),yt&&yt.c(),B=h(),wt&&wt.c(),W=h(),G=h(),K=u("div"),M=u("div"),Y=u("div"),$t&&$t.c(),Z=h(),Q=u("div");for(let t=0;t<Tt.length;t+=1)Tt[t].c();R=h(),X=u("div"),tt=u("h1"),et=_(mt),it=h(),jt&&jt.c(),rt=h(),ot=u("div"),ct=_(vt),st=h(),dt=u("h1"),ut=_(bt),_t=h(),Et&&Et.c(),p(r,"type","radio"),p(r,"id","en"),p(r,"name","lang"),r.__value="en",r.value=r.__value,p(v,"for","en"),p(y,"type","radio"),p(y,"id","ja"),p(y,"name","lang"),y.__value="ja",y.value=y.__value,p($,"for","ja"),p(T,"type","radio"),p(T,"id","zh"),p(T,"name","lang"),T.__value="zh",T.value=T.__value,p(E,"for","zh"),p(x,"type","radio"),p(x,"id","es"),p(x,"name","lang"),x.__value="es",x.value=x.__value,p(N,"for","es"),p(C,"class","version"),p(i,"class","header svelte-p0zr93"),p(Y,"class","console"),p(tt,"class","svelte-p0zr93"),p(X,"class","web_data_tags svelte-p0zr93"),p(Q,"class","list svelte-p0zr93"),p(M,"class","left_column server_side svelte-p0zr93"),p(dt,"class","svelte-p0zr93"),p(ot,"class","right_column svelte-p0zr93"),p(K,"class","content svelte-p0zr93"),p(n,"class","container svelte-p0zr93"),ht.p(r,y,T,x)},m(t,a){c(t,n,a),o(n,i),o(i,l),o(l,r),r.checked=r.__value===e[0],o(l,f),o(l,v),o(l,b),o(l,y),y.checked=y.__value===e[0],o(l,w),o(l,$),o(l,z),o(l,T),T.checked=T.__value===e[0],o(l,j),o(l,E),o(l,k),o(l,x),x.checked=x.__value===e[0],o(l,O),o(l,N),o(i,S),o(i,C),o(i,A),o(i,I),o(I,q),o(I,J),o(I,L),o(L,P),o(i,D),yt&&yt.m(i,null),o(i,B),wt&&wt.m(i,null),o(i,W),o(n,G),o(n,K),o(K,M),o(M,Y),$t&&$t.m(Y,null),o(M,Z),o(M,Q);for(let t=0;t<Tt.length;t+=1)Tt[t]&&Tt[t].m(Q,null);o(Q,R),o(Q,X),o(X,tt),o(tt,et),o(X,it),jt&&jt.m(X,null),o(K,rt),o(K,ot),o(ot,ct),o(ot,st),o(ot,dt),o(dt,ut),o(ot,_t),Et&&Et.m(ot,null),ft||(gt=[g(r,"change",e[28]),g(y,"change",e[30]),g(T,"change",e[31]),g(x,"change",e[32])],ft=!0)},p(t,e){if(1&e[0]&&(r.checked=r.__value===t[0]),1&e[0]&&(y.checked=y.__value===t[0]),1&e[0]&&(T.checked=T.__value===t[0]),1&e[0]&&(x.checked=x.__value===t[0]),1&e[0]&&pt!==(pt=t[13].auth_login_result[t[0]]+"")&&m(q,pt),256&e[0]&&m(P,t[8]),""===t[11]?yt?yt.p(t,e):(yt=F(t),yt.c(),yt.m(i,B)):yt&&(yt.d(1),yt=null),""!==t[11]?wt?wt.p(t,e):(wt=H(t),wt.c(),wt.m(i,W)):wt&&(wt.d(1),wt=null),t[7]>0?$t?$t.p(t,e):($t=U(t),$t.c(),$t.m(Y,null)):$t&&($t.d(1),$t=null),17742337&e[0]){let n;for(zt=Object.entries(t[9]),n=0;n<zt.length;n+=1){const a=V(t,zt,n);Tt[n]?Tt[n].p(a,e):(Tt[n]=nt(a),Tt[n].c(),Tt[n].m(Q,R))}for(;n<Tt.length;n+=1)Tt[n].d(1);Tt.length=zt.length}1&e[0]&&mt!==(mt=t[13].web_data_tags[t[0]]+"")&&m(et,mt),t[9].all_tags?jt?jt.p(t,e):(jt=at(t),jt.c(),jt.m(X,null)):jt&&(jt.d(1),jt=null),1024&e[0]&&vt!==(vt=JSON.parse(JSON.stringify(t[10]))+"")&&m(ct,vt),1&e[0]&&bt!==(bt=t[13].web_data_edit[t[0]]+"")&&m(ut,bt),""!==t[11]?Et?Et.p(t,e):(Et=lt(t),Et.c(),Et.m(ot,null)):Et&&(Et.d(1),Et=null)},i:t,o:t,d(t){t&&s(n),yt&&yt.d(),wt&&wt.d(),$t&&$t.d(),d(Tt,t),jt&&jt.d(),Et&&Et.d(),ht.r(),ft=!1,a(gt)}}}let ht="http://localhost:8000";function ft(t,e,n){let a="en";const i={auth_login_result:{en:"Log in result",ja:"ログイン結果",zh:"登录结果",es:"resultado de inicio de sesión"},auth_sign_out:{en:"Sign out",ja:"サインアウト",zh:"登出",es:"Cerrar sesión"},web_data_tags:{en:"Web data tags",ja:"ウェブデータタグ",zh:"网页数据标签",es:"Etiquetas de datos web"},any_user_new_all_descs_with_tags:{en:"Any user new all descriptions with tags",ja:"任意のユーザーの新しいすべてのタグ付き説明",zh:"任何用户的新所有带标签的描述",es:"Cualquier usuario nuevo todas las descripciones con etiquetas"},all_descs:{en:"All descriptions",ja:"すべての説明",zh:"所有描述",es:"Todas las descripciones"},filtered_all_descs:{en:"Filtered all descriptions",ja:"すべての説明をフィルター",zh:"过滤所有描述",es:"Todas las descripciones filtradas"},web_data_edit:{en:"Web data edit",ja:"ウェブデータ編集",zh:"网页数据编辑",es:"Edición de datos web"},title:{en:"Title",ja:"タイトル",zh:"标题",es:"Título"},description:{en:"Description",ja:"説明",zh:"描述",es:"Descripción"},tag:{en:"Tag",ja:"タグ",zh:"标签",es:"Etiqueta"},set_desc_data:{en:"Set description data",ja:"説明データを設定",zh:"设置描述数据",es:"Establecer datos de descripción"},delete_desc:{en:"Delete description",ja:"説明を削除",zh:"删除描述",es:"Eliminar descripción"},add_tag_to_desc:{en:"Add tag to description",ja:"説明にタグを追加",zh:"添加标签到描述",es:"Agregar etiqueta a la descripción"},update_desc:{en:"Update description",ja:"説明を更新",zh:"更新描述",es:"Actualizar descripción"},insert_desc:{en:"Insert description",ja:"説明を挿入",zh:"插入描述",es:"Insertar descripción"},errors:{en:"Errors",ja:"エラー",zh:"错误",es:"Errores"},is_auth_uid_valid:{en:"Invalid auth_uid",ja:"無効なauth_uid",zh:"无效的auth_uid",es:"auth_uid no válido"},is_title_valid:{ja:"タイトルは1文字以上100文字以下",en:"Title must be between 1 and 100 characters",zh:"标题必须在1到100个字符之间",es:"El título debe tener entre 1 y 100 caracteres"},is_description_valid:{ja:"説明は1文字以上1000文字以下",en:"Description must be between 1 and 1000 characters",zh:"描述必须在1到1000个字符之间",es:"La descripción debe tener entre 1 y 1000 caracteres"},are_tags_valid:{ja:"タグは1文字以上10文字以下",en:"Tags must be between 1 and 10 characters",zh:"标签必须在1到10个字符之间",es:"Las etiquetas deben tener entre 1 y 10 caracteres"},confirm_clear_title_description_tags:{ja:"タイトル、説明、タグをクリアしますか？",en:"Clear title, description, and tags?",zh:"清除标题、描述和标签吗？",es:"¿Borrar título, descripción y etiquetas?"},clear_title_description_tags:{ja:"タイトル、説明、タグをクリア",en:"Clear title, description, and tags",zh:"清除标题、描述和标签",es:"Borrar título, descripción y etiquetas"}};let l="",r=[],o=null,c="",s="",d=[],u=[],_=[],h="Not logged in",f={},g={},p=[],m="",v=!1;function b(t,e){try{const a=r.find((t=>t.name===e));if(a){a.desc_id=t;const e=d.some((t=>t.id==t.id));e||n(6,d=[...d,a]),n(1,l="")}else{const a={id:r.length+1,name:e,desc_id:t,created_at:(new Date).toISOString(),updated_at:(new Date).toISOString()};n(2,r=[...r,a]),n(6,d=[...d,a])}}catch(t){console.error("Error:",t)}}function y(t){try{const e=f.all_descs.find((e=>e.id===t));e?(n(3,o=e.id),n(4,c=e.title),n(5,s=e.description),n(6,d=e.tags)):console.error(`No description found with id: ${t}`)}catch(t){console.error("Error:",t)}}function $(t){u.some((e=>e===t))||(u=[...u,t]);const e=f.all_descs.filter((t=>t.tags.some((t=>u.some((e=>e===t.id))))));n(9,f.filtered_all_descs=e,f)}const z={validate_auth_uid:t=>/^[a-zA-Z0-9_-]+$/.test(t),validate_desc_id:t=>(console.log("validate_desc_id",t),Number.isInteger(t)&&t>0),validate_iso_date:t=>/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$/.test(t),validate_title:t=>(console.log("validate_title",t),"string"==typeof t&&t.length>=1&&t.length<=100),validate_description:t=>(console.log("validate_description",t),"string"==typeof t&&t.length>=1&&t.length<=1e3),validate_tag_name:t=>"string"==typeof t&&t.length>=1&&t.length<=10,validate_data(t){const{auth_uid:e,desc_id:n,title:a,description:i,tags:l}=t;return{is_auth_uid_valid:this.validate_auth_uid(e),is_title_valid:this.validate_title(a),is_description_valid:this.validate_description(i),are_tags_valid:l.every((t=>this.validate_tag_name(t.name)))}}};function T(){const t={auth_uid:m,desc_id:o,title:c,description:s,tags:d};n(7,_=[]);for(const[e,n]of Object.entries(z.validate_data(t)))if(n||_.push(i[e][a]),"tags"===e)for(const[t,e]of n.entries())for(const[n,a]of Object.entries(z.validate_data(e)))a||_.push(`tags[${t}].${n}`);else"auth_uid"===e&&z.validate_auth_uid(m),"desc_id"===e&&z.validate_desc_id(o),"title"===e&&z.validate_title(c),"description"===e&&z.validate_description(s);return!(_.length>0)||(console.log(_),!1)}async function j(){try{if(!T())throw new Error("Validation failed");const t=await fetch("http://localhost:8000/insert_desc",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({auth_uid:m,title:c,description:s,tags:d})});await E(t)}catch(t){console.error("Error:",t)}}async function E(t){try{const e=await t.json();g=Object.fromEntries(Object.entries(e).filter((([t,e])=>"all_descs"!==t&&"all_tags"!==t&&"any_user_new_all_descs_with_tags"!==t))),n(9,f=Object.fromEntries(Object.entries(e).filter((([t,e])=>"all_descs"===t||"all_tags"===t||"any_user_new_all_descs_with_tags"===t)))),n(2,r=e.all_tags)}catch(t){console.error("Error:",t)}}async function k(){try{const t=await fetch(ht+"/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({auth_uid:m})});await E(t)}catch(t){console.error("Error:",t)}}async function x(t){try{const e=await fetch(ht+"/delete_desc",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t,auth_uid:m})});await E(e)}catch(t){console.error("Error:",t)}}firebase.initializeApp({apiKey:"AIzaSyBcOlIDP2KWbJuKM0WeMHNp-WvjTVfLt9Y",authDomain:"p2auth-ea50a.firebaseapp.com",projectId:"p2auth-ea50a",storageBucket:"p2auth-ea50a.appspot.com",messagingSenderId:"796225429484",appId:"1:796225429484:web:ece56ef2fc0be28cd6eac9"});const O=new firebase.auth.GoogleAuthProvider;const N=[{auth_uid:"user1",desc_id:1,created_at:"2024-09-01T00:00:00",updated_at:"2024-09-01T00:00:00",title:"foo1",description:"bar1",tags:[{desc_id:1,id:1,name:"tag1",created_at:"2024-09-01T00:00:00",updated_at:"2024-09-01T00:00:00"},{desc_id:1,id:2,name:"tag2",created_at:"2024-09-01T00:00:00",updated_at:"2024-09-01T00:00:00"},{desc_id:1,id:3,name:"tag3",created_at:"2024-09-01T00:00:00",updated_at:"2024-09-01T00:00:00"}]},{auth_uid:"user1",desc_id:2,created_at:"2024-09-01T00:00:00",updated_at:"2024-09-01T00:00:00",title:"foo2",description:"bar2",tags:[{desc_id:2,id:1,name:"tag1",created_at:"2024-09-01T00:00:00",updated_at:"2024-09-01T00:00:00"},{desc_id:2,id:2,name:"tag2",created_at:"2024-09-01T00:00:00",updated_at:"2024-09-01T00:00:00"}]},{auth_uid:"user2",desc_id:3,created_at:"2024-09-01T00:00:00",updated_at:"2024-09-01T00:00:00",title:"foo3",description:"bar3",tags:[{desc_id:3,id:2,name:"tag2",created_at:"2024-09-01T00:00:00",updated_at:"2024-09-01T00:00:00"},{desc_id:3,id:3,name:"tag3",created_at:"2024-09-01T00:00:00",updated_at:"2024-09-01T00:00:00"}]}],S=[{auth_uid:"user1",desc_id:4,created_at:"2024-09-01T00:00:00",updated_at:"2024-09-01T00:00:00",title:"a".repeat(100),description:"b".repeat(1e3),tags:[{desc_id:4,id:4,name:"tag4",created_at:"2024-09-01T00:00:00",updated_at:"2024-09-01T00:00:00"}]},{auth_uid:"user1",desc_id:5,created_at:"2024-09-01T00:00:00",updated_at:"2024-09-01T00:00:00",title:"",description:"",tags:[{desc_id:5,id:5,name:"t".repeat(10),created_at:"2024-09-01T00:00:00",updated_at:"2024-09-01T00:00:00"}]}];w((async()=>{await async function(){try{const t=await new Promise(((t,e)=>{firebase.auth().onAuthStateChanged(t,e)}));console.log("Current user:",t),t?(n(11,m=t.uid),n(8,h="Logged in")):(console.log(2),n(8,h="Not logged in"),n(11,m=""))}catch(t){console.error("Error during authentication:",t),n(8,h="Authentication failed"),n(11,m="")}}(),console.log("auth_check_login"),await k(),console.log("fetch_get_all_descs_and_tags"),function(){if(location.hash){const t=location.hash.slice(1),e=document.getElementById(t);e&&e.scrollIntoView({behavior:"smooth"})}}()}));return(async()=>{})(),[a,l,r,o,c,s,d,_,h,f,p,m,v,i,function(){confirm(i.confirm_clear_title_description_tags[a])&&(n(4,c=""),n(5,s=""),n(6,d=[]),n(3,o=null))},function(){n(12,v=!v)},b,y,$,async function(){u=[],n(10,p=[]),await k()},async function(){try{for(const t of N)n(11,m=t.auth_uid),n(3,o=t.desc_id),n(4,c=t.title),n(5,s=t.description),n(6,d=t.tags),await j()}catch(t){console.error("Error:",t)}},j,k,async function(){try{if(!T())throw new Error("Validation failed");const t=await fetch(ht+"/update_desc",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({auth_uid:m,desc_id:o,title:c,description:s,tags:d})});await E(t)}catch(t){console.error("Error:",t)}},x,async function(){try{console.log("auth_google_login");const t=(await firebase.auth().signInWithPopup(O)).user;console.log(4),n(8,h=`Logged in as: ${t.displayName}`)}catch(t){console.error("Error during Google login:",t),alert("Google login failed. "+t.message)}},async function(){try{console.log(5),await firebase.auth().signOut(),n(8,h="Not logged in")}catch(t){console.error("Error during sign-out:",t),alert("Sign out failed. "+t.message)}},function(){n(4,c=S[1].title),n(5,s=S[1].description),n(6,d=S[1].tags),j()},function(){a=this.__value,n(0,a)},[[]],function(){a=this.__value,n(0,a)},function(){a=this.__value,n(0,a)},function(){a=this.__value,n(0,a)},t=>{return e=t.id,navigator.clipboard.writeText(`${window.location.href.split("#")[0]}#${e}`),void alert("Link copied to clipboard");var e},t=>y(t.id),t=>x(t.id),t=>$(t.id),t=>$(t.id),function(){c=this.value,n(4,c)},function(){s=this.value,n(5,s)},t=>n(6,d=d.filter((e=>e.id!==t.id))),function(){l=this.value,n(1,l)},()=>b(o,l)]}return new class extends L{constructor(t){super(),J(this,t,ft,_t,l,{},null,[-1,-1,-1])}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
