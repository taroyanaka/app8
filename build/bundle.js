var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function l(t){t.forEach(e)}function a(t){return"function"==typeof t}function o(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function i(t){return null==t?"":t}function c(t,e){t.appendChild(e)}function s(t,e,n){t.insertBefore(e,n||null)}function r(t){t.parentNode&&t.parentNode.removeChild(t)}function d(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function u(t){return document.createElement(t)}function _(t){return document.createTextNode(t)}function g(){return _(" ")}function f(){return _("")}function h(t,e,n,l){return t.addEventListener(e,n,l),()=>t.removeEventListener(e,n,l)}function p(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function m(t,e){e=""+e,t.data!==e&&(t.data=e)}function v(t,e){t.value=null==e?"":e}function b(t,e,n){for(let n=0;n<t.options.length;n+=1){const l=t.options[n];if(l.__value===e)return void(l.selected=!0)}n&&void 0===e||(t.selectedIndex=-1)}function k(t){const e=t.querySelector(":checked");return e&&e.__value}function y(t,e,n){t.classList[n?"add":"remove"](e)}let w;function $(t){w=t}function j(t){(function(){if(!w)throw new Error("Function called outside component initialization");return w})().$$.on_mount.push(t)}const T=[],E=[];let z=[];const x=[],C=Promise.resolve();let N=!1;function O(t){z.push(t)}const S=new Set;let I=0;function A(){if(0!==I)return;const t=w;do{try{for(;I<T.length;){const t=T[I];I++,$(t),P(t.$$)}}catch(t){throw T.length=0,I=0,t}for($(null),T.length=0,I=0;E.length;)E.pop()();for(let t=0;t<z.length;t+=1){const e=z[t];S.has(e)||(S.add(e),e())}z.length=0}while(T.length);for(;x.length;)x.pop()();N=!1,S.clear(),$(t)}function P(t){if(null!==t.fragment){t.update(),l(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(O)}}const q=new Set;function L(t,e){const n=t.$$;null!==n.fragment&&(!function(t){const e=[],n=[];z.forEach((l=>-1===t.indexOf(l)?e.push(l):n.push(l))),n.forEach((t=>t())),z=e}(n.after_update),l(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function D(t,e){-1===t.$$.dirty[0]&&(T.push(t),N||(N=!0,C.then(A)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function B(o,i,c,s,d,u,_,g=[-1]){const f=w;$(o);const h=o.$$={fragment:null,ctx:[],props:u,update:t,not_equal:d,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(i.context||(f?f.$$.context:[])),callbacks:n(),dirty:g,skip_bound:!1,root:i.target||f.$$.root};_&&_(h.root);let p=!1;if(h.ctx=c?c(o,i.props||{},((t,e,...n)=>{const l=n.length?n[0]:e;return h.ctx&&d(h.ctx[t],h.ctx[t]=l)&&(!h.skip_bound&&h.bound[t]&&h.bound[t](l),p&&D(o,t)),e})):[],h.update(),p=!0,l(h.before_update),h.fragment=!!s&&s(h.ctx),i.target){if(i.hydrate){const t=function(t){return Array.from(t.childNodes)}(i.target);h.fragment&&h.fragment.l(t),t.forEach(r)}else h.fragment&&h.fragment.c();i.intro&&((m=o.$$.fragment)&&m.i&&(q.delete(m),m.i(v))),function(t,n,o,i){const{fragment:c,after_update:s}=t.$$;c&&c.m(n,o),i||O((()=>{const n=t.$$.on_mount.map(e).filter(a);t.$$.on_destroy?t.$$.on_destroy.push(...n):l(n),t.$$.on_mount=[]})),s.forEach(O)}(o,i.target,i.anchor,i.customElement),A()}var m,v;$(f)}class W{$destroy(){L(this,1),this.$destroy=t}$on(e,n){if(!a(n))return t;const l=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return l.push(n),()=>{const t=l.indexOf(n);-1!==t&&l.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function J(t,e,n){const l=t.slice();return l[77]=e[n],l}function M(t,e,n){const l=t.slice();return l[80]=e[n],l}function V(t,e,n){const l=t.slice();return l[80]=e[n],l}function F(t,e,n){const l=t.slice();return l[85]=e[n][0],l[86]=e[n][1],l}function G(t,e,n){const l=t.slice();return l[80]=e[n],l}function K(t,e,n){const l=t.slice();return l[91]=e[n],l}function H(t,e,n){const l=t.slice();return l[80]=e[n],l}function U(t,e,n){const l=t.slice();return l[96]=e[n],l}function Y(t,e,n){const l=t.slice();return l[80]=e[n],l}function Z(t,e,n){const l=t.slice();return l[80]=e[n],l}function Q(t,e,n){const l=t.slice();return l[103]=e[n],l}function R(t,e,n){const l=t.slice();return l[77]=e[n],l}function X(t,e,n){const l=t.slice();return l[108]=e[n],l}function tt(t,e,n){const l=t.slice();return l[111]=e[n],l}function et(t){let e,n,a,o,i,f,v,k,y,w,$,j,T,E,z,x,C,N,S,I,A,P,q,L,D,B=t[22].select_language[t[5]]+"",W=t[22].sort[t[5]]+"",J=t[22].auth_login_result[t[5]]+"",M=t[4]&&nt(t),V=t[23],F=[];for(let e=0;e<V.length;e+=1)F[e]=lt(tt(t,V,e));let G=["desc","asc"],K=[];for(let e=0;e<2;e+=1)K[e]=at(X(t,G,e));let H=""===t[17]&&ot(t),U=""!==t[17]&&it(t);return{c(){e=u("div"),n=u("button"),a=_(B),o=g(),M&&M.c(),i=g(),f=u("div"),v=u("select");for(let t=0;t<F.length;t+=1)F[t].c();k=g(),y=u("select");for(let t=0;t<2;t+=1)K[t].c();w=g(),$=u("button"),j=_(W),T=g(),E=u("div"),E.textContent="v1.2.1",z=g(),x=u("div"),C=_(J),N=_(": "),S=u("span"),I=_(t[15]),A=g(),H&&H.c(),P=g(),U&&U.c(),q=g(),p(n,"class","svelte-io8kt7"),void 0===t[6].kind&&O((()=>t[45].call(v))),void 0===t[6].order&&O((()=>t[46].call(y))),p($,"class","svelte-io8kt7"),p(E,"class","version"),p(e,"class","menu_list svelte-io8kt7")},m(l,r){s(l,e,r),c(e,n),c(n,a),c(e,o),M&&M.m(e,null),c(e,i),c(e,f),c(f,v);for(let t=0;t<F.length;t+=1)F[t]&&F[t].m(v,null);b(v,t[6].kind,!0),c(f,k),c(f,y);for(let t=0;t<2;t+=1)K[t]&&K[t].m(y,null);b(y,t[6].order,!0),c(f,w),c(f,$),c($,j),c(e,T),c(e,E),c(e,z),c(e,x),c(x,C),c(x,N),c(x,S),c(S,I),c(e,A),H&&H.m(e,null),c(e,P),U&&U.m(e,null),c(e,q),L||(D=[h(n,"click",t[21]),h(v,"change",t[45]),h(y,"change",t[46]),h($,"click",t[24])],L=!0)},p(t,n){if(32&n[0]&&B!==(B=t[22].select_language[t[5]]+"")&&m(a,B),t[4]?M?M.p(t,n):(M=nt(t),M.c(),M.m(e,i)):M&&(M.d(1),M=null),8388608&n[0]){let e;for(V=t[23],e=0;e<V.length;e+=1){const l=tt(t,V,e);F[e]?F[e].p(l,n):(F[e]=lt(l),F[e].c(),F[e].m(v,null))}for(;e<F.length;e+=1)F[e].d(1);F.length=V.length}8388672&n[0]&&b(v,t[6].kind),8388672&n[0]&&b(y,t[6].order),32&n[0]&&W!==(W=t[22].sort[t[5]]+"")&&m(j,W),32&n[0]&&J!==(J=t[22].auth_login_result[t[5]]+"")&&m(C,J),32768&n[0]&&m(I,t[15]),""===t[17]?H?H.p(t,n):(H=ot(t),H.c(),H.m(e,P)):H&&(H.d(1),H=null),""!==t[17]?U?U.p(t,n):(U=it(t),U.c(),U.m(e,q)):U&&(U.d(1),U=null)},d(t){t&&r(e),M&&M.d(),d(F,t),d(K,t),H&&H.d(),U&&U.d(),L=!1,l(D)}}}function nt(t){let e,n,a,o,i,d,f,v,b,k,y,w,$,j,T,E,z,x,C,N,O,S,I,A,P,q,L=t[22].select_language[t[5]]+"";return A=function(t){let e;return{p(...n){e=n,e.forEach((e=>t.push(e)))},r(){e.forEach((e=>t.splice(t.indexOf(e),1)))}}}(t[41][0]),{c(){e=u("div"),n=u("div"),a=u("button"),a.textContent="×",o=g(),i=u("h2"),d=_(L),f=g(),v=u("div"),b=u("input"),k=g(),y=u("label"),y.textContent="🇺🇸 English",w=g(),$=u("input"),j=g(),T=u("label"),T.textContent="🇯🇵 日本語",E=g(),z=u("input"),x=g(),C=u("label"),C.textContent="🇨🇳🇹🇼 中文",N=g(),O=u("input"),S=g(),I=u("label"),I.textContent="🇪🇸 Español",p(a,"class","close svelte-io8kt7"),p(b,"type","radio"),p(b,"id","en"),p(b,"name","design_lang"),b.__value="en",b.value=b.__value,p(y,"for","en"),p($,"type","radio"),p($,"id","ja"),p($,"name","design_lang"),$.__value="ja",$.value=$.__value,p(T,"for","ja"),p(z,"type","radio"),p(z,"id","zh"),p(z,"name","design_lang"),z.__value="zh",z.value=z.__value,p(C,"for","zh"),p(O,"type","radio"),p(O,"id","es"),p(O,"name","design_lang"),O.__value="es",O.value=O.__value,p(I,"for","es"),p(n,"class","modal-content svelte-io8kt7"),p(e,"class","modal svelte-io8kt7"),A.p(b,$,z,O)},m(l,r){s(l,e,r),c(e,n),c(n,a),c(n,o),c(n,i),c(i,d),c(n,f),c(n,v),c(v,b),b.checked=b.__value===t[5],c(v,k),c(v,y),c(v,w),c(v,$),$.checked=$.__value===t[5],c(v,j),c(v,T),c(v,E),c(v,z),z.checked=z.__value===t[5],c(v,x),c(v,C),c(v,N),c(v,O),O.checked=O.__value===t[5],c(v,S),c(v,I),P||(q=[h(a,"click",t[21]),h(b,"change",t[40]),h($,"change",t[42]),h(z,"change",t[43]),h(O,"change",t[44])],P=!0)},p(t,e){32&e[0]&&L!==(L=t[22].select_language[t[5]]+"")&&m(d,L),32&e[0]&&(b.checked=b.__value===t[5]),32&e[0]&&($.checked=$.__value===t[5]),32&e[0]&&(z.checked=z.__value===t[5]),32&e[0]&&(O.checked=O.__value===t[5])},d(t){t&&r(e),A.r(),P=!1,l(q)}}}function lt(e){let n,l,a=e[111]+"";return{c(){n=u("option"),l=_(a),n.__value=e[111],n.value=n.__value},m(t,e){s(t,n,e),c(n,l)},p:t,d(t){t&&r(n)}}}function at(e){let n,l;return{c(){n=u("option"),l=_(e[108]),n.__value=e[108],n.value=n.__value},m(t,e){s(t,n,e),c(n,l)},p:t,d(t){t&&r(n)}}}function ot(e){let n,l,a,o,i;return{c(){n=u("div"),l=_("auth_google_login: "),a=u("button"),a.textContent="auth_google_login",p(a,"class","svelte-io8kt7")},m(t,r){s(t,n,r),c(n,l),c(n,a),o||(i=h(a,"click",e[37]),o=!0)},p:t,d(t){t&&r(n),o=!1,i()}}}function it(t){let e,n,l,a,o,i=t[22].auth_sign_out[t[5]]+"";return{c(){e=u("div"),n=u("button"),l=_(i),p(n,"class","svelte-io8kt7")},m(i,r){s(i,e,r),c(e,n),c(n,l),a||(o=h(n,"click",t[38]),a=!0)},p(t,e){32&e[0]&&i!==(i=t[22].auth_sign_out[t[5]]+"")&&m(l,i)},d(t){t&&r(e),a=!1,o()}}}function ct(t){let e,n,l,a=t[14],o=[];for(let e=0;e<a.length;e+=1)o[e]=st(R(t,a,e));return{c(){e=u("p"),e.textContent="Errors:",n=g();for(let t=0;t<o.length;t+=1)o[t].c();l=f()},m(t,a){s(t,e,a),s(t,n,a);for(let e=0;e<o.length;e+=1)o[e]&&o[e].m(t,a);s(t,l,a)},p(t,e){if(16384&e[0]){let n;for(a=t[14],n=0;n<a.length;n+=1){const i=R(t,a,n);o[n]?o[n].p(i,e):(o[n]=st(i),o[n].c(),o[n].m(l.parentNode,l))}for(;n<o.length;n+=1)o[n].d(1);o.length=a.length}},d(t){t&&r(e),t&&r(n),d(o,t),t&&r(l)}}}function st(t){let e,n,l=t[77]+"";return{c(){e=u("div"),n=_(l)},m(t,l){s(t,e,l),c(e,n)},p(t,e){16384&e[0]&&l!==(l=t[77]+"")&&m(n,l)},d(t){t&&r(e)}}}function rt(t){let e,n,l,a,o,i=(t[22][t[103]]?t[22][t[103]][t[5]]:t[103])+"";function d(){return t[48](t[103])}return{c(){e=u("button"),n=_(i),l=g(),p(e,"class","svelte-io8kt7"),y(e,"active",t[2]===t[103])},m(t,i){s(t,e,i),c(e,n),c(e,l),a||(o=h(e,"click",d),a=!0)},p(l,a){t=l,65568&a[0]&&i!==(i=(t[22][t[103]]?t[22][t[103]][t[5]]:t[103])+"")&&m(n,i),65540&a[0]&&y(e,"active",t[2]===t[103])},d(t){t&&r(e),a=!1,o()}}}function dt(t){let e,n="all_tags"!==t[103]&&rt(t);return{c(){n&&n.c(),e=f()},m(t,l){n&&n.m(t,l),s(t,e,l)},p(t,l){"all_tags"!==t[103]?n?n.p(t,l):(n=rt(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&r(e)}}}function ut(t){let e,n="all_tags"!==t[2]&&t[2]===t[85]&&_t(t);return{c(){n&&n.c(),e=f()},m(t,l){n&&n.m(t,l),s(t,e,l)},p(t,l){"all_tags"!==t[2]&&t[2]===t[85]?n?n.p(t,l):(n=_t(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&r(e)}}}function _t(t){let e,n,l,a="filtered_all_descs"===t[85]&&gt(t),o=t[86],_=[];for(let e=0;e<o.length;e+=1)_[e]=yt(K(t,o,e));return{c(){e=u("div"),a&&a.c(),n=g();for(let t=0;t<_.length;t+=1)_[t].c();p(e,"class",l=i(t[85])+" svelte-io8kt7")},m(t,l){s(t,e,l),a&&a.m(e,null),c(e,n);for(let t=0;t<_.length;t+=1)_[t]&&_[t].m(e,null)},p(t,c){if("filtered_all_descs"===t[85]?a?a.p(t,c):(a=gt(t),a.c(),a.m(e,n)):a&&(a.d(1),a=null),877068320&c[0]|32&c[1]){let n;for(o=t[86],n=0;n<o.length;n+=1){const l=K(t,o,n);_[n]?_[n].p(l,c):(_[n]=yt(l),_[n].c(),_[n].m(e,null))}for(;n<_.length;n+=1)_[n].d(1);_.length=o.length}65536&c[0]&&l!==(l=i(t[85])+" svelte-io8kt7")&&p(e,"class",l)},d(t){t&&r(e),a&&a.d(),d(_,t)}}}function gt(t){let e,n,l,a,o,i,v,b,k,y,w,$=t[22].clear_filtered_all_descs[t[5]]+"",j=t[8],T=[];for(let e=0;e<j.length;e+=1)T[e]=ft(Z(t,j,e));let E=t[13],z=[];for(let e=0;e<E.length;e+=1)z[e]=mt(U(t,E,e));return{c(){e=_("all_tags: \n\t\t\t\t\t"),n=u("div");for(let t=0;t<T.length;t+=1)T[t].c();l=g(),a=u("div"),o=g(),i=u("button"),v=_($),b=g();for(let t=0;t<z.length;t+=1)z[t].c();k=f(),p(n,"class","parent_tags svelte-io8kt7"),p(a,"class","each_desc_border svelte-io8kt7"),p(i,"class","svelte-io8kt7")},m(r,d){s(r,e,d),s(r,n,d);for(let t=0;t<T.length;t+=1)T[t]&&T[t].m(n,null);s(r,l,d),s(r,a,d),s(r,o,d),s(r,i,d),c(i,v),s(r,b,d);for(let t=0;t<z.length;t+=1)z[t]&&z[t].m(r,d);s(r,k,d),y||(w=h(i,"click",t[30]),y=!0)},p(t,e){if(536871168&e[0]){let l;for(j=t[8],l=0;l<j.length;l+=1){const a=Z(t,j,l);T[l]?T[l].p(a,e):(T[l]=ft(a),T[l].c(),T[l].m(n,null))}for(;l<T.length;l+=1)T[l].d(1);T.length=j.length}if(32&e[0]&&$!==($=t[22].clear_filtered_all_descs[t[5]]+"")&&m(v,$),8448&e[0]|1&e[1]){let n;for(E=t[13],n=0;n<E.length;n+=1){const l=U(t,E,n);z[n]?z[n].p(l,e):(z[n]=mt(l),z[n].c(),z[n].m(k.parentNode,k))}for(;n<z.length;n+=1)z[n].d(1);z.length=E.length}},d(t){t&&r(e),t&&r(n),d(T,t),t&&r(l),t&&r(a),t&&r(o),t&&r(i),t&&r(b),d(z,t),t&&r(k),y=!1,w()}}}function ft(t){let e,n,l,a,o=t[80].name+"";function i(){return t[49](t[80])}return{c(){e=u("button"),n=_(o),p(e,"class","tag svelte-io8kt7")},m(t,o){s(t,e,o),c(e,n),l||(a=h(e,"click",i),l=!0)},p(e,l){t=e,256&l[0]&&o!==(o=t[80].name+"")&&m(n,o)},d(t){t&&r(e),l=!1,a()}}}function ht(t){let e,n,l,a,o=t[80].name+"";function i(){return t[50](t[80])}return{c(){e=u("button"),n=_(o),p(e,"class","tag svelte-io8kt7")},m(t,o){s(t,e,o),c(e,n),l||(a=h(e,"click",i),l=!0)},p(e,l){t=e,256&l[0]&&o!==(o=t[80].name+"")&&m(n,o)},d(t){t&&r(e),l=!1,a()}}}function pt(t){let e,n=t[80].id===t[96]&&ht(t);return{c(){n&&n.c(),e=f()},m(t,l){n&&n.m(t,l),s(t,e,l)},p(t,l){t[80].id===t[96]?n?n.p(t,l):(n=ht(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&r(e)}}}function mt(t){let e,n,l=t[8],a=[];for(let e=0;e<l.length;e+=1)a[e]=pt(Y(t,l,e));return{c(){e=u("div");for(let t=0;t<a.length;t+=1)a[t].c();n=g(),p(e,"class","parent_tags svelte-io8kt7")},m(t,l){s(t,e,l);for(let t=0;t<a.length;t+=1)a[t]&&a[t].m(e,null);c(e,n)},p(t,o){if(8448&o[0]|1&o[1]){let i;for(l=t[8],i=0;i<l.length;i+=1){const c=Y(t,l,i);a[i]?a[i].p(c,o):(a[i]=pt(c),a[i].c(),a[i].m(e,n))}for(;i<a.length;i+=1)a[i].d(1);a.length=l.length}},d(t){t&&r(e),d(a,t)}}}function vt(t){let e,n=t[91].tags,l=[];for(let e=0;e<n.length;e+=1)l[e]=bt(H(t,n,e));return{c(){e=u("div");for(let t=0;t<l.length;t+=1)l[t].c();p(e,"class","desc_tags svelte-io8kt7")},m(t,n){s(t,e,n);for(let t=0;t<l.length;t+=1)l[t]&&l[t].m(e,null)},p(t,a){if(536936448&a[0]){let o;for(n=t[91].tags,o=0;o<n.length;o+=1){const i=H(t,n,o);l[o]?l[o].p(i,a):(l[o]=bt(i),l[o].c(),l[o].m(e,null))}for(;o<l.length;o+=1)l[o].d(1);l.length=n.length}},d(t){t&&r(e),d(l,t)}}}function bt(t){let e,n,l,a,o=t[80].name+"";function i(){return t[51](t[80])}return{c(){e=u("button"),n=_(o),p(e,"class","tag svelte-io8kt7")},m(t,o){s(t,e,o),c(e,n),l||(a=h(e,"click",i),l=!0)},p(e,l){t=e,65536&l[0]&&o!==(o=t[80].name+"")&&m(n,o)},d(t){t&&r(e),l=!1,a()}}}function kt(t){let e,n,a,o,i,d,f,v=t[22].set_desc_data[t[5]]+"",b=t[22].delete_desc[t[5]]+"";function k(){return t[53](t[91])}function y(){return t[54](t[91])}return{c(){e=u("button"),n=_(v),a=g(),o=u("button"),i=_(b),p(e,"class","set_desc_data svelte-io8kt7"),p(o,"class","fetch_delete_desc svelte-io8kt7")},m(t,l){s(t,e,l),c(e,n),s(t,a,l),s(t,o,l),c(o,i),d||(f=[h(e,"click",k),h(o,"click",y)],d=!0)},p(e,l){t=e,32&l[0]&&v!==(v=t[22].set_desc_data[t[5]]+"")&&m(n,v),32&l[0]&&b!==(b=t[22].delete_desc[t[5]]+"")&&m(i,b)},d(t){t&&r(e),t&&r(a),t&&r(o),d=!1,l(f)}}}function yt(t){let e,n,a,o,i,d,f,v,b,k,y,w,$,j,T,E,z,x,C,N=t[91].title+"",O=(t[91].description.length>200&&!t[18]?t[91].description.slice(0,200)+"...▼":t[91].description)+"",S=t[91].id+"",I=t[91].tags&&vt(t);function A(){return t[52](t[91])}let P="any_user_new_all_descs_with_tags"===t[85]&&t[17]&&kt(t);return{c(){e=u("div"),n=u("p"),a=_(N),o=g(),i=u("p"),d=u("button"),f=_(O),v=g(),I&&I.c(),b=g(),k=u("div"),y=u("p"),w=u("button"),$=_("id: "),j=_(S),T=g(),P&&P.c(),z=g(),p(n,"class","title break_word_title svelte-io8kt7"),p(d,"class","button_reset break_word svelte-io8kt7"),p(i,"class","break_word svelte-io8kt7"),p(w,"class","id button_reset svelte-io8kt7"),p(y,"id",E=t[91].id),p(y,"class","id_and_set_delete svelte-io8kt7"),p(k,"class","each_desc_border svelte-io8kt7")},m(l,r){s(l,e,r),c(e,n),c(n,a),c(e,o),c(e,i),c(i,d),c(d,f),c(e,v),I&&I.m(e,null),s(l,b,r),s(l,k,r),c(k,y),c(y,w),c(w,$),c(w,j),c(y,T),P&&P.m(y,null),c(k,z),x||(C=[h(d,"click",t[26]),h(w,"click",A)],x=!0)},p(n,l){t=n,65536&l[0]&&N!==(N=t[91].title+"")&&m(a,N),327680&l[0]&&O!==(O=(t[91].description.length>200&&!t[18]?t[91].description.slice(0,200)+"...▼":t[91].description)+"")&&m(f,O),t[91].tags?I?I.p(t,l):(I=vt(t),I.c(),I.m(e,null)):I&&(I.d(1),I=null),65536&l[0]&&S!==(S=t[91].id+"")&&m(j,S),"any_user_new_all_descs_with_tags"===t[85]&&t[17]?P?P.p(t,l):(P=kt(t),P.c(),P.m(y,null)):P&&(P.d(1),P=null),65536&l[0]&&E!==(E=t[91].id)&&p(y,"id",E)},d(t){t&&r(e),I&&I.d(),t&&r(b),t&&r(k),P&&P.d(),x=!1,l(C)}}}function wt(t){let e,n,l,a,o,i=t[22].web_data_tags[t[5]]+"",d=t[16].all_tags&&$t(t);return{c(){e=u("div"),n=u("h1"),l=_(i),a=g(),d&&d.c(),o=g(),p(n,"class","svelte-io8kt7"),p(e,"class","web_data_tags svelte-io8kt7")},m(t,i){s(t,e,i),c(e,n),c(n,l),c(e,a),d&&d.m(e,null),c(e,o)},p(t,n){32&n[0]&&i!==(i=t[22].web_data_tags[t[5]]+"")&&m(l,i),t[16].all_tags?d?d.p(t,n):(d=$t(t),d.c(),d.m(e,o)):d&&(d.d(1),d=null)},d(t){t&&r(e),d&&d.d()}}}function $t(t){let e,n=t[16].all_tags,l=[];for(let e=0;e<n.length;e+=1)l[e]=jt(G(t,n,e));return{c(){e=u("div");for(let t=0;t<l.length;t+=1)l[t].c();p(e,"class","parent_tags svelte-io8kt7")},m(t,n){s(t,e,n);for(let t=0;t<l.length;t+=1)l[t]&&l[t].m(e,null)},p(t,a){if(536936448&a[0]){let o;for(n=t[16].all_tags,o=0;o<n.length;o+=1){const i=G(t,n,o);l[o]?l[o].p(i,a):(l[o]=jt(i),l[o].c(),l[o].m(e,null))}for(;o<l.length;o+=1)l[o].d(1);l.length=n.length}},d(t){t&&r(e),d(l,t)}}}function jt(t){let e,n,l,a,o=t[80].name+"";function i(){return t[55](t[80])}return{c(){e=u("button"),n=_(o),p(e,"class","tag svelte-io8kt7")},m(t,o){s(t,e,o),c(e,n),l||(a=h(e,"click",i),l=!0)},p(e,l){t=e,65536&l[0]&&o!==(o=t[80].name+"")&&m(n,o)},d(t){t&&r(e),l=!1,a()}}}function Tt(t){let e,n,l="all_tags"!==t[85]&&ut(t),a="all_tags"===t[2]&&"all_tags"===t[85]&&wt(t);return{c(){l&&l.c(),e=g(),a&&a.c(),n=f()},m(t,o){l&&l.m(t,o),s(t,e,o),a&&a.m(t,o),s(t,n,o)},p(t,o){"all_tags"!==t[85]?l?l.p(t,o):(l=ut(t),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null),"all_tags"===t[2]&&"all_tags"===t[85]?a?a.p(t,o):(a=wt(t),a.c(),a.m(n.parentNode,n)):a&&(a.d(1),a=null)},d(t){l&&l.d(t),t&&r(e),a&&a.d(t),t&&r(n)}}}function Et(t){let e,n,a,o,i,b,k,y,w,$,j,T,E,z,x,C,N,O,S,I,A,P,q,L,D,B,W,J,F,G=t[22].clear_title_description_tags[t[5]]+"",K=t[22].tag[t[5]]+"",H=t[22].add_tag_to_desc[t[5]]+"",U=null!==t[9]&&zt(t),Y=t[12],Z=[];for(let e=0;e<Y.length;e+=1)Z[e]=xt(V(t,Y,e));let Q=t[8],R=[];for(let e=0;e<Q.length;e+=1)R[e]=Ct(M(t,Q,e));let X=t[14].length>0&&Nt(t),tt=null===t[9]&&St(t),et=null!==t[9]&&It(t);return{c(){U&&U.c(),e=g(),n=u("button"),a=_(G),o=g(),i=u("div"),i.textContent="title:",b=g(),k=u("textarea"),y=g(),w=u("div"),w.textContent="description:",$=g(),j=u("textarea"),T=g(),E=u("div");for(let t=0;t<Z.length;t+=1)Z[t].c();z=g(),x=u("label"),C=_(K),N=g(),O=u("input"),S=g(),I=u("datalist");for(let t=0;t<R.length;t+=1)R[t].c();A=g(),P=u("button"),q=_(H),L=g(),X&&X.c(),D=g(),tt&&tt.c(),B=g(),et&&et.c(),W=f(),p(n,"class","svelte-io8kt7"),p(k,"class","title svelte-io8kt7"),p(k,"minlength","1"),p(k,"maxlength","100"),k.required=!0,p(k,"placeholder","1_100"),p(j,"class","description svelte-io8kt7"),p(j,"minlength","1"),p(j,"maxlength","1000"),j.required=!0,p(j,"placeholder","1_1000"),p(x,"for","my_all_tags"),p(O,"list","all_tags"),p(O,"id","my_all_tags"),p(O,"name","my_all_tags"),p(O,"minlength","1"),p(O,"maxlength","10"),O.required=!0,p(O,"placeholder","1_10"),p(I,"id","all_tags"),p(P,"class","svelte-io8kt7")},m(l,r){U&&U.m(l,r),s(l,e,r),s(l,n,r),c(n,a),s(l,o,r),s(l,i,r),s(l,b,r),s(l,k,r),v(k,t[10]),s(l,y,r),s(l,w,r),s(l,$,r),s(l,j,r),v(j,t[11]),s(l,T,r),s(l,E,r);for(let t=0;t<Z.length;t+=1)Z[t]&&Z[t].m(E,null);s(l,z,r),s(l,x,r),c(x,C),s(l,N,r),s(l,O,r),v(O,t[7]),s(l,S,r),s(l,I,r);for(let t=0;t<R.length;t+=1)R[t]&&R[t].m(I,null);s(l,A,r),s(l,P,r),c(P,q),s(l,L,r),X&&X.m(l,r),s(l,D,r),tt&&tt.m(l,r),s(l,B,r),et&&et.m(l,r),s(l,W,r),J||(F=[h(n,"click",t[57]),h(k,"input",t[58]),h(j,"input",t[59]),h(O,"input",t[61]),h(P,"click",t[62])],J=!0)},p(t,n){if(null!==t[9]?U?U.p(t,n):(U=zt(t),U.c(),U.m(e.parentNode,e)):U&&(U.d(1),U=null),32&n[0]&&G!==(G=t[22].clear_title_description_tags[t[5]]+"")&&m(a,G),1024&n[0]&&v(k,t[10]),2048&n[0]&&v(j,t[11]),4096&n[0]){let e;for(Y=t[12],e=0;e<Y.length;e+=1){const l=V(t,Y,e);Z[e]?Z[e].p(l,n):(Z[e]=xt(l),Z[e].c(),Z[e].m(E,null))}for(;e<Z.length;e+=1)Z[e].d(1);Z.length=Y.length}if(32&n[0]&&K!==(K=t[22].tag[t[5]]+"")&&m(C,K),128&n[0]&&O.value!==t[7]&&v(O,t[7]),256&n[0]){let e;for(Q=t[8],e=0;e<Q.length;e+=1){const l=M(t,Q,e);R[e]?R[e].p(l,n):(R[e]=Ct(l),R[e].c(),R[e].m(I,null))}for(;e<R.length;e+=1)R[e].d(1);R.length=Q.length}32&n[0]&&H!==(H=t[22].add_tag_to_desc[t[5]]+"")&&m(q,H),t[14].length>0?X?X.p(t,n):(X=Nt(t),X.c(),X.m(D.parentNode,D)):X&&(X.d(1),X=null),null===t[9]?tt?tt.p(t,n):(tt=St(t),tt.c(),tt.m(B.parentNode,B)):tt&&(tt.d(1),tt=null),null!==t[9]?et?et.p(t,n):(et=It(t),et.c(),et.m(W.parentNode,W)):et&&(et.d(1),et=null)},d(t){U&&U.d(t),t&&r(e),t&&r(n),t&&r(o),t&&r(i),t&&r(b),t&&r(k),t&&r(y),t&&r(w),t&&r($),t&&r(j),t&&r(T),t&&r(E),d(Z,t),t&&r(z),t&&r(x),t&&r(N),t&&r(O),t&&r(S),t&&r(I),d(R,t),t&&r(A),t&&r(P),t&&r(L),X&&X.d(t),t&&r(D),tt&&tt.d(t),t&&r(B),et&&et.d(t),t&&r(W),J=!1,l(F)}}}function zt(t){let e,n,l;return{c(){e=u("p"),n=_("id: "),l=_(t[9])},m(t,a){s(t,e,a),c(e,n),c(e,l)},p(t,e){512&e[0]&&m(l,t[9])},d(t){t&&r(e)}}}function xt(t){let e,n,l,a,o=t[80].name+"";function i(){return t[60](t[80])}return{c(){e=u("button"),n=_(o),p(e,"class","svelte-io8kt7")},m(t,o){s(t,e,o),c(e,n),l||(a=h(e,"click",i),l=!0)},p(e,l){t=e,4096&l[0]&&o!==(o=t[80].name+"")&&m(n,o)},d(t){t&&r(e),l=!1,a()}}}function Ct(t){let e,n;return{c(){e=u("option"),e.__value=n=t[80].name,e.value=e.__value},m(t,n){s(t,e,n)},p(t,l){256&l[0]&&n!==(n=t[80].name)&&(e.__value=n,e.value=e.__value)},d(t){t&&r(e)}}}function Nt(t){let e,n,l,a,o=t[22].errors[t[5]]+"",i=t[14],h=[];for(let e=0;e<i.length;e+=1)h[e]=Ot(J(t,i,e));return{c(){e=u("h2"),n=_(o),l=g();for(let t=0;t<h.length;t+=1)h[t].c();a=f()},m(t,o){s(t,e,o),c(e,n),s(t,l,o);for(let e=0;e<h.length;e+=1)h[e]&&h[e].m(t,o);s(t,a,o)},p(t,e){if(32&e[0]&&o!==(o=t[22].errors[t[5]]+"")&&m(n,o),16384&e[0]){let n;for(i=t[14],n=0;n<i.length;n+=1){const l=J(t,i,n);h[n]?h[n].p(l,e):(h[n]=Ot(l),h[n].c(),h[n].m(a.parentNode,a))}for(;n<h.length;n+=1)h[n].d(1);h.length=i.length}},d(t){t&&r(e),t&&r(l),d(h,t),t&&r(a)}}}function Ot(t){let e,n,l=t[77]+"";return{c(){e=u("p"),n=_(l)},m(t,l){s(t,e,l),c(e,n)},p(t,e){16384&e[0]&&l!==(l=t[77]+"")&&m(n,l)},d(t){t&&r(e)}}}function St(t){let e,n,l,a,o=t[22].insert_desc[t[5]]+"";return{c(){e=u("button"),n=_(o),p(e,"class","fetch_insert_desc_button svelte-io8kt7")},m(o,i){s(o,e,i),c(e,n),l||(a=h(e,"click",t[33]),l=!0)},p(t,e){32&e[0]&&o!==(o=t[22].insert_desc[t[5]]+"")&&m(n,o)},d(t){t&&r(e),l=!1,a()}}}function It(t){let e,n,l,a,o=t[22].update_desc[t[5]]+"";return{c(){e=u("button"),n=_(o),p(e,"class","fetch_update_desc_button svelte-io8kt7")},m(o,i){s(o,e,i),c(e,n),l||(a=h(e,"click",t[35]),l=!0)},p(t,e){32&e[0]&&o!==(o=t[22].update_desc[t[5]]+"")&&m(n,o)},d(t){t&&r(e),l=!1,a()}}}function At(e){let n,a,o,i,f,v,b,k,y,w,$,j,T,E,z,x,C,N,O,S,I,A,P,q,L,D,B,W=e[22].right[e[5]]+"",J=e[22].web_data_edit[e[5]]+"",M=e[22].left[e[5]]+"",V=e[3]&&et(e),G=e[14]>0&&ct(e),K=Object.keys(e[16]),H=[];for(let t=0;t<K.length;t+=1)H[t]=dt(Q(e,K,t));let U=Object.entries(e[16]),Y=[];for(let t=0;t<U.length;t+=1)Y[t]=Tt(F(e,U,t));let Z=""!==e[17]&&Et(e);return{c(){n=u("div"),a=u("div"),o=u("button"),o.textContent="≡",i=g(),V&&V.c(),f=g(),v=u("div"),b=u("div"),k=u("div"),G&&G.c(),y=g(),w=u("div"),$=u("button"),j=_(W),E=g(),z=u("div");for(let t=0;t<H.length;t+=1)H[t].c();x=g(),C=u("div");for(let t=0;t<Y.length;t+=1)Y[t].c();N=g(),O=u("div"),S=u("h1"),I=_(J),A=g(),P=u("button"),q=_(M),L=g(),Z&&Z.c(),p(o,"class","design_toggle_menu svelte-io8kt7"),p(a,"class","header svelte-io8kt7"),p(k,"class","console"),p($,"class",T="edit_button "+(e[1]?"hidden_when_scroll":"")+" svelte-io8kt7"),p(z,"class","tabs svelte-io8kt7"),p(C,"class","tab-content"),p(w,"class","list svelte-io8kt7"),p(b,"class","left_column server_side svelte-io8kt7"),p(S,"class","svelte-io8kt7"),p(P,"class","list_button svelte-io8kt7"),p(O,"class","right_column svelte-io8kt7"),p(v,"class","content svelte-io8kt7"),p(n,"class","container svelte-io8kt7")},m(t,l){s(t,n,l),c(n,a),c(a,o),c(a,i),V&&V.m(a,null),c(n,f),c(n,v),c(v,b),c(b,k),G&&G.m(k,null),c(b,y),c(b,w),c(w,$),c($,j),c(w,E),c(w,z);for(let t=0;t<H.length;t+=1)H[t]&&H[t].m(z,null);c(w,x),c(w,C);for(let t=0;t<Y.length;t+=1)Y[t]&&Y[t].m(C,null);c(v,N),c(v,O),c(O,S),c(S,I),c(O,A),c(O,P),c(P,q),c(O,L),Z&&Z.m(O,null),D||(B=[h(o,"click",e[20]),h($,"click",e[47]),h(P,"click",e[56])],D=!0)},p(t,e){if(t[3]?V?V.p(t,e):(V=et(t),V.c(),V.m(a,null)):V&&(V.d(1),V=null),t[14]>0?G?G.p(t,e):(G=ct(t),G.c(),G.m(k,null)):G&&(G.d(1),G=null),32&e[0]&&W!==(W=t[22].right[t[5]]+"")&&m(j,W),2&e[0]&&T!==(T="edit_button "+(t[1]?"hidden_when_scroll":"")+" svelte-io8kt7")&&p($,"class",T),4784164&e[0]){let n;for(K=Object.keys(t[16]),n=0;n<K.length;n+=1){const l=Q(t,K,n);H[n]?H[n].p(l,e):(H[n]=dt(l),H[n].c(),H[n].m(z,null))}for(;n<H.length;n+=1)H[n].d(1);H.length=K.length}if(1950818596&e[0]|33&e[1]){let n;for(U=Object.entries(t[16]),n=0;n<U.length;n+=1){const l=F(t,U,n);Y[n]?Y[n].p(l,e):(Y[n]=Tt(l),Y[n].c(),Y[n].m(C,null))}for(;n<Y.length;n+=1)Y[n].d(1);Y.length=U.length}32&e[0]&&J!==(J=t[22].web_data_edit[t[5]]+"")&&m(I,J),32&e[0]&&M!==(M=t[22].left[t[5]]+"")&&m(q,M),""!==t[17]?Z?Z.p(t,e):(Z=Et(t),Z.c(),Z.m(O,null)):Z&&(Z.d(1),Z=null)},i:t,o:t,d(t){t&&r(n),V&&V.d(),G&&G.d(),d(H,t),d(Y,t),Z&&Z.d(),D=!1,l(B)}}}const Pt="https://cotton-concrete-catsup.glitch.me/app8";function qt(t,e,n){let l,a=!1;window.addEventListener("scroll",(function(){n(1,a=!0),clearTimeout(l),l=setTimeout((()=>{n(1,a=!1)}),1e3)}));let o="all_descs";function i(t){n(2,o=t)}let c=!1;let s=!1,r="en";let d="left";const u={auth_login_result:{en:"Log in result",ja:"ログイン結果",zh:"登录结果",es:"resultado de inicio de sesión"},auth_sign_out:{en:"Sign out",ja:"サインアウト",zh:"登出",es:"Cerrar sesión"},web_data_tags:{en:"Web data tags",ja:"ウェブデータタグ",zh:"网页数据标签",es:"Etiquetas de datos web"},any_user_new_all_descs_with_tags:{en:"My data",ja:"自分のデータ",zh:"我的数据",es:"Mis datos"},all_descs:{en:"All",ja:"すべて",zh:"所有",es:"Todos"},filtered_all_descs:{ja:"絞り込み",en:"Filtered",zh:"过滤",es:"Filtrado"},web_data_edit:{en:"Web data edit",ja:"ウェブデータ編集",zh:"网页数据编辑",es:"Edición de datos web"},title:{en:"Title",ja:"タイトル",zh:"标题",es:"Título"},description:{en:"Description",ja:"説明",zh:"描述",es:"Descripción"},tag:{en:"Tag",ja:"タグ",zh:"标签",es:"Etiqueta"},set_desc_data:{en:"Set",ja:"セット",zh:"设置",es:"Establecer"},delete_desc:{en:"Delete",ja:"削除",zh:"删除",es:"Eliminar"},confirm_delete_desc:{ja:"削除しますか？",en:"Delete?",zh:"删除？",es:"¿Eliminar?"},add_tag_to_desc:{en:"Add tag to description",ja:"説明にタグを追加",zh:"添加标签到描述",es:"Agregar etiqueta a la descripción"},update_desc:{en:"Update description",ja:"説明を更新",zh:"更新描述",es:"Actualizar descripción"},insert_desc:{en:"Insert description",ja:"説明を挿入",zh:"插入描述",es:"Insertar descripción"},clear_filtered_all_descs:{ja:"フィルターをクリア",en:"Clear filter",zh:"清除过滤器",es:"Borrar filtro"},errors:{en:"Errors",ja:"エラー",zh:"错误",es:"Errores"},is_auth_uid_valid:{en:"Invalid auth_uid",ja:"無効なauth_uid",zh:"无效的auth_uid",es:"auth_uid no válido"},is_title_valid:{ja:"タイトルは1文字以上100文字以下",en:"Title must be between 1 and 100 characters",zh:"标题必须在1到100个字符之间",es:"El título debe tener entre 1 y 100 caracteres"},is_description_valid:{ja:"説明は1文字以上1000文字以下",en:"Description must be between 1 and 1000 characters",zh:"描述必须在1到1000个字符之间",es:"La descripción debe tener entre 1 y 1000 caracteres"},are_tags_valid:{ja:"タグは1文字以上10文字以下",en:"Tags must be between 1 and 10 characters",zh:"标签必须在1到10个字符之间",es:"Las etiquetas deben tener entre 1 y 10 caracteres"},confirm_clear_title_description_tags:{ja:"タイトル、説明、タグをクリアしますか？",en:"Clear title, description, and tags?",zh:"清除标题、描述和标签吗？",es:"¿Borrar título, descripción y etiquetas?"},clear_title_description_tags:{ja:"タイトル、説明、タグをクリア",en:"Clear title, description, and tags",zh:"清除标题、描述和标签",es:"Borrar título, descripción y etiquetas"},sort:{ja:"並べ替え",en:"Sort",zh:"分类",es:"Clasificar"},left:{ja:"-",en:"-",zh:"-",es:"-"},right:{ja:"+",en:"+",zh:"+",es:"+"},select_language:{ja:"言語を選択",en:"Select language",zh:"选择语言",es:"Seleccionar idioma"},tab:{ja:"タブ",en:"Tab",zh:"标签",es:"Pestaña"}},_=["id","title","description","tags","created_at","updated_at"];let g={kind:"id",order:"desc"};function f(){try{if(null===g.kind||null===g.order)return;if(void 0===E.all_descs)return;if(void 0===E.any_user_new_all_descs_with_tags)return;const t=(t,e)=>{switch(g.kind){case"id":return"asc"===g.order?t.id-e.id:e.id-t.id;case"title":return"asc"===g.order?t.title.localeCompare(e.title):e.title.localeCompare(t.title);case"description":return"asc"===g.order?t.description.localeCompare(e.description):e.description.localeCompare(t.description);case"tags":return"asc"===g.order?t.tags.length-e.tags.length:e.tags.length-t.tags.length;case"created_at":return"asc"===g.order?t.created_at.localeCompare(e.created_at):e.created_at.localeCompare(t.created_at);case"updated_at":return"asc"===g.order?t.updated_at.localeCompare(e.updated_at):e.updated_at.localeCompare(t.updated_at);default:return 0}},e=E.all_descs.sort(t),l=E.any_user_new_all_descs_with_tags.sort(t);n(16,E={...E,all_descs:e,any_user_new_all_descs_with_tags:l})}catch(t){console.error("Error:",t)}}let h="",p=[],m=null,v="",b="",y=[],w=[],$=[],T="Not logged in",E={all_descs:[],all_tags:[],any_user_new_all_descs_with_tags:[],filtered_all_descs:[]},z={},x="",C=!1;function N({with_confirm:t=!0}={}){t?confirm(u.confirm_clear_title_description_tags[r])&&(n(10,v=""),n(11,b=""),n(12,y=[]),n(9,m=null)):(n(10,v=""),n(11,b=""),n(12,y=[]),n(9,m=null))}function O(t,e){try{if(console.log("add_tag_to_desc",t,e),console.log($),n(14,$=$.filter((t=>!t.includes(u.are_tags_valid[r])))),console.log($),!P.validate_tag_name(e))return console.log(3),void $.push(u.are_tags_valid[r]);console.log(4);const l=p.find((t=>t.name===e));if(console.log(l),console.log(5),l){console.log(6),l.desc_id=t,console.log(l.desc_id,t),console.log(7);const e=y.some((t=>t.id===l.id));console.log(e),e||n(12,y=[...y,l]),n(7,h="")}else{const l={id:p.length+1,name:e,desc_id:t,created_at:(new Date).toISOString(),updated_at:(new Date).toISOString()};n(8,p=[...p,l]),n(12,y=[...y,l])}}catch(t){console.error("Error:",t)}}function S(t){try{const e=E.all_descs.find((e=>e.id===t));e?(n(9,m=e.id),n(10,v=e.title),n(11,b=e.description),n(12,y=e.tags)):console.error(`No description found with id: ${t}`),n(0,d="right")}catch(t){console.error("Error:",t)}}function I(t){w.some((e=>e===t))||n(13,w=[...w,t]);const e=E.all_descs.filter((t=>t.tags.some((t=>w.some((e=>e===t.id))))));n(16,E.filtered_all_descs=e,E),n(2,o="filtered_all_descs")}function A(t){n(13,w=w.filter((e=>e!==t))),n(16,E.filtered_all_descs=E.filtered_all_descs.filter((t=>t.tags.some((t=>w.some((e=>e===t.id)))))),E)}const P={validate_auth_uid:t=>/^[a-zA-Z0-9_-]+$/.test(t),validate_desc_id:t=>(console.log("validate_desc_id",t),Number.isInteger(t)&&t>0),validate_iso_date:t=>/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$/.test(t),validate_title:t=>(console.log("validate_title",t),"string"==typeof t&&t.length>=1&&t.length<=100),validate_description:t=>(console.log("validate_description",t),"string"==typeof t&&t.length>=1&&t.length<=1e3),validate_tag_name:t=>(console.log(1),console.log("validate_tag_name",t),console.log(2),"string"==typeof t&&t.length>=1&&t.length<=10),validate_data(t){const{auth_uid:e,desc_id:n,title:l,description:a,tags:o}=t,i=this.validate_auth_uid(e),c=this.validate_title(l),s=this.validate_description(a);console.log("tags",o);return{is_auth_uid_valid:i,is_title_valid:c,is_description_valid:s,are_tags_valid:o.every((t=>this.validate_tag_name(t.name)))}}};function q(){const t={auth_uid:x,desc_id:m,title:v,description:b,tags:y};n(14,$=[]);for(const[e,n]of Object.entries(P.validate_data(t)))if(n||$.push(u[e][r]),"tags"===e)for(const[t,e]of n.entries())for(const[n,l]of Object.entries(P.validate_data(e)))l||$.push(`tags[${t}].${n}`);else"auth_uid"===e&&P.validate_auth_uid(x),"desc_id"===e&&P.validate_desc_id(m),"title"===e&&P.validate_title(v),"description"===e&&P.validate_description(b);return!($.length>0)||(console.log($),!1)}async function L(){try{if(!q())throw new Error("Validation failed");const t=await fetch(Pt+"/insert_desc",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({auth_uid:x,title:v,description:b,tags:y})});await D(t),n(0,d="left"),n(2,o="all_descs"),N({with_confirm:!1})}catch(t){console.error("Error:",t)}}async function D(t){try{const e=await t.json();e.filtered_all_descs=E.filtered_all_descs?E.filtered_all_descs:[],z=Object.fromEntries(Object.entries(e).filter((([t,e])=>"all_descs"!==t&&"all_tags"!==t&&"any_user_new_all_descs_with_tags"!==t))),n(16,E=Object.fromEntries(Object.entries(e).filter((([t,e])=>"all_descs"===t||"all_tags"===t||"any_user_new_all_descs_with_tags"===t||"filtered_all_descs"===t)))),n(8,p=e.all_tags),f()}catch(t){console.error("Error:",t)}}async function B(){try{const t=await fetch(Pt+"/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({auth_uid:x})});await D(t)}catch(t){console.error("Error:",t)}}async function W(t){try{if(!confirm(u.confirm_delete_desc[r]))return;const e=await fetch(Pt+"/delete_desc",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t,auth_uid:x})});await D(e)}catch(t){console.error("Error:",t)}}firebase.initializeApp({apiKey:"AIzaSyBcOlIDP2KWbJuKM0WeMHNp-WvjTVfLt9Y",authDomain:"p2auth-ea50a.firebaseapp.com",projectId:"p2auth-ea50a",storageBucket:"p2auth-ea50a.appspot.com",messagingSenderId:"796225429484",appId:"1:796225429484:web:ece56ef2fc0be28cd6eac9"});const J=new firebase.auth.GoogleAuthProvider;const M=[{auth_uid:"user1",desc_id:1,created_at:"2024-09-01T00:00:00",updated_at:"2024-09-01T00:00:00",title:"foo1",description:"bar1",tags:[{desc_id:1,id:1,name:"tag1",created_at:"2024-09-01T00:00:00",updated_at:"2024-09-01T00:00:00"},{desc_id:1,id:2,name:"tag2",created_at:"2024-09-01T00:00:00",updated_at:"2024-09-01T00:00:00"},{desc_id:1,id:3,name:"tag3",created_at:"2024-09-01T00:00:00",updated_at:"2024-09-01T00:00:00"}]},{auth_uid:"user1",desc_id:2,created_at:"2024-09-01T00:00:00",updated_at:"2024-09-01T00:00:00",title:"foo2",description:"bar2",tags:[{desc_id:2,id:1,name:"tag1",created_at:"2024-09-01T00:00:00",updated_at:"2024-09-01T00:00:00"},{desc_id:2,id:2,name:"tag2",created_at:"2024-09-01T00:00:00",updated_at:"2024-09-01T00:00:00"}]},{auth_uid:"user2",desc_id:3,created_at:"2024-09-01T00:00:00",updated_at:"2024-09-01T00:00:00",title:"foo3",description:"bar3",tags:[{desc_id:3,id:2,name:"tag2",created_at:"2024-09-01T00:00:00",updated_at:"2024-09-01T00:00:00"},{desc_id:3,id:3,name:"tag3",created_at:"2024-09-01T00:00:00",updated_at:"2024-09-01T00:00:00"}]}],V=[{auth_uid:"user1",desc_id:4,created_at:"2024-09-01T00:00:00",updated_at:"2024-09-01T00:00:00",title:"a".repeat(100),description:"b".repeat(1e3),tags:[{desc_id:4,id:4,name:"tag4",created_at:"2024-09-01T00:00:00",updated_at:"2024-09-01T00:00:00"}]},{auth_uid:"user1",desc_id:5,created_at:"2024-09-01T00:00:00",updated_at:"2024-09-01T00:00:00",title:"",description:"",tags:[{desc_id:5,id:5,name:"t".repeat(10),created_at:"2024-09-01T00:00:00",updated_at:"2024-09-01T00:00:00"}]}];j((async()=>{await async function(){try{const t=await new Promise(((t,e)=>{firebase.auth().onAuthStateChanged(t,e)}));console.log("Current user:",t),t?(n(17,x=t.uid),n(15,T="Logged in")):(console.log(2),n(15,T="Not logged in"),n(17,x=""))}catch(t){console.error("Error during authentication:",t),n(15,T="Authentication failed"),n(17,x="")}}(),console.log("auth_check_login"),await B(),console.log("fetch_get_all_descs_and_tags"),function(){if(location.hash){const t=location.hash.slice(1),e=document.getElementById(t);e&&e.scrollIntoView({behavior:"smooth"})}}()}));return t.$$.update=()=>{1&t.$$.dirty[0]&&(async()=>{"left"===d?(document.documentElement.style.setProperty("--display-left-column","block"),document.documentElement.style.setProperty("--display-right-column","none")):"right"===d&&(document.documentElement.style.setProperty("--display-left-column","none"),document.documentElement.style.setProperty("--display-right-column","block"))})()},[d,a,o,c,s,r,g,h,p,m,v,b,y,w,$,T,E,x,C,i,function(){n(3,c=!c)},function(){n(4,s=!s)},u,_,f,N,function(){n(18,C=!C)},O,S,I,async function(){n(16,E.filtered_all_descs=[],E),n(13,w=[])},A,async function(){try{for(const t of M)n(17,x=t.auth_uid),n(9,m=t.desc_id),n(10,v=t.title),n(11,b=t.description),n(12,y=t.tags),await L()}catch(t){console.error("Error:",t)}},L,B,async function(){try{if(!q())throw new Error("Validation failed");const t=await fetch(Pt+"/update_desc",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({auth_uid:x,desc_id:m,title:v,description:b,tags:y})});await D(t),n(0,d="left"),n(2,o="all_descs"),N({with_confirm:!1})}catch(t){console.error("Error:",t)}},W,async function(){try{console.log("auth_google_login");const t=(await firebase.auth().signInWithPopup(J)).user;console.log(4),n(15,T=`Logged in as: ${t.displayName}`)}catch(t){console.error("Error during Google login:",t),alert("Google login failed. "+t.message)}},async function(){try{console.log(5),await firebase.auth().signOut(),n(15,T="Not logged in")}catch(t){console.error("Error during sign-out:",t),alert("Sign out failed. "+t.message)}},function(){n(10,v=V[1].title),n(11,b=V[1].description),n(12,y=V[1].tags),L()},function(){r=this.__value,n(5,r)},[[]],function(){r=this.__value,n(5,r)},function(){r=this.__value,n(5,r)},function(){r=this.__value,n(5,r)},function(){g.kind=k(this),n(6,g),n(23,_)},function(){g.order=k(this),n(6,g),n(23,_)},()=>n(0,d="right"),t=>i(t),t=>I(t.id),t=>A(t.id),t=>I(t.id),t=>{return e=t.id,navigator.clipboard.writeText(`${window.location.href.split("#")[0]}#${e}`),void alert("Link copied to clipboard");var e},t=>S(t.id),t=>W(t.id),t=>I(t.id),()=>n(0,d="left"),()=>N({with_confirm:!0}),function(){v=this.value,n(10,v)},function(){b=this.value,n(11,b)},t=>n(12,y=y.filter((e=>e.id!==t.id))),function(){h=this.value,n(7,h)},()=>O(m,h)]}return new class extends W{constructor(t){super(),B(this,t,qt,At,o,{},null,[-1,-1,-1,-1])}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
