var app=function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function l(e){e.forEach(t)}function a(e){return"function"==typeof e}function o(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function c(e){return null==e?"":e}function s(e,t){e.appendChild(t)}function i(e,t,n){e.insertBefore(t,n||null)}function r(e){e.parentNode&&e.parentNode.removeChild(e)}function d(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function u(e){return document.createElement(e)}function _(e){return document.createTextNode(e)}function f(){return _(" ")}function g(){return _("")}function h(e,t,n,l){return e.addEventListener(t,n,l),()=>e.removeEventListener(t,n,l)}function p(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function m(e,t){t=""+t,e.data!==t&&(e.data=t)}function v(e,t){e.value=null==t?"":t}function b(e,t,n){for(let n=0;n<e.options.length;n+=1){const l=e.options[n];if(l.__value===t)return void(l.selected=!0)}n&&void 0===t||(e.selectedIndex=-1)}function y(e){const t=e.querySelector(":checked");return t&&t.__value}function w(e,t,n){e.classList[n?"add":"remove"](t)}let $;function k(e){$=e}function j(e){(function(){if(!$)throw new Error("Function called outside component initialization");return $})().$$.on_mount.push(e)}const T=[],E=[];let z=[];const x=[],C=Promise.resolve();let N=!1;function O(e){z.push(e)}const S=new Set;let I=0;function A(){if(0!==I)return;const e=$;do{try{for(;I<T.length;){const e=T[I];I++,k(e),P(e.$$)}}catch(e){throw T.length=0,I=0,e}for(k(null),T.length=0,I=0;E.length;)E.pop()();for(let e=0;e<z.length;e+=1){const t=z[e];S.has(t)||(S.add(t),t())}z.length=0}while(T.length);for(;x.length;)x.pop()();N=!1,S.clear(),k(e)}function P(e){if(null!==e.fragment){e.update(),l(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(O)}}const q=new Set;function L(e,t){const n=e.$$;null!==n.fragment&&(!function(e){const t=[],n=[];z.forEach((l=>-1===e.indexOf(l)?t.push(l):n.push(l))),n.forEach((e=>e())),z=t}(n.after_update),l(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function D(e,t){-1===e.$$.dirty[0]&&(T.push(e),N||(N=!0,C.then(A)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function B(o,c,s,i,d,u,_,f=[-1]){const g=$;k(o);const h=o.$$={fragment:null,ctx:[],props:u,update:e,not_equal:d,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(c.context||(g?g.$$.context:[])),callbacks:n(),dirty:f,skip_bound:!1,root:c.target||g.$$.root};_&&_(h.root);let p=!1;if(h.ctx=s?s(o,c.props||{},((e,t,...n)=>{const l=n.length?n[0]:t;return h.ctx&&d(h.ctx[e],h.ctx[e]=l)&&(!h.skip_bound&&h.bound[e]&&h.bound[e](l),p&&D(o,e)),t})):[],h.update(),p=!0,l(h.before_update),h.fragment=!!i&&i(h.ctx),c.target){if(c.hydrate){const e=function(e){return Array.from(e.childNodes)}(c.target);h.fragment&&h.fragment.l(e),e.forEach(r)}else h.fragment&&h.fragment.c();c.intro&&((m=o.$$.fragment)&&m.i&&(q.delete(m),m.i(v))),function(e,n,o,c){const{fragment:s,after_update:i}=e.$$;s&&s.m(n,o),c||O((()=>{const n=e.$$.on_mount.map(t).filter(a);e.$$.on_destroy?e.$$.on_destroy.push(...n):l(n),e.$$.on_mount=[]})),i.forEach(O)}(o,c.target,c.anchor,c.customElement),A()}var m,v;k(g)}class W{$destroy(){L(this,1),this.$destroy=e}$on(t,n){if(!a(n))return e;const l=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return l.push(n),()=>{const e=l.indexOf(n);-1!==e&&l.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function J(e,t,n){const l=e.slice();return l[77]=t[n],l}function M(e,t,n){const l=e.slice();return l[80]=t[n],l}function V(e,t,n){const l=e.slice();return l[80]=t[n],l}function F(e,t,n){const l=e.slice();return l[85]=t[n][0],l[86]=t[n][1],l}function G(e,t,n){const l=e.slice();return l[80]=t[n],l}function K(e,t,n){const l=e.slice();return l[91]=t[n],l}function H(e,t,n){const l=e.slice();return l[80]=t[n],l}function U(e,t,n){const l=e.slice();return l[96]=t[n],l}function Y(e,t,n){const l=e.slice();return l[80]=t[n],l}function Z(e,t,n){const l=e.slice();return l[80]=t[n],l}function Q(e,t,n){const l=e.slice();return l[103]=t[n],l}function R(e,t,n){const l=e.slice();return l[77]=t[n],l}function X(e,t,n){const l=e.slice();return l[108]=t[n],l}function ee(e,t,n){const l=e.slice();return l[111]=t[n],l}function te(e){let t,n,a,o,c,g,v,y,w,$,k,j,T,E,z,x,C,N,S,I,A,P,q,L,D,B=e[22].select_language[e[5]]+"",W=e[22].sort[e[5]]+"",J=e[22].auth_login_result[e[5]]+"",M=e[4]&&ne(e),V=e[23],F=[];for(let t=0;t<V.length;t+=1)F[t]=le(ee(e,V,t));let G=["desc","asc"],K=[];for(let t=0;t<2;t+=1)K[t]=ae(X(e,G,t));let H=""===e[17]&&oe(e),U=""!==e[17]&&ce(e);return{c(){t=u("div"),n=u("button"),a=_(B),o=f(),M&&M.c(),c=f(),g=u("div"),v=u("select");for(let e=0;e<F.length;e+=1)F[e].c();y=f(),w=u("select");for(let e=0;e<2;e+=1)K[e].c();$=f(),k=u("button"),j=_(W),T=f(),E=u("div"),E.textContent="v1.2.0",z=f(),x=u("div"),C=_(J),N=_(": "),S=u("span"),I=_(e[15]),A=f(),H&&H.c(),P=f(),U&&U.c(),q=f(),p(n,"class","svelte-mo497f"),void 0===e[6].kind&&O((()=>e[45].call(v))),void 0===e[6].order&&O((()=>e[46].call(w))),p(k,"class","svelte-mo497f"),p(E,"class","version"),p(t,"class","menu_list svelte-mo497f")},m(l,r){i(l,t,r),s(t,n),s(n,a),s(t,o),M&&M.m(t,null),s(t,c),s(t,g),s(g,v);for(let e=0;e<F.length;e+=1)F[e]&&F[e].m(v,null);b(v,e[6].kind,!0),s(g,y),s(g,w);for(let e=0;e<2;e+=1)K[e]&&K[e].m(w,null);b(w,e[6].order,!0),s(g,$),s(g,k),s(k,j),s(t,T),s(t,E),s(t,z),s(t,x),s(x,C),s(x,N),s(x,S),s(S,I),s(t,A),H&&H.m(t,null),s(t,P),U&&U.m(t,null),s(t,q),L||(D=[h(n,"click",e[21]),h(v,"change",e[45]),h(w,"change",e[46]),h(k,"click",e[24])],L=!0)},p(e,n){if(32&n[0]&&B!==(B=e[22].select_language[e[5]]+"")&&m(a,B),e[4]?M?M.p(e,n):(M=ne(e),M.c(),M.m(t,c)):M&&(M.d(1),M=null),8388608&n[0]){let t;for(V=e[23],t=0;t<V.length;t+=1){const l=ee(e,V,t);F[t]?F[t].p(l,n):(F[t]=le(l),F[t].c(),F[t].m(v,null))}for(;t<F.length;t+=1)F[t].d(1);F.length=V.length}8388672&n[0]&&b(v,e[6].kind),8388672&n[0]&&b(w,e[6].order),32&n[0]&&W!==(W=e[22].sort[e[5]]+"")&&m(j,W),32&n[0]&&J!==(J=e[22].auth_login_result[e[5]]+"")&&m(C,J),32768&n[0]&&m(I,e[15]),""===e[17]?H?H.p(e,n):(H=oe(e),H.c(),H.m(t,P)):H&&(H.d(1),H=null),""!==e[17]?U?U.p(e,n):(U=ce(e),U.c(),U.m(t,q)):U&&(U.d(1),U=null)},d(e){e&&r(t),M&&M.d(),d(F,e),d(K,e),H&&H.d(),U&&U.d(),L=!1,l(D)}}}function ne(e){let t,n,a,o,c,d,g,v,b,y,w,$,k,j,T,E,z,x,C,N,O,S,I,A,P,q,L=e[22].select_language[e[5]]+"";return A=function(e){let t;return{p(...n){t=n,t.forEach((t=>e.push(t)))},r(){t.forEach((t=>e.splice(e.indexOf(t),1)))}}}(e[41][0]),{c(){t=u("div"),n=u("div"),a=u("button"),a.textContent="×",o=f(),c=u("h2"),d=_(L),g=f(),v=u("div"),b=u("input"),y=f(),w=u("label"),w.textContent="🇺🇸 English",$=f(),k=u("input"),j=f(),T=u("label"),T.textContent="🇯🇵 日本語",E=f(),z=u("input"),x=f(),C=u("label"),C.textContent="🇨🇳🇹🇼 中文",N=f(),O=u("input"),S=f(),I=u("label"),I.textContent="🇪🇸 Español",p(a,"class","close svelte-mo497f"),p(b,"type","radio"),p(b,"id","en"),p(b,"name","design_lang"),b.__value="en",b.value=b.__value,p(w,"for","en"),p(k,"type","radio"),p(k,"id","ja"),p(k,"name","design_lang"),k.__value="ja",k.value=k.__value,p(T,"for","ja"),p(z,"type","radio"),p(z,"id","zh"),p(z,"name","design_lang"),z.__value="zh",z.value=z.__value,p(C,"for","zh"),p(O,"type","radio"),p(O,"id","es"),p(O,"name","design_lang"),O.__value="es",O.value=O.__value,p(I,"for","es"),p(n,"class","modal-content svelte-mo497f"),p(t,"class","modal svelte-mo497f"),A.p(b,k,z,O)},m(l,r){i(l,t,r),s(t,n),s(n,a),s(n,o),s(n,c),s(c,d),s(n,g),s(n,v),s(v,b),b.checked=b.__value===e[5],s(v,y),s(v,w),s(v,$),s(v,k),k.checked=k.__value===e[5],s(v,j),s(v,T),s(v,E),s(v,z),z.checked=z.__value===e[5],s(v,x),s(v,C),s(v,N),s(v,O),O.checked=O.__value===e[5],s(v,S),s(v,I),P||(q=[h(a,"click",e[21]),h(b,"change",e[40]),h(k,"change",e[42]),h(z,"change",e[43]),h(O,"change",e[44])],P=!0)},p(e,t){32&t[0]&&L!==(L=e[22].select_language[e[5]]+"")&&m(d,L),32&t[0]&&(b.checked=b.__value===e[5]),32&t[0]&&(k.checked=k.__value===e[5]),32&t[0]&&(z.checked=z.__value===e[5]),32&t[0]&&(O.checked=O.__value===e[5])},d(e){e&&r(t),A.r(),P=!1,l(q)}}}function le(t){let n,l,a=t[111]+"";return{c(){n=u("option"),l=_(a),n.__value=t[111],n.value=n.__value},m(e,t){i(e,n,t),s(n,l)},p:e,d(e){e&&r(n)}}}function ae(t){let n,l;return{c(){n=u("option"),l=_(t[108]),n.__value=t[108],n.value=n.__value},m(e,t){i(e,n,t),s(n,l)},p:e,d(e){e&&r(n)}}}function oe(t){let n,l,a,o,c;return{c(){n=u("div"),l=_("auth_google_login: "),a=u("button"),a.textContent="auth_google_login",p(a,"class","svelte-mo497f")},m(e,r){i(e,n,r),s(n,l),s(n,a),o||(c=h(a,"click",t[37]),o=!0)},p:e,d(e){e&&r(n),o=!1,c()}}}function ce(e){let t,n,l,a,o,c=e[22].auth_sign_out[e[5]]+"";return{c(){t=u("div"),n=u("button"),l=_(c),p(n,"class","svelte-mo497f")},m(c,r){i(c,t,r),s(t,n),s(n,l),a||(o=h(n,"click",e[38]),a=!0)},p(e,t){32&t[0]&&c!==(c=e[22].auth_sign_out[e[5]]+"")&&m(l,c)},d(e){e&&r(t),a=!1,o()}}}function se(e){let t,n,l,a=e[14],o=[];for(let t=0;t<a.length;t+=1)o[t]=ie(R(e,a,t));return{c(){t=u("p"),t.textContent="Errors:",n=f();for(let e=0;e<o.length;e+=1)o[e].c();l=g()},m(e,a){i(e,t,a),i(e,n,a);for(let t=0;t<o.length;t+=1)o[t]&&o[t].m(e,a);i(e,l,a)},p(e,t){if(16384&t[0]){let n;for(a=e[14],n=0;n<a.length;n+=1){const c=R(e,a,n);o[n]?o[n].p(c,t):(o[n]=ie(c),o[n].c(),o[n].m(l.parentNode,l))}for(;n<o.length;n+=1)o[n].d(1);o.length=a.length}},d(e){e&&r(t),e&&r(n),d(o,e),e&&r(l)}}}function ie(e){let t,n,l=e[77]+"";return{c(){t=u("div"),n=_(l)},m(e,l){i(e,t,l),s(t,n)},p(e,t){16384&t[0]&&l!==(l=e[77]+"")&&m(n,l)},d(e){e&&r(t)}}}function re(e){let t,n,l,a,o,c=(e[22][e[103]]?e[22][e[103]][e[5]]:e[103])+"";function d(){return e[48](e[103])}return{c(){t=u("button"),n=_(c),l=f(),p(t,"class","svelte-mo497f"),w(t,"active",e[2]===e[103])},m(e,c){i(e,t,c),s(t,n),s(t,l),a||(o=h(t,"click",d),a=!0)},p(l,a){e=l,65568&a[0]&&c!==(c=(e[22][e[103]]?e[22][e[103]][e[5]]:e[103])+"")&&m(n,c),65540&a[0]&&w(t,"active",e[2]===e[103])},d(e){e&&r(t),a=!1,o()}}}function de(e){let t,n="all_tags"!==e[103]&&re(e);return{c(){n&&n.c(),t=g()},m(e,l){n&&n.m(e,l),i(e,t,l)},p(e,l){"all_tags"!==e[103]?n?n.p(e,l):(n=re(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(e){n&&n.d(e),e&&r(t)}}}function ue(e){let t,n="all_tags"!==e[2]&&e[2]===e[85]&&_e(e);return{c(){n&&n.c(),t=g()},m(e,l){n&&n.m(e,l),i(e,t,l)},p(e,l){"all_tags"!==e[2]&&e[2]===e[85]?n?n.p(e,l):(n=_e(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(e){n&&n.d(e),e&&r(t)}}}function _e(e){let t,n,l,a="filtered_all_descs"===e[85]&&fe(e),o=e[86],_=[];for(let t=0;t<o.length;t+=1)_[t]=we(K(e,o,t));return{c(){t=u("div"),a&&a.c(),n=f();for(let e=0;e<_.length;e+=1)_[e].c();p(t,"class",l=c(e[85])+" svelte-mo497f")},m(e,l){i(e,t,l),a&&a.m(t,null),s(t,n);for(let e=0;e<_.length;e+=1)_[e]&&_[e].m(t,null)},p(e,s){if("filtered_all_descs"===e[85]?a?a.p(e,s):(a=fe(e),a.c(),a.m(t,n)):a&&(a.d(1),a=null),877068320&s[0]|32&s[1]){let n;for(o=e[86],n=0;n<o.length;n+=1){const l=K(e,o,n);_[n]?_[n].p(l,s):(_[n]=we(l),_[n].c(),_[n].m(t,null))}for(;n<_.length;n+=1)_[n].d(1);_.length=o.length}65536&s[0]&&l!==(l=c(e[85])+" svelte-mo497f")&&p(t,"class",l)},d(e){e&&r(t),a&&a.d(),d(_,e)}}}function fe(e){let t,n,l,a,o,c,v,b,y,w,$,k=e[22].clear_filtered_all_descs[e[5]]+"",j=e[8],T=[];for(let t=0;t<j.length;t+=1)T[t]=ge(Z(e,j,t));let E=e[13],z=[];for(let t=0;t<E.length;t+=1)z[t]=me(U(e,E,t));return{c(){t=_("all_tags: \n\t\t\t\t\t"),n=u("div");for(let e=0;e<T.length;e+=1)T[e].c();l=f(),a=u("div"),o=f(),c=u("button"),v=_(k),b=f();for(let e=0;e<z.length;e+=1)z[e].c();y=g(),p(n,"class","parent_tags svelte-mo497f"),p(a,"class","each_desc_border svelte-mo497f"),p(c,"class","svelte-mo497f")},m(r,d){i(r,t,d),i(r,n,d);for(let e=0;e<T.length;e+=1)T[e]&&T[e].m(n,null);i(r,l,d),i(r,a,d),i(r,o,d),i(r,c,d),s(c,v),i(r,b,d);for(let e=0;e<z.length;e+=1)z[e]&&z[e].m(r,d);i(r,y,d),w||($=h(c,"click",e[30]),w=!0)},p(e,t){if(536871168&t[0]){let l;for(j=e[8],l=0;l<j.length;l+=1){const a=Z(e,j,l);T[l]?T[l].p(a,t):(T[l]=ge(a),T[l].c(),T[l].m(n,null))}for(;l<T.length;l+=1)T[l].d(1);T.length=j.length}if(32&t[0]&&k!==(k=e[22].clear_filtered_all_descs[e[5]]+"")&&m(v,k),8448&t[0]|1&t[1]){let n;for(E=e[13],n=0;n<E.length;n+=1){const l=U(e,E,n);z[n]?z[n].p(l,t):(z[n]=me(l),z[n].c(),z[n].m(y.parentNode,y))}for(;n<z.length;n+=1)z[n].d(1);z.length=E.length}},d(e){e&&r(t),e&&r(n),d(T,e),e&&r(l),e&&r(a),e&&r(o),e&&r(c),e&&r(b),d(z,e),e&&r(y),w=!1,$()}}}function ge(e){let t,n,l,a,o=e[80].name+"";function c(){return e[49](e[80])}return{c(){t=u("button"),n=_(o),p(t,"class","tag svelte-mo497f")},m(e,o){i(e,t,o),s(t,n),l||(a=h(t,"click",c),l=!0)},p(t,l){e=t,256&l[0]&&o!==(o=e[80].name+"")&&m(n,o)},d(e){e&&r(t),l=!1,a()}}}function he(e){let t,n,l,a,o=e[80].name+"";function c(){return e[50](e[80])}return{c(){t=u("button"),n=_(o),p(t,"class","tag svelte-mo497f")},m(e,o){i(e,t,o),s(t,n),l||(a=h(t,"click",c),l=!0)},p(t,l){e=t,256&l[0]&&o!==(o=e[80].name+"")&&m(n,o)},d(e){e&&r(t),l=!1,a()}}}function pe(e){let t,n=e[80].id===e[96]&&he(e);return{c(){n&&n.c(),t=g()},m(e,l){n&&n.m(e,l),i(e,t,l)},p(e,l){e[80].id===e[96]?n?n.p(e,l):(n=he(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(e){n&&n.d(e),e&&r(t)}}}function me(e){let t,n,l=e[8],a=[];for(let t=0;t<l.length;t+=1)a[t]=pe(Y(e,l,t));return{c(){t=u("div");for(let e=0;e<a.length;e+=1)a[e].c();n=f(),p(t,"class","parent_tags svelte-mo497f")},m(e,l){i(e,t,l);for(let e=0;e<a.length;e+=1)a[e]&&a[e].m(t,null);s(t,n)},p(e,o){if(8448&o[0]|1&o[1]){let c;for(l=e[8],c=0;c<l.length;c+=1){const s=Y(e,l,c);a[c]?a[c].p(s,o):(a[c]=pe(s),a[c].c(),a[c].m(t,n))}for(;c<a.length;c+=1)a[c].d(1);a.length=l.length}},d(e){e&&r(t),d(a,e)}}}function ve(e){let t,n=e[91].tags,l=[];for(let t=0;t<n.length;t+=1)l[t]=be(H(e,n,t));return{c(){t=u("div");for(let e=0;e<l.length;e+=1)l[e].c();p(t,"class","desc_tags svelte-mo497f")},m(e,n){i(e,t,n);for(let e=0;e<l.length;e+=1)l[e]&&l[e].m(t,null)},p(e,a){if(536936448&a[0]){let o;for(n=e[91].tags,o=0;o<n.length;o+=1){const c=H(e,n,o);l[o]?l[o].p(c,a):(l[o]=be(c),l[o].c(),l[o].m(t,null))}for(;o<l.length;o+=1)l[o].d(1);l.length=n.length}},d(e){e&&r(t),d(l,e)}}}function be(e){let t,n,l,a,o=e[80].name+"";function c(){return e[51](e[80])}return{c(){t=u("button"),n=_(o),p(t,"class","tag svelte-mo497f")},m(e,o){i(e,t,o),s(t,n),l||(a=h(t,"click",c),l=!0)},p(t,l){e=t,65536&l[0]&&o!==(o=e[80].name+"")&&m(n,o)},d(e){e&&r(t),l=!1,a()}}}function ye(e){let t,n,a,o,c,d,g,v=e[22].set_desc_data[e[5]]+"",b=e[22].delete_desc[e[5]]+"";function y(){return e[53](e[91])}function w(){return e[54](e[91])}return{c(){t=u("button"),n=_(v),a=f(),o=u("button"),c=_(b),p(t,"class","set_desc_data svelte-mo497f"),p(o,"class","fetch_delete_desc svelte-mo497f")},m(e,l){i(e,t,l),s(t,n),i(e,a,l),i(e,o,l),s(o,c),d||(g=[h(t,"click",y),h(o,"click",w)],d=!0)},p(t,l){e=t,32&l[0]&&v!==(v=e[22].set_desc_data[e[5]]+"")&&m(n,v),32&l[0]&&b!==(b=e[22].delete_desc[e[5]]+"")&&m(c,b)},d(e){e&&r(t),e&&r(a),e&&r(o),d=!1,l(g)}}}function we(e){let t,n,a,o,c,d,g,v,b,y,w,$,k,j,T,E,z,x,C,N=e[91].title+"",O=(e[91].description.length>200&&!e[18]?e[91].description.slice(0,200)+"...▼":e[91].description)+"",S=e[91].id+"",I=e[91].tags&&ve(e);function A(){return e[52](e[91])}let P="any_user_new_all_descs_with_tags"===e[85]&&e[17]&&ye(e);return{c(){t=u("div"),n=u("p"),a=_(N),o=f(),c=u("p"),d=u("button"),g=_(O),v=f(),I&&I.c(),b=f(),y=u("div"),w=u("p"),$=u("button"),k=_("id: "),j=_(S),T=f(),P&&P.c(),z=f(),p(n,"class","title break_word_title svelte-mo497f"),p(d,"class","button_reset break_word svelte-mo497f"),p(c,"class","break_word svelte-mo497f"),p($,"class","id button_reset svelte-mo497f"),p(w,"id",E=e[91].id),p(w,"class","id_and_set_delete svelte-mo497f"),p(y,"class","each_desc_border svelte-mo497f")},m(l,r){i(l,t,r),s(t,n),s(n,a),s(t,o),s(t,c),s(c,d),s(d,g),s(t,v),I&&I.m(t,null),i(l,b,r),i(l,y,r),s(y,w),s(w,$),s($,k),s($,j),s(w,T),P&&P.m(w,null),s(y,z),x||(C=[h(d,"click",e[26]),h($,"click",A)],x=!0)},p(n,l){e=n,65536&l[0]&&N!==(N=e[91].title+"")&&m(a,N),327680&l[0]&&O!==(O=(e[91].description.length>200&&!e[18]?e[91].description.slice(0,200)+"...▼":e[91].description)+"")&&m(g,O),e[91].tags?I?I.p(e,l):(I=ve(e),I.c(),I.m(t,null)):I&&(I.d(1),I=null),65536&l[0]&&S!==(S=e[91].id+"")&&m(j,S),"any_user_new_all_descs_with_tags"===e[85]&&e[17]?P?P.p(e,l):(P=ye(e),P.c(),P.m(w,null)):P&&(P.d(1),P=null),65536&l[0]&&E!==(E=e[91].id)&&p(w,"id",E)},d(e){e&&r(t),I&&I.d(),e&&r(b),e&&r(y),P&&P.d(),x=!1,l(C)}}}function $e(e){let t,n,l,a,o,c=e[22].web_data_tags[e[5]]+"",d=e[16].all_tags&&ke(e);return{c(){t=u("div"),n=u("h1"),l=_(c),a=f(),d&&d.c(),o=f(),p(n,"class","svelte-mo497f"),p(t,"class","web_data_tags svelte-mo497f")},m(e,c){i(e,t,c),s(t,n),s(n,l),s(t,a),d&&d.m(t,null),s(t,o)},p(e,n){32&n[0]&&c!==(c=e[22].web_data_tags[e[5]]+"")&&m(l,c),e[16].all_tags?d?d.p(e,n):(d=ke(e),d.c(),d.m(t,o)):d&&(d.d(1),d=null)},d(e){e&&r(t),d&&d.d()}}}function ke(e){let t,n=e[16].all_tags,l=[];for(let t=0;t<n.length;t+=1)l[t]=je(G(e,n,t));return{c(){t=u("div");for(let e=0;e<l.length;e+=1)l[e].c();p(t,"class","parent_tags svelte-mo497f")},m(e,n){i(e,t,n);for(let e=0;e<l.length;e+=1)l[e]&&l[e].m(t,null)},p(e,a){if(536936448&a[0]){let o;for(n=e[16].all_tags,o=0;o<n.length;o+=1){const c=G(e,n,o);l[o]?l[o].p(c,a):(l[o]=je(c),l[o].c(),l[o].m(t,null))}for(;o<l.length;o+=1)l[o].d(1);l.length=n.length}},d(e){e&&r(t),d(l,e)}}}function je(e){let t,n,l,a,o=e[80].name+"";function c(){return e[55](e[80])}return{c(){t=u("button"),n=_(o),p(t,"class","tag svelte-mo497f")},m(e,o){i(e,t,o),s(t,n),l||(a=h(t,"click",c),l=!0)},p(t,l){e=t,65536&l[0]&&o!==(o=e[80].name+"")&&m(n,o)},d(e){e&&r(t),l=!1,a()}}}function Te(e){let t,n,l="all_tags"!==e[85]&&ue(e),a="all_tags"===e[2]&&"all_tags"===e[85]&&$e(e);return{c(){l&&l.c(),t=f(),a&&a.c(),n=g()},m(e,o){l&&l.m(e,o),i(e,t,o),a&&a.m(e,o),i(e,n,o)},p(e,o){"all_tags"!==e[85]?l?l.p(e,o):(l=ue(e),l.c(),l.m(t.parentNode,t)):l&&(l.d(1),l=null),"all_tags"===e[2]&&"all_tags"===e[85]?a?a.p(e,o):(a=$e(e),a.c(),a.m(n.parentNode,n)):a&&(a.d(1),a=null)},d(e){l&&l.d(e),e&&r(t),a&&a.d(e),e&&r(n)}}}function Ee(e){let t,n,a,o,c,b,y,w,$,k,j,T,E,z,x,C,N,O,S,I,A,P,q,L,D,B,W,J,F,G=e[22].clear_title_description_tags[e[5]]+"",K=e[22].tag[e[5]]+"",H=e[22].add_tag_to_desc[e[5]]+"",U=null!==e[9]&&ze(e),Y=e[12],Z=[];for(let t=0;t<Y.length;t+=1)Z[t]=xe(V(e,Y,t));let Q=e[8],R=[];for(let t=0;t<Q.length;t+=1)R[t]=Ce(M(e,Q,t));let X=e[14].length>0&&Ne(e),ee=null===e[9]&&Se(e),te=null!==e[9]&&Ie(e);return{c(){U&&U.c(),t=f(),n=u("button"),a=_(G),o=f(),c=u("div"),c.textContent="title:",b=f(),y=u("textarea"),w=f(),$=u("div"),$.textContent="description:",k=f(),j=u("textarea"),T=f(),E=u("div");for(let e=0;e<Z.length;e+=1)Z[e].c();z=f(),x=u("label"),C=_(K),N=f(),O=u("input"),S=f(),I=u("datalist");for(let e=0;e<R.length;e+=1)R[e].c();A=f(),P=u("button"),q=_(H),L=f(),X&&X.c(),D=f(),ee&&ee.c(),B=f(),te&&te.c(),W=g(),p(n,"class","svelte-mo497f"),p(y,"class","title svelte-mo497f"),p(y,"minlength","1"),p(y,"maxlength","100"),y.required=!0,p(y,"placeholder","1_100"),p(j,"class","description svelte-mo497f"),p(j,"minlength","1"),p(j,"maxlength","1000"),j.required=!0,p(j,"placeholder","1_1000"),p(x,"for","my_all_tags"),p(O,"list","all_tags"),p(O,"id","my_all_tags"),p(O,"name","my_all_tags"),p(O,"minlength","1"),p(O,"maxlength","10"),O.required=!0,p(O,"placeholder","1_10"),p(I,"id","all_tags"),p(P,"class","svelte-mo497f")},m(l,r){U&&U.m(l,r),i(l,t,r),i(l,n,r),s(n,a),i(l,o,r),i(l,c,r),i(l,b,r),i(l,y,r),v(y,e[10]),i(l,w,r),i(l,$,r),i(l,k,r),i(l,j,r),v(j,e[11]),i(l,T,r),i(l,E,r);for(let e=0;e<Z.length;e+=1)Z[e]&&Z[e].m(E,null);i(l,z,r),i(l,x,r),s(x,C),i(l,N,r),i(l,O,r),v(O,e[7]),i(l,S,r),i(l,I,r);for(let e=0;e<R.length;e+=1)R[e]&&R[e].m(I,null);i(l,A,r),i(l,P,r),s(P,q),i(l,L,r),X&&X.m(l,r),i(l,D,r),ee&&ee.m(l,r),i(l,B,r),te&&te.m(l,r),i(l,W,r),J||(F=[h(n,"click",e[57]),h(y,"input",e[58]),h(j,"input",e[59]),h(O,"input",e[61]),h(P,"click",e[62])],J=!0)},p(e,n){if(null!==e[9]?U?U.p(e,n):(U=ze(e),U.c(),U.m(t.parentNode,t)):U&&(U.d(1),U=null),32&n[0]&&G!==(G=e[22].clear_title_description_tags[e[5]]+"")&&m(a,G),1024&n[0]&&v(y,e[10]),2048&n[0]&&v(j,e[11]),4096&n[0]){let t;for(Y=e[12],t=0;t<Y.length;t+=1){const l=V(e,Y,t);Z[t]?Z[t].p(l,n):(Z[t]=xe(l),Z[t].c(),Z[t].m(E,null))}for(;t<Z.length;t+=1)Z[t].d(1);Z.length=Y.length}if(32&n[0]&&K!==(K=e[22].tag[e[5]]+"")&&m(C,K),128&n[0]&&O.value!==e[7]&&v(O,e[7]),256&n[0]){let t;for(Q=e[8],t=0;t<Q.length;t+=1){const l=M(e,Q,t);R[t]?R[t].p(l,n):(R[t]=Ce(l),R[t].c(),R[t].m(I,null))}for(;t<R.length;t+=1)R[t].d(1);R.length=Q.length}32&n[0]&&H!==(H=e[22].add_tag_to_desc[e[5]]+"")&&m(q,H),e[14].length>0?X?X.p(e,n):(X=Ne(e),X.c(),X.m(D.parentNode,D)):X&&(X.d(1),X=null),null===e[9]?ee?ee.p(e,n):(ee=Se(e),ee.c(),ee.m(B.parentNode,B)):ee&&(ee.d(1),ee=null),null!==e[9]?te?te.p(e,n):(te=Ie(e),te.c(),te.m(W.parentNode,W)):te&&(te.d(1),te=null)},d(e){U&&U.d(e),e&&r(t),e&&r(n),e&&r(o),e&&r(c),e&&r(b),e&&r(y),e&&r(w),e&&r($),e&&r(k),e&&r(j),e&&r(T),e&&r(E),d(Z,e),e&&r(z),e&&r(x),e&&r(N),e&&r(O),e&&r(S),e&&r(I),d(R,e),e&&r(A),e&&r(P),e&&r(L),X&&X.d(e),e&&r(D),ee&&ee.d(e),e&&r(B),te&&te.d(e),e&&r(W),J=!1,l(F)}}}function ze(e){let t,n,l;return{c(){t=u("p"),n=_("id: "),l=_(e[9])},m(e,a){i(e,t,a),s(t,n),s(t,l)},p(e,t){512&t[0]&&m(l,e[9])},d(e){e&&r(t)}}}function xe(e){let t,n,l,a,o=e[80].name+"";function c(){return e[60](e[80])}return{c(){t=u("button"),n=_(o),p(t,"class","svelte-mo497f")},m(e,o){i(e,t,o),s(t,n),l||(a=h(t,"click",c),l=!0)},p(t,l){e=t,4096&l[0]&&o!==(o=e[80].name+"")&&m(n,o)},d(e){e&&r(t),l=!1,a()}}}function Ce(e){let t,n;return{c(){t=u("option"),t.__value=n=e[80].name,t.value=t.__value},m(e,n){i(e,t,n)},p(e,l){256&l[0]&&n!==(n=e[80].name)&&(t.__value=n,t.value=t.__value)},d(e){e&&r(t)}}}function Ne(e){let t,n,l,a,o=e[22].errors[e[5]]+"",c=e[14],h=[];for(let t=0;t<c.length;t+=1)h[t]=Oe(J(e,c,t));return{c(){t=u("h2"),n=_(o),l=f();for(let e=0;e<h.length;e+=1)h[e].c();a=g()},m(e,o){i(e,t,o),s(t,n),i(e,l,o);for(let t=0;t<h.length;t+=1)h[t]&&h[t].m(e,o);i(e,a,o)},p(e,t){if(32&t[0]&&o!==(o=e[22].errors[e[5]]+"")&&m(n,o),16384&t[0]){let n;for(c=e[14],n=0;n<c.length;n+=1){const l=J(e,c,n);h[n]?h[n].p(l,t):(h[n]=Oe(l),h[n].c(),h[n].m(a.parentNode,a))}for(;n<h.length;n+=1)h[n].d(1);h.length=c.length}},d(e){e&&r(t),e&&r(l),d(h,e),e&&r(a)}}}function Oe(e){let t,n,l=e[77]+"";return{c(){t=u("p"),n=_(l)},m(e,l){i(e,t,l),s(t,n)},p(e,t){16384&t[0]&&l!==(l=e[77]+"")&&m(n,l)},d(e){e&&r(t)}}}function Se(e){let t,n,l,a,o=e[22].insert_desc[e[5]]+"";return{c(){t=u("button"),n=_(o),p(t,"class","fetch_insert_desc_button svelte-mo497f")},m(o,c){i(o,t,c),s(t,n),l||(a=h(t,"click",e[33]),l=!0)},p(e,t){32&t[0]&&o!==(o=e[22].insert_desc[e[5]]+"")&&m(n,o)},d(e){e&&r(t),l=!1,a()}}}function Ie(e){let t,n,l,a,o=e[22].update_desc[e[5]]+"";return{c(){t=u("button"),n=_(o),p(t,"class","fetch_update_desc_button svelte-mo497f")},m(o,c){i(o,t,c),s(t,n),l||(a=h(t,"click",e[35]),l=!0)},p(e,t){32&t[0]&&o!==(o=e[22].update_desc[e[5]]+"")&&m(n,o)},d(e){e&&r(t),l=!1,a()}}}function Ae(t){let n,a,o,c,g,v,b,y,w,$,k,j,T,E,z,x,C,N,O,S,I,A,P,q,L,D,B,W=t[22].right[t[5]]+"",J=t[22].web_data_edit[t[5]]+"",M=t[22].left[t[5]]+"",V=t[3]&&te(t),G=t[14]>0&&se(t),K=Object.keys(t[16]),H=[];for(let e=0;e<K.length;e+=1)H[e]=de(Q(t,K,e));let U=Object.entries(t[16]),Y=[];for(let e=0;e<U.length;e+=1)Y[e]=Te(F(t,U,e));let Z=""!==t[17]&&Ee(t);return{c(){n=u("div"),a=u("div"),o=u("button"),o.textContent="≡",c=f(),V&&V.c(),g=f(),v=u("div"),b=u("div"),y=u("div"),G&&G.c(),w=f(),$=u("div"),k=u("button"),j=_(W),E=f(),z=u("div");for(let e=0;e<H.length;e+=1)H[e].c();x=f(),C=u("div");for(let e=0;e<Y.length;e+=1)Y[e].c();N=f(),O=u("div"),S=u("h1"),I=_(J),A=f(),P=u("button"),q=_(M),L=f(),Z&&Z.c(),p(o,"class","design_toggle_menu svelte-mo497f"),p(a,"class","header svelte-mo497f"),p(y,"class","console"),p(k,"class",T="edit_button "+(t[1]?"hidden_when_scroll":"")+" svelte-mo497f"),p(z,"class","tabs svelte-mo497f"),p(C,"class","tab-content"),p($,"class","list svelte-mo497f"),p(b,"class","left_column server_side svelte-mo497f"),p(S,"class","svelte-mo497f"),p(P,"class","list_button svelte-mo497f"),p(O,"class","right_column svelte-mo497f"),p(v,"class","content svelte-mo497f"),p(n,"class","container svelte-mo497f")},m(e,l){i(e,n,l),s(n,a),s(a,o),s(a,c),V&&V.m(a,null),s(n,g),s(n,v),s(v,b),s(b,y),G&&G.m(y,null),s(b,w),s(b,$),s($,k),s(k,j),s($,E),s($,z);for(let e=0;e<H.length;e+=1)H[e]&&H[e].m(z,null);s($,x),s($,C);for(let e=0;e<Y.length;e+=1)Y[e]&&Y[e].m(C,null);s(v,N),s(v,O),s(O,S),s(S,I),s(O,A),s(O,P),s(P,q),s(O,L),Z&&Z.m(O,null),D||(B=[h(o,"click",t[20]),h(k,"click",t[47]),h(P,"click",t[56])],D=!0)},p(e,t){if(e[3]?V?V.p(e,t):(V=te(e),V.c(),V.m(a,null)):V&&(V.d(1),V=null),e[14]>0?G?G.p(e,t):(G=se(e),G.c(),G.m(y,null)):G&&(G.d(1),G=null),32&t[0]&&W!==(W=e[22].right[e[5]]+"")&&m(j,W),2&t[0]&&T!==(T="edit_button "+(e[1]?"hidden_when_scroll":"")+" svelte-mo497f")&&p(k,"class",T),4784164&t[0]){let n;for(K=Object.keys(e[16]),n=0;n<K.length;n+=1){const l=Q(e,K,n);H[n]?H[n].p(l,t):(H[n]=de(l),H[n].c(),H[n].m(z,null))}for(;n<H.length;n+=1)H[n].d(1);H.length=K.length}if(1950818596&t[0]|33&t[1]){let n;for(U=Object.entries(e[16]),n=0;n<U.length;n+=1){const l=F(e,U,n);Y[n]?Y[n].p(l,t):(Y[n]=Te(l),Y[n].c(),Y[n].m(C,null))}for(;n<Y.length;n+=1)Y[n].d(1);Y.length=U.length}32&t[0]&&J!==(J=e[22].web_data_edit[e[5]]+"")&&m(I,J),32&t[0]&&M!==(M=e[22].left[e[5]]+"")&&m(q,M),""!==e[17]?Z?Z.p(e,t):(Z=Ee(e),Z.c(),Z.m(O,null)):Z&&(Z.d(1),Z=null)},i:e,o:e,d(e){e&&r(n),V&&V.d(),G&&G.d(),d(H,e),d(Y,e),Z&&Z.d(),D=!1,l(B)}}}const Pe="https://cotton-concrete-catsup.glitch.me/app8";function qe(e,t,n){let l,a=!1;window.addEventListener("scroll",(function(){n(1,a=!0),clearTimeout(l),l=setTimeout((()=>{n(1,a=!1)}),1e3)}));let o="all_descs";function c(e){n(2,o=e)}let s=!1;let i=!1,r="en";let d="left";const u={auth_login_result:{en:"Log in result",ja:"ログイン結果",zh:"登录结果",es:"resultado de inicio de sesión"},auth_sign_out:{en:"Sign out",ja:"サインアウト",zh:"登出",es:"Cerrar sesión"},web_data_tags:{en:"Web data tags",ja:"ウェブデータタグ",zh:"网页数据标签",es:"Etiquetas de datos web"},any_user_new_all_descs_with_tags:{en:"My data",ja:"自分のデータ",zh:"我的数据",es:"Mis datos"},all_descs:{en:"All",ja:"すべて",zh:"所有",es:"Todos"},filtered_all_descs:{ja:"絞り込み",en:"Filtered",zh:"过滤",es:"Filtrado"},web_data_edit:{en:"Web data edit",ja:"ウェブデータ編集",zh:"网页数据编辑",es:"Edición de datos web"},title:{en:"Title",ja:"タイトル",zh:"标题",es:"Título"},description:{en:"Description",ja:"説明",zh:"描述",es:"Descripción"},tag:{en:"Tag",ja:"タグ",zh:"标签",es:"Etiqueta"},set_desc_data:{en:"Set",ja:"セット",zh:"设置",es:"Establecer"},delete_desc:{en:"Delete",ja:"削除",zh:"删除",es:"Eliminar"},confirm_delete_desc:{ja:"削除しますか？",en:"Delete?",zh:"删除？",es:"¿Eliminar?"},add_tag_to_desc:{en:"Add tag to description",ja:"説明にタグを追加",zh:"添加标签到描述",es:"Agregar etiqueta a la descripción"},update_desc:{en:"Update description",ja:"説明を更新",zh:"更新描述",es:"Actualizar descripción"},insert_desc:{en:"Insert description",ja:"説明を挿入",zh:"插入描述",es:"Insertar descripción"},clear_filtered_all_descs:{ja:"フィルターをクリア",en:"Clear filter",zh:"清除过滤器",es:"Borrar filtro"},errors:{en:"Errors",ja:"エラー",zh:"错误",es:"Errores"},is_auth_uid_valid:{en:"Invalid auth_uid",ja:"無効なauth_uid",zh:"无效的auth_uid",es:"auth_uid no válido"},is_title_valid:{ja:"タイトルは1文字以上100文字以下",en:"Title must be between 1 and 100 characters",zh:"标题必须在1到100个字符之间",es:"El título debe tener entre 1 y 100 caracteres"},is_description_valid:{ja:"説明は1文字以上1000文字以下",en:"Description must be between 1 and 1000 characters",zh:"描述必须在1到1000个字符之间",es:"La descripción debe tener entre 1 y 1000 caracteres"},are_tags_valid:{ja:"タグは1文字以上10文字以下",en:"Tags must be between 1 and 10 characters",zh:"标签必须在1到10个字符之间",es:"Las etiquetas deben tener entre 1 y 10 caracteres"},confirm_clear_title_description_tags:{ja:"タイトル、説明、タグをクリアしますか？",en:"Clear title, description, and tags?",zh:"清除标题、描述和标签吗？",es:"¿Borrar título, descripción y etiquetas?"},clear_title_description_tags:{ja:"タイトル、説明、タグをクリア",en:"Clear title, description, and tags",zh:"清除标题、描述和标签",es:"Borrar título, descripción y etiquetas"},sort:{ja:"並べ替え",en:"Sort",zh:"分类",es:"Clasificar"},left:{ja:"-",en:"-",zh:"-",es:"-"},right:{ja:"+",en:"+",zh:"+",es:"+"},select_language:{ja:"言語を選択",en:"Select language",zh:"选择语言",es:"Seleccionar idioma"},tab:{ja:"タブ",en:"Tab",zh:"标签",es:"Pestaña"}},_=["id","title","description","tags","created_at","updated_at"];let f={kind:"id",order:"desc"};function g(){try{if(null===f.kind||null===f.order)return;if(void 0===E.all_descs)return;if(void 0===E.any_user_new_all_descs_with_tags)return;const e=(e,t)=>{switch(f.kind){case"id":return"asc"===f.order?e.id-t.id:t.id-e.id;case"title":return"asc"===f.order?e.title.localeCompare(t.title):t.title.localeCompare(e.title);case"description":return"asc"===f.order?e.description.localeCompare(t.description):t.description.localeCompare(e.description);case"tags":return"asc"===f.order?e.tags.length-t.tags.length:t.tags.length-e.tags.length;case"created_at":return"asc"===f.order?e.created_at.localeCompare(t.created_at):t.created_at.localeCompare(e.created_at);case"updated_at":return"asc"===f.order?e.updated_at.localeCompare(t.updated_at):t.updated_at.localeCompare(e.updated_at);default:return 0}},t=E.all_descs.sort(e),l=E.any_user_new_all_descs_with_tags.sort(e);n(16,E={...E,all_descs:t,any_user_new_all_descs_with_tags:l})}catch(e){console.error("Error:",e)}}let h="",p=[],m=null,v="",b="",w=[],$=[],k=[],T="Not logged in",E={all_descs:[],all_tags:[],any_user_new_all_descs_with_tags:[],filtered_all_descs:[]},z={},x="",C=!1;function N({with_confirm:e=!0}={}){e?confirm(u.confirm_clear_title_description_tags[r])&&(n(10,v=""),n(11,b=""),n(12,w=[]),n(9,m=null)):(n(10,v=""),n(11,b=""),n(12,w=[]),n(9,m=null))}function O(e,t){try{if(console.log(k),n(14,k=k.filter((e=>!e.includes(u.are_tags_valid[r])))),console.log(k),!P.validate_tag_name(t))return void k.push(u.are_tags_valid[r]);const l=p.find((e=>e.name===t));if(l){l.desc_id=e;const t=w.some((e=>e.id==e.id));t||n(12,w=[...w,l]),n(7,h="")}else{const l={id:p.length+1,name:t,desc_id:e,created_at:(new Date).toISOString(),updated_at:(new Date).toISOString()};n(8,p=[...p,l]),n(12,w=[...w,l])}}catch(e){console.error("Error:",e)}}function S(e){try{const t=E.all_descs.find((t=>t.id===e));t?(n(9,m=t.id),n(10,v=t.title),n(11,b=t.description),n(12,w=t.tags)):console.error(`No description found with id: ${e}`),n(0,d="right")}catch(e){console.error("Error:",e)}}function I(e){$.some((t=>t===e))||n(13,$=[...$,e]);const t=E.all_descs.filter((e=>e.tags.some((e=>$.some((t=>t===e.id))))));n(16,E.filtered_all_descs=t,E),n(2,o="filtered_all_descs")}function A(e){n(13,$=$.filter((t=>t!==e))),n(16,E.filtered_all_descs=E.filtered_all_descs.filter((e=>e.tags.some((e=>$.some((t=>t===e.id)))))),E)}const P={validate_auth_uid:e=>/^[a-zA-Z0-9_-]+$/.test(e),validate_desc_id:e=>(console.log("validate_desc_id",e),Number.isInteger(e)&&e>0),validate_iso_date:e=>/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$/.test(e),validate_title:e=>(console.log("validate_title",e),"string"==typeof e&&e.length>=1&&e.length<=100),validate_description:e=>(console.log("validate_description",e),"string"==typeof e&&e.length>=1&&e.length<=1e3),validate_tag_name:e=>(console.log("validate_tag_name",e),"string"==typeof e&&e.length>=1&&e.length<=10),validate_data(e){const{auth_uid:t,desc_id:n,title:l,description:a,tags:o}=e,c=this.validate_auth_uid(t),s=this.validate_title(l),i=this.validate_description(a);console.log("tags",o);return{is_auth_uid_valid:c,is_title_valid:s,is_description_valid:i,are_tags_valid:o.every((e=>this.validate_tag_name(e.name)))}}};function q(){const e={auth_uid:x,desc_id:m,title:v,description:b,tags:w};n(14,k=[]);for(const[t,n]of Object.entries(P.validate_data(e)))if(n||k.push(u[t][r]),"tags"===t)for(const[e,t]of n.entries())for(const[n,l]of Object.entries(P.validate_data(t)))l||k.push(`tags[${e}].${n}`);else"auth_uid"===t&&P.validate_auth_uid(x),"desc_id"===t&&P.validate_desc_id(m),"title"===t&&P.validate_title(v),"description"===t&&P.validate_description(b);return!(k.length>0)||(console.log(k),!1)}async function L(){try{if(!q())throw new Error("Validation failed");const e=await fetch(Pe+"/insert_desc",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({auth_uid:x,title:v,description:b,tags:w})});await D(e),n(0,d="left"),n(2,o="all_descs"),N({with_confirm:!1})}catch(e){console.error("Error:",e)}}async function D(e){try{const t=await e.json();t.filtered_all_descs=E.filtered_all_descs?E.filtered_all_descs:[],z=Object.fromEntries(Object.entries(t).filter((([e,t])=>"all_descs"!==e&&"all_tags"!==e&&"any_user_new_all_descs_with_tags"!==e))),n(16,E=Object.fromEntries(Object.entries(t).filter((([e,t])=>"all_descs"===e||"all_tags"===e||"any_user_new_all_descs_with_tags"===e||"filtered_all_descs"===e)))),n(8,p=t.all_tags),g()}catch(e){console.error("Error:",e)}}async function B(){try{const e=await fetch(Pe+"/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({auth_uid:x})});await D(e)}catch(e){console.error("Error:",e)}}async function W(e){try{if(!confirm(u.confirm_delete_desc[r]))return;const t=await fetch(Pe+"/delete_desc",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e,auth_uid:x})});await D(t)}catch(e){console.error("Error:",e)}}firebase.initializeApp({apiKey:"AIzaSyBcOlIDP2KWbJuKM0WeMHNp-WvjTVfLt9Y",authDomain:"p2auth-ea50a.firebaseapp.com",projectId:"p2auth-ea50a",storageBucket:"p2auth-ea50a.appspot.com",messagingSenderId:"796225429484",appId:"1:796225429484:web:ece56ef2fc0be28cd6eac9"});const J=new firebase.auth.GoogleAuthProvider;const M=[{auth_uid:"user1",desc_id:1,created_at:"2024-09-01T00:00:00",updated_at:"2024-09-01T00:00:00",title:"foo1",description:"bar1",tags:[{desc_id:1,id:1,name:"tag1",created_at:"2024-09-01T00:00:00",updated_at:"2024-09-01T00:00:00"},{desc_id:1,id:2,name:"tag2",created_at:"2024-09-01T00:00:00",updated_at:"2024-09-01T00:00:00"},{desc_id:1,id:3,name:"tag3",created_at:"2024-09-01T00:00:00",updated_at:"2024-09-01T00:00:00"}]},{auth_uid:"user1",desc_id:2,created_at:"2024-09-01T00:00:00",updated_at:"2024-09-01T00:00:00",title:"foo2",description:"bar2",tags:[{desc_id:2,id:1,name:"tag1",created_at:"2024-09-01T00:00:00",updated_at:"2024-09-01T00:00:00"},{desc_id:2,id:2,name:"tag2",created_at:"2024-09-01T00:00:00",updated_at:"2024-09-01T00:00:00"}]},{auth_uid:"user2",desc_id:3,created_at:"2024-09-01T00:00:00",updated_at:"2024-09-01T00:00:00",title:"foo3",description:"bar3",tags:[{desc_id:3,id:2,name:"tag2",created_at:"2024-09-01T00:00:00",updated_at:"2024-09-01T00:00:00"},{desc_id:3,id:3,name:"tag3",created_at:"2024-09-01T00:00:00",updated_at:"2024-09-01T00:00:00"}]}],V=[{auth_uid:"user1",desc_id:4,created_at:"2024-09-01T00:00:00",updated_at:"2024-09-01T00:00:00",title:"a".repeat(100),description:"b".repeat(1e3),tags:[{desc_id:4,id:4,name:"tag4",created_at:"2024-09-01T00:00:00",updated_at:"2024-09-01T00:00:00"}]},{auth_uid:"user1",desc_id:5,created_at:"2024-09-01T00:00:00",updated_at:"2024-09-01T00:00:00",title:"",description:"",tags:[{desc_id:5,id:5,name:"t".repeat(10),created_at:"2024-09-01T00:00:00",updated_at:"2024-09-01T00:00:00"}]}];j((async()=>{await async function(){try{const e=await new Promise(((e,t)=>{firebase.auth().onAuthStateChanged(e,t)}));console.log("Current user:",e),e?(n(17,x=e.uid),n(15,T="Logged in")):(console.log(2),n(15,T="Not logged in"),n(17,x=""))}catch(e){console.error("Error during authentication:",e),n(15,T="Authentication failed"),n(17,x="")}}(),console.log("auth_check_login"),await B(),console.log("fetch_get_all_descs_and_tags"),function(){if(location.hash){const e=location.hash.slice(1),t=document.getElementById(e);t&&t.scrollIntoView({behavior:"smooth"})}}()}));return e.$$.update=()=>{1&e.$$.dirty[0]&&(async()=>{"left"===d?(document.documentElement.style.setProperty("--display-left-column","block"),document.documentElement.style.setProperty("--display-right-column","none")):"right"===d&&(document.documentElement.style.setProperty("--display-left-column","none"),document.documentElement.style.setProperty("--display-right-column","block"))})()},[d,a,o,s,i,r,f,h,p,m,v,b,w,$,k,T,E,x,C,c,function(){n(3,s=!s)},function(){n(4,i=!i)},u,_,g,N,function(){n(18,C=!C)},O,S,I,async function(){n(16,E.filtered_all_descs=[],E),n(13,$=[])},A,async function(){try{for(const e of M)n(17,x=e.auth_uid),n(9,m=e.desc_id),n(10,v=e.title),n(11,b=e.description),n(12,w=e.tags),await L()}catch(e){console.error("Error:",e)}},L,B,async function(){try{if(!q())throw new Error("Validation failed");const e=await fetch(Pe+"/update_desc",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({auth_uid:x,desc_id:m,title:v,description:b,tags:w})});await D(e),n(0,d="left"),n(2,o="all_descs"),N({with_confirm:!1})}catch(e){console.error("Error:",e)}},W,async function(){try{console.log("auth_google_login");const e=(await firebase.auth().signInWithPopup(J)).user;console.log(4),n(15,T=`Logged in as: ${e.displayName}`)}catch(e){console.error("Error during Google login:",e),alert("Google login failed. "+e.message)}},async function(){try{console.log(5),await firebase.auth().signOut(),n(15,T="Not logged in")}catch(e){console.error("Error during sign-out:",e),alert("Sign out failed. "+e.message)}},function(){n(10,v=V[1].title),n(11,b=V[1].description),n(12,w=V[1].tags),L()},function(){r=this.__value,n(5,r)},[[]],function(){r=this.__value,n(5,r)},function(){r=this.__value,n(5,r)},function(){r=this.__value,n(5,r)},function(){f.kind=y(this),n(6,f),n(23,_)},function(){f.order=y(this),n(6,f),n(23,_)},()=>n(0,d="right"),e=>c(e),e=>I(e.id),e=>A(e.id),e=>I(e.id),e=>{return t=e.id,navigator.clipboard.writeText(`${window.location.href.split("#")[0]}#${t}`),void alert("Link copied to clipboard");var t},e=>S(e.id),e=>W(e.id),e=>I(e.id),()=>n(0,d="left"),()=>N({with_confirm:!0}),function(){v=this.value,n(10,v)},function(){b=this.value,n(11,b)},e=>n(12,w=w.filter((t=>t.id!==e.id))),function(){h=this.value,n(7,h)},()=>O(m,h)]}return new class extends W{constructor(e){super(),B(this,e,qe,Ae,o,{},null,[-1,-1,-1,-1])}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
