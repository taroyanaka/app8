var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function l(t){t.forEach(e)}function a(t){return"function"==typeof t}function i(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function c(t){return null==t?"":t}function o(t,e){t.appendChild(e)}function s(t,e,n){t.insertBefore(e,n||null)}function r(t){t.parentNode&&t.parentNode.removeChild(t)}function d(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function u(t){return document.createElement(t)}function _(t){return document.createTextNode(t)}function f(){return _(" ")}function g(){return _("")}function h(t,e,n,l){return t.addEventListener(e,n,l),()=>t.removeEventListener(e,n,l)}function p(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function m(t,e){e=""+e,t.data!==e&&(t.data=e)}function v(t,e){t.value=null==e?"":e}function b(t,e,n){for(let n=0;n<t.options.length;n+=1){const l=t.options[n];if(l.__value===e)return void(l.selected=!0)}n&&void 0===e||(t.selectedIndex=-1)}function k(t){const e=t.querySelector(":checked");return e&&e.__value}function y(t,e,n){t.classList[n?"add":"remove"](e)}let w;function $(t){w=t}function j(t){(function(){if(!w)throw new Error("Function called outside component initialization");return w})().$$.on_mount.push(t)}const T=[],E=[];let x=[];const z=[],C=Promise.resolve();let N=!1;function O(t){x.push(t)}const S=new Set;let I=0;function A(){if(0!==I)return;const t=w;do{try{for(;I<T.length;){const t=T[I];I++,$(t),P(t.$$)}}catch(t){throw T.length=0,I=0,t}for($(null),T.length=0,I=0;E.length;)E.pop()();for(let t=0;t<x.length;t+=1){const e=x[t];S.has(e)||(S.add(e),e())}x.length=0}while(T.length);for(;z.length;)z.pop()();N=!1,S.clear(),$(t)}function P(t){if(null!==t.fragment){t.update(),l(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(O)}}const q=new Set;function L(t,e){const n=t.$$;null!==n.fragment&&(!function(t){const e=[],n=[];x.forEach((l=>-1===t.indexOf(l)?e.push(l):n.push(l))),n.forEach((t=>t())),x=e}(n.after_update),l(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function D(t,e){-1===t.$$.dirty[0]&&(T.push(t),N||(N=!0,C.then(A)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function B(i,c,o,s,d,u,_,f=[-1]){const g=w;$(i);const h=i.$$={fragment:null,ctx:[],props:u,update:t,not_equal:d,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(c.context||(g?g.$$.context:[])),callbacks:n(),dirty:f,skip_bound:!1,root:c.target||g.$$.root};_&&_(h.root);let p=!1;if(h.ctx=o?o(i,c.props||{},((t,e,...n)=>{const l=n.length?n[0]:e;return h.ctx&&d(h.ctx[t],h.ctx[t]=l)&&(!h.skip_bound&&h.bound[t]&&h.bound[t](l),p&&D(i,t)),e})):[],h.update(),p=!0,l(h.before_update),h.fragment=!!s&&s(h.ctx),c.target){if(c.hydrate){const t=function(t){return Array.from(t.childNodes)}(c.target);h.fragment&&h.fragment.l(t),t.forEach(r)}else h.fragment&&h.fragment.c();c.intro&&((m=i.$$.fragment)&&m.i&&(q.delete(m),m.i(v))),function(t,n,i,c){const{fragment:o,after_update:s}=t.$$;o&&o.m(n,i),c||O((()=>{const n=t.$$.on_mount.map(e).filter(a);t.$$.on_destroy?t.$$.on_destroy.push(...n):l(n),t.$$.on_mount=[]})),s.forEach(O)}(i,c.target,c.anchor,c.customElement),A()}var m,v;$(g)}class W{$destroy(){L(this,1),this.$destroy=t}$on(e,n){if(!a(n))return t;const l=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return l.push(n),()=>{const t=l.indexOf(n);-1!==t&&l.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function J(t,e,n){const l=t.slice();return l[73]=e[n],l}function M(t,e,n){const l=t.slice();return l[76]=e[n],l}function V(t,e,n){const l=t.slice();return l[76]=e[n],l}function F(t,e,n){const l=t.slice();return l[81]=e[n][0],l[82]=e[n][1],l}function G(t,e,n){const l=t.slice();return l[76]=e[n],l}function K(t,e,n){const l=t.slice();return l[87]=e[n],l}function H(t,e,n){const l=t.slice();return l[76]=e[n],l}function U(t,e,n){const l=t.slice();return l[92]=e[n],l}function Y(t,e,n){const l=t.slice();return l[76]=e[n],l}function Z(t,e,n){const l=t.slice();return l[76]=e[n],l}function Q(t,e,n){const l=t.slice();return l[99]=e[n],l}function R(t,e,n){const l=t.slice();return l[73]=e[n],l}function X(t,e,n){const l=t.slice();return l[104]=e[n],l}function tt(t,e,n){const l=t.slice();return l[107]=e[n],l}function et(t){let e,n,a,i,c,g,v,k,y,w,$,j,T,E,x,z,C,N,S,I,A,P,q,L,D,B=t[20].select_language[t[15]]+"",W=t[20].sort[t[15]]+"",J=t[20].auth_login_result[t[15]]+"",M=t[14]&&nt(t),V=t[19],F=[];for(let e=0;e<V.length;e+=1)F[e]=lt(tt(t,V,e));let G=["desc","asc"],K=[];for(let e=0;e<2;e+=1)K[e]=at(X(t,G,e));let H=""===t[18]&&it(t),U=""!==t[18]&&ct(t);return{c(){e=u("div"),n=u("button"),a=_(B),i=f(),M&&M.c(),c=f(),g=u("div"),v=u("select");for(let t=0;t<F.length;t+=1)F[t].c();k=f(),y=u("select");for(let t=0;t<2;t+=1)K[t].c();w=f(),$=u("button"),j=_(W),T=f(),E=u("div"),E.textContent="v1.2.3",x=f(),z=u("div"),C=_(J),N=_(": "),S=u("span"),I=_(t[17]),A=f(),H&&H.c(),P=f(),U&&U.c(),q=f(),p(n,"class","svelte-io8kt7"),void 0===t[4].kind&&O((()=>t[45].call(v))),void 0===t[4].order&&O((()=>t[46].call(y))),p($,"class","svelte-io8kt7"),p(E,"class","version"),p(e,"class","menu_list svelte-io8kt7")},m(l,r){s(l,e,r),o(e,n),o(n,a),o(e,i),M&&M.m(e,null),o(e,c),o(e,g),o(g,v);for(let t=0;t<F.length;t+=1)F[t]&&F[t].m(v,null);b(v,t[4].kind,!0),o(g,k),o(g,y);for(let t=0;t<2;t+=1)K[t]&&K[t].m(y,null);b(y,t[4].order,!0),o(g,w),o(g,$),o($,j),o(e,T),o(e,E),o(e,x),o(e,z),o(z,C),o(z,N),o(z,S),o(S,I),o(e,A),H&&H.m(e,null),o(e,P),U&&U.m(e,null),o(e,q),L||(D=[h(n,"click",t[31]),h(v,"change",t[45]),h(y,"change",t[46]),h($,"click",t[29])],L=!0)},p(t,n){if(32768&n[0]&&B!==(B=t[20].select_language[t[15]]+"")&&m(a,B),t[14]?M?M.p(t,n):(M=nt(t),M.c(),M.m(e,c)):M&&(M.d(1),M=null),524288&n[0]){let e;for(V=t[19],e=0;e<V.length;e+=1){const l=tt(t,V,e);F[e]?F[e].p(l,n):(F[e]=lt(l),F[e].c(),F[e].m(v,null))}for(;e<F.length;e+=1)F[e].d(1);F.length=V.length}524304&n[0]&&b(v,t[4].kind),524304&n[0]&&b(y,t[4].order),32768&n[0]&&W!==(W=t[20].sort[t[15]]+"")&&m(j,W),32768&n[0]&&J!==(J=t[20].auth_login_result[t[15]]+"")&&m(C,J),131072&n[0]&&m(I,t[17]),""===t[18]?H?H.p(t,n):(H=it(t),H.c(),H.m(e,P)):H&&(H.d(1),H=null),""!==t[18]?U?U.p(t,n):(U=ct(t),U.c(),U.m(e,q)):U&&(U.d(1),U=null)},d(t){t&&r(e),M&&M.d(),d(F,t),d(K,t),H&&H.d(),U&&U.d(),L=!1,l(D)}}}function nt(t){let e,n,a,i,c,d,g,v,b,k,y,w,$,j,T,E,x,z,C,N,O,S,I,A,P,q,L=t[20].select_language[t[15]]+"";return A=function(t){let e;return{p(...n){e=n,e.forEach((e=>t.push(e)))},r(){e.forEach((e=>t.splice(t.indexOf(e),1)))}}}(t[41][0]),{c(){e=u("div"),n=u("div"),a=u("button"),a.textContent="×",i=f(),c=u("h2"),d=_(L),g=f(),v=u("div"),b=u("input"),k=f(),y=u("label"),y.textContent="🇺🇸 English",w=f(),$=u("input"),j=f(),T=u("label"),T.textContent="🇯🇵 日本語",E=f(),x=u("input"),z=f(),C=u("label"),C.textContent="🇨🇳🇹🇼 中文",N=f(),O=u("input"),S=f(),I=u("label"),I.textContent="🇪🇸 Español",p(a,"class","close svelte-io8kt7"),p(b,"type","radio"),p(b,"id","en"),p(b,"name","design_lang"),b.__value="en",b.value=b.__value,p(y,"for","en"),p($,"type","radio"),p($,"id","ja"),p($,"name","design_lang"),$.__value="ja",$.value=$.__value,p(T,"for","ja"),p(x,"type","radio"),p(x,"id","zh"),p(x,"name","design_lang"),x.__value="zh",x.value=x.__value,p(C,"for","zh"),p(O,"type","radio"),p(O,"id","es"),p(O,"name","design_lang"),O.__value="es",O.value=O.__value,p(I,"for","es"),p(n,"class","modal-content svelte-io8kt7"),p(e,"class","modal svelte-io8kt7"),A.p(b,$,x,O)},m(l,r){s(l,e,r),o(e,n),o(n,a),o(n,i),o(n,c),o(c,d),o(n,g),o(n,v),o(v,b),b.checked=b.__value===t[15],o(v,k),o(v,y),o(v,w),o(v,$),$.checked=$.__value===t[15],o(v,j),o(v,T),o(v,E),o(v,x),x.checked=x.__value===t[15],o(v,z),o(v,C),o(v,N),o(v,O),O.checked=O.__value===t[15],o(v,S),o(v,I),P||(q=[h(a,"click",t[31]),h(b,"change",t[40]),h($,"change",t[42]),h(x,"change",t[43]),h(O,"change",t[44])],P=!0)},p(t,e){32768&e[0]&&L!==(L=t[20].select_language[t[15]]+"")&&m(d,L),32768&e[0]&&(b.checked=b.__value===t[15]),32768&e[0]&&($.checked=$.__value===t[15]),32768&e[0]&&(x.checked=x.__value===t[15]),32768&e[0]&&(O.checked=O.__value===t[15])},d(t){t&&r(e),A.r(),P=!1,l(q)}}}function lt(e){let n,l,a=e[107]+"";return{c(){n=u("option"),l=_(a),n.__value=e[107],n.value=n.__value},m(t,e){s(t,n,e),o(n,l)},p:t,d(t){t&&r(n)}}}function at(e){let n,l;return{c(){n=u("option"),l=_(e[104]),n.__value=e[104],n.value=n.__value},m(t,e){s(t,n,e),o(n,l)},p:t,d(t){t&&r(n)}}}function it(e){let n,l,a,i,c;return{c(){n=u("div"),l=_("auth_google_login: "),a=u("button"),a.textContent="auth_google_login",p(a,"class","svelte-io8kt7")},m(t,r){s(t,n,r),o(n,l),o(n,a),i||(c=h(a,"click",e[38]),i=!0)},p:t,d(t){t&&r(n),i=!1,c()}}}function ct(t){let e,n,l,a,i,c=t[20].auth_sign_out[t[15]]+"";return{c(){e=u("div"),n=u("button"),l=_(c),p(n,"class","svelte-io8kt7")},m(c,r){s(c,e,r),o(e,n),o(n,l),a||(i=h(n,"click",t[39]),a=!0)},p(t,e){32768&e[0]&&c!==(c=t[20].auth_sign_out[t[15]]+"")&&m(l,c)},d(t){t&&r(e),a=!1,i()}}}function ot(t){let e,n,l,a=t[9],i=[];for(let e=0;e<a.length;e+=1)i[e]=st(R(t,a,e));return{c(){e=u("p"),e.textContent="Errors:",n=f();for(let t=0;t<i.length;t+=1)i[t].c();l=g()},m(t,a){s(t,e,a),s(t,n,a);for(let e=0;e<i.length;e+=1)i[e]&&i[e].m(t,a);s(t,l,a)},p(t,e){if(512&e[0]){let n;for(a=t[9],n=0;n<a.length;n+=1){const c=R(t,a,n);i[n]?i[n].p(c,e):(i[n]=st(c),i[n].c(),i[n].m(l.parentNode,l))}for(;n<i.length;n+=1)i[n].d(1);i.length=a.length}},d(t){t&&r(e),t&&r(n),d(i,t),t&&r(l)}}}function st(t){let e,n,l=t[73]+"";return{c(){e=u("div"),n=_(l)},m(t,l){s(t,e,l),o(e,n)},p(t,e){512&e[0]&&l!==(l=t[73]+"")&&m(n,l)},d(t){t&&r(e)}}}function rt(t){let e,n,l,a,i,c,d,g,v=(t[20][t[99]]?t[20][t[99]][t[15]]:t[99])+"",b="all_descs"===t[99]&&dt(),k="any_user_new_all_descs_with_tags"===t[99]&&ut(),w="filtered_all_descs"===t[99]&&_t();function $(){return t[48](t[99])}return{c(){e=u("button"),b&&b.c(),n=f(),k&&k.c(),l=f(),w&&w.c(),a=f(),i=_(v),c=f(),p(e,"class","svelte-io8kt7"),y(e,"active",t[12]===t[99])},m(t,r){s(t,e,r),b&&b.m(e,null),o(e,n),k&&k.m(e,null),o(e,l),w&&w.m(e,null),o(e,a),o(e,i),o(e,c),d||(g=h(e,"click",$),d=!0)},p(c,o){"all_descs"===(t=c)[99]?b||(b=dt(),b.c(),b.m(e,n)):b&&(b.d(1),b=null),"any_user_new_all_descs_with_tags"===t[99]?k||(k=ut(),k.c(),k.m(e,l)):k&&(k.d(1),k=null),"filtered_all_descs"===t[99]?w||(w=_t(),w.c(),w.m(e,a)):w&&(w.d(1),w=null),33792&o[0]&&v!==(v=(t[20][t[99]]?t[20][t[99]][t[15]]:t[99])+"")&&m(i,v),5120&o[0]&&y(e,"active",t[12]===t[99])},d(t){t&&r(e),b&&b.d(),k&&k.d(),w&&w.d(),d=!1,g()}}}function dt(t){let e;return{c(){e=u("div"),e.textContent="home",p(e,"class","material-icons")},m(t,n){s(t,e,n)},d(t){t&&r(e)}}}function ut(t){let e;return{c(){e=u("div"),e.textContent="person",p(e,"class","material-icons")},m(t,n){s(t,e,n)},d(t){t&&r(e)}}}function _t(t){let e;return{c(){e=u("div"),e.textContent="filter",p(e,"class","material-icons")},m(t,n){s(t,e,n)},d(t){t&&r(e)}}}function ft(t){let e,n="all_tags"!==t[99]&&rt(t);return{c(){n&&n.c(),e=g()},m(t,l){n&&n.m(t,l),s(t,e,l)},p(t,l){"all_tags"!==t[99]?n?n.p(t,l):(n=rt(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&r(e)}}}function gt(t){let e,n="all_tags"!==t[12]&&t[12]===t[81]&&ht(t);return{c(){n&&n.c(),e=g()},m(t,l){n&&n.m(t,l),s(t,e,l)},p(t,l){"all_tags"!==t[12]&&t[12]===t[81]?n?n.p(t,l):(n=ht(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&r(e)}}}function ht(t){let e,n,l,a="filtered_all_descs"===t[81]&&pt(t),i=t[82],_=[];for(let e=0;e<i.length;e+=1)_[e]=jt(K(t,i,e));return{c(){e=u("div"),a&&a.c(),n=f();for(let t=0;t<_.length;t+=1)_[t].c();p(e,"class",l=c(t[81])+" svelte-io8kt7")},m(t,l){s(t,e,l),a&&a.m(e,null),o(e,n);for(let t=0;t<_.length;t+=1)_[t]&&_[t].m(e,null)},p(t,o){if("filtered_all_descs"===t[81]?a?a.p(t,o):(a=pt(t),a.c(),a.m(e,n)):a&&(a.d(1),a=null),307594240&o[0]|66&o[1]){let n;for(i=t[82],n=0;n<i.length;n+=1){const l=K(t,i,n);_[n]?_[n].p(l,o):(_[n]=jt(l),_[n].c(),_[n].m(e,null))}for(;n<_.length;n+=1)_[n].d(1);_.length=i.length}1024&o[0]&&l!==(l=c(t[81])+" svelte-io8kt7")&&p(e,"class",l)},d(t){t&&r(e),a&&a.d(),d(_,t)}}}function pt(t){let e,n,l,a,i,c,v,b,k,y,w,$=t[20].clear_filtered_all_descs[t[15]]+"",j=t[6],T=[];for(let e=0;e<j.length;e+=1)T[e]=mt(Z(t,j,e));let E=t[8],x=[];for(let e=0;e<E.length;e+=1)x[e]=kt(U(t,E,e));return{c(){e=_("all_tags: \n\t\t\t\t\t"),n=u("div");for(let t=0;t<T.length;t+=1)T[t].c();l=f(),a=u("div"),i=f(),c=u("button"),v=_($),b=f();for(let t=0;t<x.length;t+=1)x[t].c();k=g(),p(n,"class","parent_tags svelte-io8kt7"),p(a,"class","each_desc_border svelte-io8kt7"),p(c,"class","svelte-io8kt7")},m(r,d){s(r,e,d),s(r,n,d);for(let t=0;t<T.length;t+=1)T[t]&&T[t].m(n,null);s(r,l,d),s(r,a,d),s(r,i,d),s(r,c,d),o(c,v),s(r,b,d);for(let t=0;t<x.length;t+=1)x[t]&&x[t].m(r,d);s(r,k,d),y||(w=h(c,"click",t[26]),y=!0)},p(t,e){if(4194368&e[0]){let l;for(j=t[6],l=0;l<j.length;l+=1){const a=Z(t,j,l);T[l]?T[l].p(a,e):(T[l]=mt(a),T[l].c(),T[l].m(n,null))}for(;l<T.length;l+=1)T[l].d(1);T.length=j.length}if(32768&e[0]&&$!==($=t[20].clear_filtered_all_descs[t[15]]+"")&&m(v,$),8388928&e[0]){let n;for(E=t[8],n=0;n<E.length;n+=1){const l=U(t,E,n);x[n]?x[n].p(l,e):(x[n]=kt(l),x[n].c(),x[n].m(k.parentNode,k))}for(;n<x.length;n+=1)x[n].d(1);x.length=E.length}},d(t){t&&r(e),t&&r(n),d(T,t),t&&r(l),t&&r(a),t&&r(i),t&&r(c),t&&r(b),d(x,t),t&&r(k),y=!1,w()}}}function mt(t){let e,n,l,a,i=t[76].name+"";function c(){return t[49](t[76])}return{c(){e=u("button"),n=_(i),p(e,"class","tag svelte-io8kt7")},m(t,i){s(t,e,i),o(e,n),l||(a=h(e,"click",c),l=!0)},p(e,l){t=e,64&l[0]&&i!==(i=t[76].name+"")&&m(n,i)},d(t){t&&r(e),l=!1,a()}}}function vt(t){let e,n,l,a,i=t[76].name+"";function c(){return t[50](t[76])}return{c(){e=u("button"),n=_(i),p(e,"class","tag svelte-io8kt7")},m(t,i){s(t,e,i),o(e,n),l||(a=h(e,"click",c),l=!0)},p(e,l){t=e,64&l[0]&&i!==(i=t[76].name+"")&&m(n,i)},d(t){t&&r(e),l=!1,a()}}}function bt(t){let e,n=t[76].name===t[92]&&vt(t);return{c(){n&&n.c(),e=g()},m(t,l){n&&n.m(t,l),s(t,e,l)},p(t,l){t[76].name===t[92]?n?n.p(t,l):(n=vt(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&r(e)}}}function kt(t){let e,n,l=t[6],a=[];for(let e=0;e<l.length;e+=1)a[e]=bt(Y(t,l,e));return{c(){e=u("div");for(let t=0;t<a.length;t+=1)a[t].c();n=f(),p(e,"class","parent_tags svelte-io8kt7")},m(t,l){s(t,e,l);for(let t=0;t<a.length;t+=1)a[t]&&a[t].m(e,null);o(e,n)},p(t,i){if(8388928&i[0]){let c;for(l=t[6],c=0;c<l.length;c+=1){const o=Y(t,l,c);a[c]?a[c].p(o,i):(a[c]=bt(o),a[c].c(),a[c].m(e,n))}for(;c<a.length;c+=1)a[c].d(1);a.length=l.length}},d(t){t&&r(e),d(a,t)}}}function yt(t){let e,n=t[87].tags,l=[];for(let e=0;e<n.length;e+=1)l[e]=wt(H(t,n,e));return{c(){e=u("div");for(let t=0;t<l.length;t+=1)l[t].c();p(e,"class","desc_tags svelte-io8kt7")},m(t,n){s(t,e,n);for(let t=0;t<l.length;t+=1)l[t]&&l[t].m(e,null)},p(t,a){if(4195328&a[0]){let i;for(n=t[87].tags,i=0;i<n.length;i+=1){const c=H(t,n,i);l[i]?l[i].p(c,a):(l[i]=wt(c),l[i].c(),l[i].m(e,null))}for(;i<l.length;i+=1)l[i].d(1);l.length=n.length}},d(t){t&&r(e),d(l,t)}}}function wt(t){let e,n,l,a,i=t[76].name+"";function c(){return t[51](t[76])}return{c(){e=u("button"),n=_(i),p(e,"class","tag svelte-io8kt7")},m(t,i){s(t,e,i),o(e,n),l||(a=h(e,"click",c),l=!0)},p(e,l){t=e,1024&l[0]&&i!==(i=t[76].name+"")&&m(n,i)},d(t){t&&r(e),l=!1,a()}}}function $t(t){let e,n,a,i,c,d,g,v=t[20].set_desc_data[t[15]]+"",b=t[20].delete_desc[t[15]]+"";function k(){return t[53](t[87])}function y(){return t[54](t[87])}return{c(){e=u("button"),n=_(v),a=f(),i=u("button"),c=_(b),p(e,"class","set_desc_data svelte-io8kt7"),p(i,"class","fetch_delete_desc svelte-io8kt7")},m(t,l){s(t,e,l),o(e,n),s(t,a,l),s(t,i,l),o(i,c),d||(g=[h(e,"click",k),h(i,"click",y)],d=!0)},p(e,l){t=e,32768&l[0]&&v!==(v=t[20].set_desc_data[t[15]]+"")&&m(n,v),32768&l[0]&&b!==(b=t[20].delete_desc[t[15]]+"")&&m(c,b)},d(t){t&&r(e),t&&r(a),t&&r(i),d=!1,l(g)}}}function jt(t){let e,n,a,i,c,d,g,v,b,k,y,w,$,j,T,E,x,z,C,N=t[87].title+"",O=(t[87].description.length>200&&!t[16]?t[87].description.slice(0,200)+"...▼":t[87].description)+"",S=t[87].id+"",I=t[87].tags&&yt(t);function A(){return t[52](t[87])}let P="any_user_new_all_descs_with_tags"===t[81]&&t[18]&&$t(t);return{c(){e=u("div"),n=u("p"),a=_(N),i=f(),c=u("p"),d=u("button"),g=_(O),v=f(),I&&I.c(),b=f(),k=u("div"),y=u("p"),w=u("button"),$=_("id: "),j=_(S),T=f(),P&&P.c(),x=f(),p(n,"class","title break_word_title svelte-io8kt7"),p(d,"class","button_reset break_word svelte-io8kt7"),p(c,"class","break_word svelte-io8kt7"),p(w,"class","id button_reset svelte-io8kt7"),p(y,"id",E=t[87].id),p(y,"class","id_and_set_delete svelte-io8kt7"),p(k,"class","each_desc_border svelte-io8kt7")},m(l,r){s(l,e,r),o(e,n),o(n,a),o(e,i),o(e,c),o(c,d),o(d,g),o(e,v),I&&I.m(e,null),s(l,b,r),s(l,k,r),o(k,y),o(y,w),o(w,$),o(w,j),o(y,T),P&&P.m(y,null),o(k,x),z||(C=[h(d,"click",t[32]),h(w,"click",A)],z=!0)},p(n,l){t=n,1024&l[0]&&N!==(N=t[87].title+"")&&m(a,N),66560&l[0]&&O!==(O=(t[87].description.length>200&&!t[16]?t[87].description.slice(0,200)+"...▼":t[87].description)+"")&&m(g,O),t[87].tags?I?I.p(t,l):(I=yt(t),I.c(),I.m(e,null)):I&&(I.d(1),I=null),1024&l[0]&&S!==(S=t[87].id+"")&&m(j,S),"any_user_new_all_descs_with_tags"===t[81]&&t[18]?P?P.p(t,l):(P=$t(t),P.c(),P.m(y,null)):P&&(P.d(1),P=null),1024&l[0]&&E!==(E=t[87].id)&&p(y,"id",E)},d(t){t&&r(e),I&&I.d(),t&&r(b),t&&r(k),P&&P.d(),z=!1,l(C)}}}function Tt(t){let e,n,l,a,i,c=t[20].web_data_tags[t[15]]+"",d=t[10].all_tags&&Et(t);return{c(){e=u("div"),n=u("h1"),l=_(c),a=f(),d&&d.c(),i=f(),p(n,"class","svelte-io8kt7"),p(e,"class","web_data_tags svelte-io8kt7")},m(t,c){s(t,e,c),o(e,n),o(n,l),o(e,a),d&&d.m(e,null),o(e,i)},p(t,n){32768&n[0]&&c!==(c=t[20].web_data_tags[t[15]]+"")&&m(l,c),t[10].all_tags?d?d.p(t,n):(d=Et(t),d.c(),d.m(e,i)):d&&(d.d(1),d=null)},d(t){t&&r(e),d&&d.d()}}}function Et(t){let e,n=t[6],l=[];for(let e=0;e<n.length;e+=1)l[e]=xt(G(t,n,e));return{c(){e=u("div");for(let t=0;t<l.length;t+=1)l[t].c();p(e,"class","parent_tags svelte-io8kt7")},m(t,n){s(t,e,n);for(let t=0;t<l.length;t+=1)l[t]&&l[t].m(e,null)},p(t,a){if(4194368&a[0]){let i;for(n=t[6],i=0;i<n.length;i+=1){const c=G(t,n,i);l[i]?l[i].p(c,a):(l[i]=xt(c),l[i].c(),l[i].m(e,null))}for(;i<l.length;i+=1)l[i].d(1);l.length=n.length}},d(t){t&&r(e),d(l,t)}}}function xt(t){let e,n,l,a,i=t[76].name+"";function c(){return t[55](t[76])}return{c(){e=u("button"),n=_(i),p(e,"class","tag svelte-io8kt7")},m(t,i){s(t,e,i),o(e,n),l||(a=h(e,"click",c),l=!0)},p(e,l){t=e,64&l[0]&&i!==(i=t[76].name+"")&&m(n,i)},d(t){t&&r(e),l=!1,a()}}}function zt(t){let e,n,l="all_tags"!==t[81]&&gt(t),a="all_tags"===t[12]&&"all_tags"===t[81]&&Tt(t);return{c(){l&&l.c(),e=f(),a&&a.c(),n=g()},m(t,i){l&&l.m(t,i),s(t,e,i),a&&a.m(t,i),s(t,n,i)},p(t,i){"all_tags"!==t[81]?l?l.p(t,i):(l=gt(t),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null),"all_tags"===t[12]&&"all_tags"===t[81]?a?a.p(t,i):(a=Tt(t),a.c(),a.m(n.parentNode,n)):a&&(a.d(1),a=null)},d(t){l&&l.d(t),t&&r(e),a&&a.d(t),t&&r(n)}}}function Ct(t){let e,n,a,i,c,b,k,y,w,$,j,T,E,x,z,C,N,O,S,I,A,P,q,L,D,B,W,J,F,G=t[20].clear_title_description_tags[t[15]]+"",K=t[20].tag[t[15]]+"",H=t[20].add_tag_to_desc[t[15]]+"",U=null!==t[1]&&Nt(t),Y=t[7],Z=[];for(let e=0;e<Y.length;e+=1)Z[e]=Ot(V(t,Y,e));let Q=t[6],R=[];for(let e=0;e<Q.length;e+=1)R[e]=St(M(t,Q,e));let X=t[9].length>0&&It(t),tt=null===t[1]&&Pt(t),et=null!==t[1]&&qt(t);return{c(){U&&U.c(),e=f(),n=u("button"),a=_(G),i=f(),c=u("div"),c.textContent="title:",b=f(),k=u("textarea"),y=f(),w=u("div"),w.textContent="description:",$=f(),j=u("textarea"),T=f(),E=u("div");for(let t=0;t<Z.length;t+=1)Z[t].c();x=f(),z=u("label"),C=_(K),N=f(),O=u("input"),S=f(),I=u("datalist");for(let t=0;t<R.length;t+=1)R[t].c();A=f(),P=u("button"),q=_(H),L=f(),X&&X.c(),D=f(),tt&&tt.c(),B=f(),et&&et.c(),W=g(),p(n,"class","svelte-io8kt7"),p(k,"class","title svelte-io8kt7"),p(k,"minlength","1"),p(k,"maxlength","100"),k.required=!0,p(k,"placeholder","1_100"),p(j,"class","description svelte-io8kt7"),p(j,"minlength","1"),p(j,"maxlength","1000"),j.required=!0,p(j,"placeholder","1_1000"),p(z,"for","my_all_tags"),p(O,"list","all_tags"),p(O,"id","my_all_tags"),p(O,"name","my_all_tags"),p(O,"minlength","1"),p(O,"maxlength","10"),O.required=!0,p(O,"placeholder","1_10"),p(I,"id","all_tags"),p(P,"class","svelte-io8kt7")},m(l,r){U&&U.m(l,r),s(l,e,r),s(l,n,r),o(n,a),s(l,i,r),s(l,c,r),s(l,b,r),s(l,k,r),v(k,t[2]),s(l,y,r),s(l,w,r),s(l,$,r),s(l,j,r),v(j,t[3]),s(l,T,r),s(l,E,r);for(let t=0;t<Z.length;t+=1)Z[t]&&Z[t].m(E,null);s(l,x,r),s(l,z,r),o(z,C),s(l,N,r),s(l,O,r),v(O,t[5]),s(l,S,r),s(l,I,r);for(let t=0;t<R.length;t+=1)R[t]&&R[t].m(I,null);s(l,A,r),s(l,P,r),o(P,q),s(l,L,r),X&&X.m(l,r),s(l,D,r),tt&&tt.m(l,r),s(l,B,r),et&&et.m(l,r),s(l,W,r),J||(F=[h(n,"click",t[57]),h(k,"input",t[58]),h(j,"input",t[59]),h(O,"input",t[61]),h(P,"click",t[62])],J=!0)},p(t,n){if(null!==t[1]?U?U.p(t,n):(U=Nt(t),U.c(),U.m(e.parentNode,e)):U&&(U.d(1),U=null),32768&n[0]&&G!==(G=t[20].clear_title_description_tags[t[15]]+"")&&m(a,G),4&n[0]&&v(k,t[2]),8&n[0]&&v(j,t[3]),128&n[0]){let e;for(Y=t[7],e=0;e<Y.length;e+=1){const l=V(t,Y,e);Z[e]?Z[e].p(l,n):(Z[e]=Ot(l),Z[e].c(),Z[e].m(E,null))}for(;e<Z.length;e+=1)Z[e].d(1);Z.length=Y.length}if(32768&n[0]&&K!==(K=t[20].tag[t[15]]+"")&&m(C,K),32&n[0]&&O.value!==t[5]&&v(O,t[5]),64&n[0]){let e;for(Q=t[6],e=0;e<Q.length;e+=1){const l=M(t,Q,e);R[e]?R[e].p(l,n):(R[e]=St(l),R[e].c(),R[e].m(I,null))}for(;e<R.length;e+=1)R[e].d(1);R.length=Q.length}32768&n[0]&&H!==(H=t[20].add_tag_to_desc[t[15]]+"")&&m(q,H),t[9].length>0?X?X.p(t,n):(X=It(t),X.c(),X.m(D.parentNode,D)):X&&(X.d(1),X=null),null===t[1]?tt?tt.p(t,n):(tt=Pt(t),tt.c(),tt.m(B.parentNode,B)):tt&&(tt.d(1),tt=null),null!==t[1]?et?et.p(t,n):(et=qt(t),et.c(),et.m(W.parentNode,W)):et&&(et.d(1),et=null)},d(t){U&&U.d(t),t&&r(e),t&&r(n),t&&r(i),t&&r(c),t&&r(b),t&&r(k),t&&r(y),t&&r(w),t&&r($),t&&r(j),t&&r(T),t&&r(E),d(Z,t),t&&r(x),t&&r(z),t&&r(N),t&&r(O),t&&r(S),t&&r(I),d(R,t),t&&r(A),t&&r(P),t&&r(L),X&&X.d(t),t&&r(D),tt&&tt.d(t),t&&r(B),et&&et.d(t),t&&r(W),J=!1,l(F)}}}function Nt(t){let e,n,l;return{c(){e=u("p"),n=_("id: "),l=_(t[1])},m(t,a){s(t,e,a),o(e,n),o(e,l)},p(t,e){2&e[0]&&m(l,t[1])},d(t){t&&r(e)}}}function Ot(t){let e,n,l,a,i=t[76].name+"";function c(){return t[60](t[76])}return{c(){e=u("button"),n=_(i),p(e,"class","svelte-io8kt7")},m(t,i){s(t,e,i),o(e,n),l||(a=h(e,"click",c),l=!0)},p(e,l){t=e,128&l[0]&&i!==(i=t[76].name+"")&&m(n,i)},d(t){t&&r(e),l=!1,a()}}}function St(t){let e,n;return{c(){e=u("option"),e.__value=n=t[76].name,e.value=e.__value},m(t,n){s(t,e,n)},p(t,l){64&l[0]&&n!==(n=t[76].name)&&(e.__value=n,e.value=e.__value)},d(t){t&&r(e)}}}function It(t){let e,n,l,a,i=t[20].errors[t[15]]+"",c=t[9],h=[];for(let e=0;e<c.length;e+=1)h[e]=At(J(t,c,e));return{c(){e=u("h2"),n=_(i),l=f();for(let t=0;t<h.length;t+=1)h[t].c();a=g()},m(t,i){s(t,e,i),o(e,n),s(t,l,i);for(let e=0;e<h.length;e+=1)h[e]&&h[e].m(t,i);s(t,a,i)},p(t,e){if(32768&e[0]&&i!==(i=t[20].errors[t[15]]+"")&&m(n,i),512&e[0]){let n;for(c=t[9],n=0;n<c.length;n+=1){const l=J(t,c,n);h[n]?h[n].p(l,e):(h[n]=At(l),h[n].c(),h[n].m(a.parentNode,a))}for(;n<h.length;n+=1)h[n].d(1);h.length=c.length}},d(t){t&&r(e),t&&r(l),d(h,t),t&&r(a)}}}function At(t){let e,n,l=t[73]+"";return{c(){e=u("p"),n=_(l)},m(t,l){s(t,e,l),o(e,n)},p(t,e){512&e[0]&&l!==(l=t[73]+"")&&m(n,l)},d(t){t&&r(e)}}}function Pt(t){let e,n,l,a,i=t[20].insert_desc[t[15]]+"";return{c(){e=u("button"),n=_(i),p(e,"class","fetch_insert_desc_button svelte-io8kt7")},m(i,c){s(i,e,c),o(e,n),l||(a=h(e,"click",t[34]),l=!0)},p(t,e){32768&e[0]&&i!==(i=t[20].insert_desc[t[15]]+"")&&m(n,i)},d(t){t&&r(e),l=!1,a()}}}function qt(t){let e,n,l,a,i=t[20].update_desc[t[15]]+"";return{c(){e=u("button"),n=_(i),p(e,"class","fetch_update_desc_button svelte-io8kt7")},m(i,c){s(i,e,c),o(e,n),l||(a=h(e,"click",t[36]),l=!0)},p(t,e){32768&e[0]&&i!==(i=t[20].update_desc[t[15]]+"")&&m(n,i)},d(t){t&&r(e),l=!1,a()}}}function Lt(e){let n,a,i,c,g,v,b,k,y,w,$,j,T,E,x,z,C,N,O,S,I,A,P,q,L,D,B,W,J,M=e[20].right[e[15]]+"",V=e[20].web_data_edit[e[15]]+"",G=e[20].left[e[15]]+"",K=e[13]&&et(e),H=e[9]>0&&ot(e),U=Object.keys(e[10]),Y=[];for(let t=0;t<U.length;t+=1)Y[t]=ft(Q(e,U,t));let Z=Object.entries(e[10]),R=[];for(let t=0;t<Z.length;t+=1)R[t]=zt(F(e,Z,t));let X=""!==e[18]&&Ct(e);return{c(){n=u("div"),a=u("div"),i=u("button"),i.textContent="≡",c=f(),K&&K.c(),g=f(),v=u("div"),b=u("div"),k=u("div"),H&&H.c(),y=f(),w=u("div"),$=u("button"),j=u("span"),j.textContent="edit",T=f(),E=_(M),z=f(),C=u("div");for(let t=0;t<Y.length;t+=1)Y[t].c();N=f(),O=u("div");for(let t=0;t<R.length;t+=1)R[t].c();S=f(),I=u("div"),A=u("h1"),P=_(V),q=f(),L=u("button"),D=_(G),B=f(),X&&X.c(),p(i,"class","design_toggle_menu svelte-io8kt7"),p(a,"class","header svelte-io8kt7"),p(k,"class","console"),p(j,"class","material-icons"),p($,"class",x="edit_button "+(e[11]?"hidden_when_scroll":"")+" svelte-io8kt7"),p(C,"class","tabs svelte-io8kt7"),p(O,"class","tab-content"),p(w,"class","list svelte-io8kt7"),p(b,"class","left_column server_side svelte-io8kt7"),p(A,"class","svelte-io8kt7"),p(L,"class","list_button svelte-io8kt7"),p(I,"class","right_column svelte-io8kt7"),p(v,"class","content svelte-io8kt7"),p(n,"class","container svelte-io8kt7")},m(t,l){s(t,n,l),o(n,a),o(a,i),o(a,c),K&&K.m(a,null),o(n,g),o(n,v),o(v,b),o(b,k),H&&H.m(k,null),o(b,y),o(b,w),o(w,$),o($,j),o($,T),o($,E),o(w,z),o(w,C);for(let t=0;t<Y.length;t+=1)Y[t]&&Y[t].m(C,null);o(w,N),o(w,O);for(let t=0;t<R.length;t+=1)R[t]&&R[t].m(O,null);o(v,S),o(v,I),o(I,A),o(A,P),o(I,q),o(I,L),o(L,D),o(I,B),X&&X.m(I,null),W||(J=[h(i,"click",e[30]),h($,"click",e[47]),h(L,"click",e[56])],W=!0)},p(t,e){if(t[13]?K?K.p(t,e):(K=et(t),K.c(),K.m(a,null)):K&&(K.d(1),K=null),t[9]>0?H?H.p(t,e):(H=ot(t),H.c(),H.m(k,null)):H&&(H.d(1),H=null),32768&e[0]&&M!==(M=t[20].right[t[15]]+"")&&m(E,M),2048&e[0]&&x!==(x="edit_button "+(t[11]?"hidden_when_scroll":"")+" svelte-io8kt7")&&p($,"class",x),1086464&e[0]){let n;for(U=Object.keys(t[10]),n=0;n<U.length;n+=1){const l=Q(t,U,n);Y[n]?Y[n].p(l,e):(Y[n]=ft(l),Y[n].c(),Y[n].m(C,null))}for(;n<Y.length;n+=1)Y[n].d(1);Y.length=U.length}if(383096128&e[0]|66&e[1]){let n;for(Z=Object.entries(t[10]),n=0;n<Z.length;n+=1){const l=F(t,Z,n);R[n]?R[n].p(l,e):(R[n]=zt(l),R[n].c(),R[n].m(O,null))}for(;n<R.length;n+=1)R[n].d(1);R.length=Z.length}32768&e[0]&&V!==(V=t[20].web_data_edit[t[15]]+"")&&m(P,V),32768&e[0]&&G!==(G=t[20].left[t[15]]+"")&&m(D,G),""!==t[18]?X?X.p(t,e):(X=Ct(t),X.c(),X.m(I,null)):X&&(X.d(1),X=null)},i:t,o:t,d(t){t&&r(n),K&&K.d(),H&&H.d(),d(Y,t),d(R,t),X&&X.d(),W=!1,l(J)}}}const Dt="https://cotton-concrete-catsup.glitch.me/app8";function Bt(t,e,n){let l=null,a="",i="",c={kind:"id",order:"desc"};const o=["id","title","description","tags","created_at","updated_at"];let s,r="",d=[],u=[],_=[],f=[],g={all_descs:[],all_tags:[],any_user_new_all_descs_with_tags:[],filtered_all_descs:[]},h={},p=!1,m="all_descs",v=!1,b="left",y=!1,w="en",$=!1;const T={auth_login_result:{en:"Log in result",ja:"ログイン結果",zh:"登录结果",es:"resultado de inicio de sesión"},auth_sign_out:{en:"Sign out",ja:"サインアウト",zh:"登出",es:"Cerrar sesión"},web_data_tags:{en:"Web data tags",ja:"ウェブデータタグ",zh:"网页数据标签",es:"Etiquetas de datos web"},any_user_new_all_descs_with_tags:{en:"My data",ja:"自分のデータ",zh:"我的数据",es:"Mis datos"},all_descs:{en:"All",ja:"すべて",zh:"所有",es:"Todos"},filtered_all_descs:{ja:"絞り込み",en:"Filtered",zh:"过滤",es:"Filtrado"},web_data_edit:{en:"Web data edit",ja:"ウェブデータ編集",zh:"网页数据编辑",es:"Edición de datos web"},title:{en:"Title",ja:"タイトル",zh:"标题",es:"Título"},description:{en:"Description",ja:"説明",zh:"描述",es:"Descripción"},tag:{en:"Tag",ja:"タグ",zh:"标签",es:"Etiqueta"},set_desc_data:{en:"Set",ja:"セット",zh:"设置",es:"Establecer"},delete_desc:{en:"Delete",ja:"削除",zh:"删除",es:"Eliminar"},confirm_delete_desc:{ja:"削除しますか？",en:"Delete?",zh:"删除？",es:"¿Eliminar?"},add_tag_to_desc:{en:"Add tag to description",ja:"説明にタグを追加",zh:"添加标签到描述",es:"Agregar etiqueta a la descripción"},update_desc:{en:"Update description",ja:"説明を更新",zh:"更新描述",es:"Actualizar descripción"},insert_desc:{en:"Insert description",ja:"説明を挿入",zh:"插入描述",es:"Insertar descripción"},clear_filtered_all_descs:{ja:"フィルターをクリア",en:"Clear filter",zh:"清除过滤器",es:"Borrar filtro"},errors:{en:"Errors",ja:"エラー",zh:"错误",es:"Errores"},is_auth_uid_valid:{en:"Invalid auth_uid",ja:"無効なauth_uid",zh:"无效的auth_uid",es:"auth_uid no válido"},is_title_valid:{ja:"タイトルは1文字以上100文字以下",en:"Title must be between 1 and 100 characters",zh:"标题必须在1到100个字符之间",es:"El título debe tener entre 1 y 100 caracteres"},is_description_valid:{ja:"説明は1文字以上1000文字以下",en:"Description must be between 1 and 1000 characters",zh:"描述必须在1到1000个字符之间",es:"La descripción debe tener entre 1 y 1000 caracteres"},are_tags_valid:{ja:"タグは1文字以上10文字以下",en:"Tags must be between 1 and 10 characters",zh:"标签必须在1到10个字符之间",es:"Las etiquetas deben tener entre 1 y 10 caracteres"},confirm_clear_title_description_tags:{ja:"タイトル、説明、タグをクリアしますか？",en:"Clear title, description, and tags?",zh:"清除标题、描述和标签吗？",es:"¿Borrar título, descripción y etiquetas?"},clear_title_description_tags:{ja:"タイトル、説明、タグをクリア",en:"Clear title, description, and tags",zh:"清除标题、描述和标签",es:"Borrar título, descripción y etiquetas"},sort:{ja:"並べ替え",en:"Sort",zh:"分类",es:"Clasificar"},left:{ja:"-",en:"-",zh:"-",es:"-"},right:{ja:"+",en:"+",zh:"+",es:"+"},select_language:{ja:"言語を選択",en:"Select language",zh:"选择语言",es:"Seleccionar idioma"},tab:{ja:"タブ",en:"Tab",zh:"标签",es:"Pestaña"},link_copied_to_clipboard:{ja:"リンクをコピーしました",en:"Link copied to clipboard",zh:"链接已复制到剪贴板",es:"Enlace copiado al portapapeles"}};let E="Not logged in",x="";function z(t,e){try{const l=t=>!!P.validate_tag_name(t)||(f.push(T.are_tags_valid[w]),!1),a=()=>n(9,f=f.filter((t=>!t.includes(T.are_tags_valid[w])))),i=t=>d.find((e=>e.name===t)),c=(t,e,n)=>t?{...t,desc_id:n}:{id:d.length+1,name:e,desc_id:n,created_at:(new Date).toISOString(),updated_at:(new Date).toISOString()},o=(t,e)=>t?d:[...d,e],s=t=>u.some((e=>e.id===t.id))?u:[...u,t],_=()=>n(5,r="");if(l(e)){a(),l(e);const r=i(e),f=c(r,e,t);n(6,d=o(r,f)),n(7,u=s(f)),_()}}catch(t){console.error("Error:",t)}}function C(t){(t=>{n(8,_=_.includes(t)?_:[..._,t])})(t),n(10,g.filtered_all_descs=g.all_descs.filter((t=>t.tags.some((t=>_.includes(t.name))))),g),n(12,m="filtered_all_descs")}function N(t){(t=>{n(8,_=_.filter((e=>e!==t)))})(t),n(10,g.filtered_all_descs=g.all_descs.filter((t=>t.tags.some((t=>_.includes(t.name))))),g)}function O({with_confirm:t=!0}={}){t?confirm(T.confirm_clear_title_description_tags[w])&&(n(2,a=""),n(3,i=""),n(7,u=[]),n(1,l=null)):(n(2,a=""),n(3,i=""),n(7,u=[]),n(1,l=null))}function S(t){try{const e=g.all_descs.find((e=>e.id===t));e?(n(1,l=e.id),n(2,a=e.title),n(3,i=e.description),n(7,u=e.tags)):console.error(`No description found with id: ${t}`),n(0,b="right")}catch(t){console.error("Error:",t)}}function I(t){navigator.clipboard.writeText(`${window.location.href.split("#")[0]}#${t}`),alert(T.link_copied_to_clipboard[w])}function A(){try{if(null===c.kind||null===c.order)return;if(void 0===g.all_descs)return;if(void 0===g.any_user_new_all_descs_with_tags)return;const t=(t,e)=>{switch(c.kind){case"id":return"asc"===c.order?t.id-e.id:e.id-t.id;case"title":return"asc"===c.order?t.title.localeCompare(e.title):e.title.localeCompare(t.title);case"description":return"asc"===c.order?t.description.localeCompare(e.description):e.description.localeCompare(t.description);case"tags":return"asc"===c.order?t.tags.length-e.tags.length:e.tags.length-t.tags.length;case"created_at":return"asc"===c.order?t.created_at.localeCompare(e.created_at):e.created_at.localeCompare(t.created_at);case"updated_at":return"asc"===c.order?t.updated_at.localeCompare(e.updated_at):e.updated_at.localeCompare(t.updated_at);default:return 0}},e=g.all_descs.sort(t),l=g.any_user_new_all_descs_with_tags.sort(t);n(10,g={...g,all_descs:e,any_user_new_all_descs_with_tags:l})}catch(t){console.error("Error:",t)}}const P={validate_auth_uid:t=>/^[a-zA-Z0-9_-]+$/.test(t),validate_desc_id:t=>(console.log("validate_desc_id",t),Number.isInteger(t)&&t>0),validate_iso_date:t=>/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$/.test(t),validate_title:t=>(console.log("validate_title",t),"string"==typeof t&&t.length>=1&&t.length<=100),validate_description:t=>(console.log("validate_description",t),"string"==typeof t&&t.length>=1&&t.length<=1e3),validate_tag_name:t=>(console.log(1),console.log("validate_tag_name",t),console.log(2),"string"==typeof t&&t.length>=1&&t.length<=10),validate_data(t){const{auth_uid:e,desc_id:n,title:l,description:a,tags:i}=t,c=this.validate_auth_uid(e),o=this.validate_title(l),s=this.validate_description(a);console.log("tags",i);return{is_auth_uid_valid:c,is_title_valid:o,is_description_valid:s,are_tags_valid:i.every((t=>this.validate_tag_name(t.name)))}}};function q(){const t={auth_uid:x,desc_id:l,title:a,description:i,tags:u};n(9,f=[]);for(const[e,n]of Object.entries(P.validate_data(t)))if(n||f.push(T[e][w]),"tags"===e)for(const[t,e]of n.entries())for(const[n,l]of Object.entries(P.validate_data(e)))l||f.push(`tags[${t}].${n}`);else"auth_uid"===e&&P.validate_auth_uid(x),"desc_id"===e&&P.validate_desc_id(l),"title"===e&&P.validate_title(a),"description"===e&&P.validate_description(i);return!(f.length>0)||(console.log(f),!1)}const L=[{auth_uid:"user1",desc_id:1,created_at:"2024-09-01T00:00:00",updated_at:"2024-09-01T00:00:00",title:"foo1",description:"bar1",tags:[{desc_id:1,id:1,name:"tag1",created_at:"2024-09-01T00:00:00",updated_at:"2024-09-01T00:00:00"},{desc_id:1,id:2,name:"tag2",created_at:"2024-09-01T00:00:00",updated_at:"2024-09-01T00:00:00"},{desc_id:1,id:3,name:"tag3",created_at:"2024-09-01T00:00:00",updated_at:"2024-09-01T00:00:00"}]},{auth_uid:"user1",desc_id:2,created_at:"2024-09-01T00:00:00",updated_at:"2024-09-01T00:00:00",title:"foo2",description:"bar2",tags:[{desc_id:2,id:1,name:"tag1",created_at:"2024-09-01T00:00:00",updated_at:"2024-09-01T00:00:00"},{desc_id:2,id:2,name:"tag2",created_at:"2024-09-01T00:00:00",updated_at:"2024-09-01T00:00:00"}]},{auth_uid:"user2",desc_id:3,created_at:"2024-09-01T00:00:00",updated_at:"2024-09-01T00:00:00",title:"foo3",description:"bar3",tags:[{desc_id:3,id:2,name:"tag2",created_at:"2024-09-01T00:00:00",updated_at:"2024-09-01T00:00:00"},{desc_id:3,id:3,name:"tag3",created_at:"2024-09-01T00:00:00",updated_at:"2024-09-01T00:00:00"}]}],D=[{auth_uid:"user1",desc_id:4,created_at:"2024-09-01T00:00:00",updated_at:"2024-09-01T00:00:00",title:"a".repeat(100),description:"b".repeat(1e3),tags:[{desc_id:4,id:4,name:"tag4",created_at:"2024-09-01T00:00:00",updated_at:"2024-09-01T00:00:00"}]},{auth_uid:"user1",desc_id:5,created_at:"2024-09-01T00:00:00",updated_at:"2024-09-01T00:00:00",title:"",description:"",tags:[{desc_id:5,id:5,name:"t".repeat(10),created_at:"2024-09-01T00:00:00",updated_at:"2024-09-01T00:00:00"}]}];async function B(){try{if(!q())throw new Error("Validation failed");const t=await fetch(Dt+"/insert_desc",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({auth_uid:x,title:a,description:i,tags:u})});await W(t),n(0,b="left"),n(12,m="all_descs"),O({with_confirm:!1})}catch(t){console.error("Error:",t)}}async function W(t){try{const e=await t.json();e.filtered_all_descs=g.filtered_all_descs?g.filtered_all_descs:[],h=Object.fromEntries(Object.entries(e).filter((([t,e])=>"all_descs"!==t&&"all_tags"!==t&&"any_user_new_all_descs_with_tags"!==t))),n(10,g=Object.fromEntries(Object.entries(e).filter((([t,e])=>"all_descs"===t||"all_tags"===t||"any_user_new_all_descs_with_tags"===t||"filtered_all_descs"===t)))),n(6,d=e.all_tags),A()}catch(t){console.error("Error:",t)}}async function J(){try{const t=await fetch(Dt+"/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({auth_uid:x})});await W(t)}catch(t){console.error("Error:",t)}}async function M(t){try{if(!confirm(T.confirm_delete_desc[w]))return;const e=await fetch(Dt+"/delete_desc",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t,auth_uid:x})});await W(e)}catch(t){console.error("Error:",t)}}window.addEventListener("scroll",(function(){n(11,p=!0),clearTimeout(s),s=setTimeout((()=>{n(11,p=!1)}),1e3)})),firebase.initializeApp({apiKey:"AIzaSyBcOlIDP2KWbJuKM0WeMHNp-WvjTVfLt9Y",authDomain:"p2auth-ea50a.firebaseapp.com",projectId:"p2auth-ea50a",storageBucket:"p2auth-ea50a.appspot.com",messagingSenderId:"796225429484",appId:"1:796225429484:web:ece56ef2fc0be28cd6eac9"}),j((async()=>{await async function(){try{const t=await new Promise(((t,e)=>{firebase.auth().onAuthStateChanged(t,e)}));console.log("Current user:",t),t?(n(18,x=t.uid),n(17,E="Logged in")):(console.log(2),n(17,E="Not logged in"),n(18,x=""))}catch(t){console.error("Error during authentication:",t),n(17,E="Authentication failed"),n(18,x="")}}(),console.log("auth_check_login"),await J(),console.log("fetch_get_all_descs_and_tags"),function(){if(location.hash){const t=location.hash.slice(1),e=document.getElementById(t);e&&e.scrollIntoView({behavior:"smooth"})}}()}));return t.$$.update=()=>{1&t.$$.dirty[0]&&(async()=>{"left"===b?(document.documentElement.style.setProperty("--display-left-column","block"),document.documentElement.style.setProperty("--display-right-column","none")):"right"===b&&(document.documentElement.style.setProperty("--display-left-column","none"),document.documentElement.style.setProperty("--display-right-column","block"))})()},[b,l,a,i,c,r,d,u,_,f,g,p,m,v,y,w,$,E,x,o,T,z,C,N,O,S,async function(){n(10,g.filtered_all_descs=[],g),n(8,_=[])},async function(){try{for(const t of L)n(18,x=t.auth_uid),n(1,l=t.desc_id),n(2,a=t.title),n(3,i=t.description),n(7,u=t.tags),await B()}catch(t){console.error("Error:",t)}},I,A,function(){n(13,v=!v)},function(){n(14,y=!y)},function(){n(16,$=!$)},function(){n(2,a=D[1].title),n(3,i=D[1].description),n(7,u=D[1].tags),B()},B,J,async function(){try{if(!q())throw new Error("Validation failed");const t=await fetch(Dt+"/update_desc",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({auth_uid:x,desc_id:l,title:a,description:i,tags:u})});await W(t),n(0,b="left"),n(12,m="all_descs"),O({with_confirm:!1})}catch(t){console.error("Error:",t)}},M,async function(){try{console.log("auth_google_login");const t=new firebase.auth.GoogleAuthProvider,e=(await firebase.auth().signInWithPopup(t)).user;console.log(4),n(17,E=`Logged in as: ${e.displayName}`)}catch(t){console.error("Error during Google login:",t),alert("Google login failed. "+t.message)}},async function(){try{console.log(5),await firebase.auth().signOut(),n(17,E="Not logged in")}catch(t){console.error("Error during sign-out:",t),alert("Sign out failed. "+t.message)}},function(){w=this.__value,n(15,w)},[[]],function(){w=this.__value,n(15,w)},function(){w=this.__value,n(15,w)},function(){w=this.__value,n(15,w)},function(){c.kind=k(this),n(4,c),n(19,o)},function(){c.order=k(this),n(4,c),n(19,o)},()=>n(0,b="right"),t=>n(12,m=t),t=>C(t.name),t=>N(t.name),t=>C(t.name),t=>I(t.id),t=>S(t.id),t=>M(t.id),t=>C(t.name),()=>n(0,b="left"),()=>O({with_confirm:!0}),function(){a=this.value,n(2,a)},function(){i=this.value,n(3,i)},t=>n(7,u=u.filter((e=>e.id!==t.id))),function(){r=this.value,n(5,r)},()=>z(l,r)]}return new class extends W{constructor(t){super(),B(this,t,Bt,Lt,i,{},null,[-1,-1,-1,-1])}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
