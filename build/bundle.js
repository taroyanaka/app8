var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function o(t){t.forEach(e)}function i(t){return"function"==typeof t}function l(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function c(t,e){t.appendChild(e)}function a(t,e,n){t.insertBefore(e,n||null)}function r(t){t.parentNode&&t.parentNode.removeChild(t)}function s(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function d(t){return document.createElement(t)}function u(t){return document.createTextNode(t)}function g(){return u(" ")}function f(){return u("")}function h(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function p(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function _(t,e){e=""+e,t.data!==e&&(t.data=e)}function m(t,e){t.value=null==e?"":e}let v;function b(t){v=t}function y(t){(function(){if(!v)throw new Error("Function called outside component initialization");return v})().$$.on_mount.push(t)}const T=[],$=[];let x=[];const w=[],C=Promise.resolve();let D=!1;function k(t){x.push(t)}const E=new Set;let N=0;function O(){if(0!==N)return;const t=v;do{try{for(;N<T.length;){const t=T[N];N++,b(t),S(t.$$)}}catch(t){throw T.length=0,N=0,t}for(b(null),T.length=0,N=0;$.length;)$.pop()();for(let t=0;t<x.length;t+=1){const e=x[t];E.has(e)||(E.add(e),e())}x.length=0}while(T.length);for(;w.length;)w.pop()();D=!1,E.clear(),b(t)}function S(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(k)}}const j=new Set;function A(t,e){const n=t.$$;null!==n.fragment&&(!function(t){const e=[],n=[];x.forEach((o=>-1===t.indexOf(o)?e.push(o):n.push(o))),n.forEach((t=>t())),x=e}(n.after_update),o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function I(t,e){-1===t.$$.dirty[0]&&(T.push(t),D||(D=!0,C.then(O)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function P(l,c,a,s,d,u,g,f=[-1]){const h=v;b(l);const p=l.$$={fragment:null,ctx:[],props:u,update:t,not_equal:d,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(c.context||(h?h.$$.context:[])),callbacks:n(),dirty:f,skip_bound:!1,root:c.target||h.$$.root};g&&g(p.root);let _=!1;if(p.ctx=a?a(l,c.props||{},((t,e,...n)=>{const o=n.length?n[0]:e;return p.ctx&&d(p.ctx[t],p.ctx[t]=o)&&(!p.skip_bound&&p.bound[t]&&p.bound[t](o),_&&I(l,t)),e})):[],p.update(),_=!0,o(p.before_update),p.fragment=!!s&&s(p.ctx),c.target){if(c.hydrate){const t=function(t){return Array.from(t.childNodes)}(c.target);p.fragment&&p.fragment.l(t),t.forEach(r)}else p.fragment&&p.fragment.c();c.intro&&((m=l.$$.fragment)&&m.i&&(j.delete(m),m.i(y))),function(t,n,l,c){const{fragment:a,after_update:r}=t.$$;a&&a.m(n,l),c||k((()=>{const n=t.$$.on_mount.map(e).filter(i);t.$$.on_destroy?t.$$.on_destroy.push(...n):o(n),t.$$.on_mount=[]})),r.forEach(k)}(l,c.target,c.anchor,c.customElement),O()}var m,y;b(h)}class W{$destroy(){A(this,1),this.$destroy=t}$on(e,n){if(!i(n))return t;const o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(n),()=>{const t=o.indexOf(n);-1!==t&&o.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function V(t,e,n){const o=t.slice();return o[50]=e[n],o}function J(t,e,n){const o=t.slice();return o[50]=e[n],o}function L(t,e,n){const o=t.slice();return o[55]=e[n],o}function q(t,e,n){const o=t.slice();return o[50]=e[n],o}function z(t,e,n){const o=t.slice();return o[60]=e[n],o}function B(t,e,n){const o=t.slice();return o[50]=e[n],o}function G(t,e,n){const o=t.slice();return o[60]=e[n],o}function U(t,e,n){const o=t.slice();return o[60]=e[n],o}function K(t,e,n){const o=t.slice();return o[50]=e[n],o}function M(t,e,n){const o=t.slice();return o[55]=e[n],o}function F(e){let n,o,i,l,s;return{c(){n=d("div"),o=u("auth_google_login: "),i=d("button"),i.textContent="auth_google_login"},m(t,r){a(t,n,r),c(n,o),c(n,i),l||(s=h(i,"click",e[22]),l=!0)},p:t,d(t){t&&r(n),l=!1,s()}}}function Y(e){let n,o,i,l,s;return{c(){n=d("div"),o=u("auth_sign_out: "),i=d("button"),i.textContent="auth_sign_out"},m(t,r){a(t,n,r),c(n,o),c(n,i),l||(s=h(i,"click",e[23]),l=!0)},p:t,d(t){t&&r(n),l=!1,s()}}}function H(t){let e,n,o,i=t[7],l=[];for(let e=0;e<i.length;e+=1)l[e]=Z(M(t,i,e));return{c(){e=d("p"),e.textContent="Errors:",n=g();for(let t=0;t<l.length;t+=1)l[t].c();o=f()},m(t,i){a(t,e,i),a(t,n,i);for(let e=0;e<l.length;e+=1)l[e]&&l[e].m(t,i);a(t,o,i)},p(t,e){if(128&e[0]){let n;for(i=t[7],n=0;n<i.length;n+=1){const c=M(t,i,n);l[n]?l[n].p(c,e):(l[n]=Z(c),l[n].c(),l[n].m(o.parentNode,o))}for(;n<l.length;n+=1)l[n].d(1);l.length=i.length}},d(t){t&&r(e),t&&r(n),s(l,t),t&&r(o)}}}function Z(t){let e,n,o=t[55]+"";return{c(){e=d("div"),n=u(o)},m(t,o){a(t,e,o),c(e,n)},p(t,e){128&e[0]&&o!==(o=t[55]+"")&&_(n,o)},d(t){t&&r(e)}}}function Q(t){let e,n=t[10],o=[];for(let e=0;e<n.length;e+=1)o[e]=X(U(t,n,e));return{c(){for(let t=0;t<o.length;t+=1)o[t].c();e=f()},m(t,n){for(let e=0;e<o.length;e+=1)o[e]&&o[e].m(t,n);a(t,e,n)},p(t,i){if(3154944&i[0]){let l;for(n=t[10],l=0;l<n.length;l+=1){const c=U(t,n,l);o[l]?o[l].p(c,i):(o[l]=X(c),o[l].c(),o[l].m(e.parentNode,e))}for(;l<o.length;l+=1)o[l].d(1);o.length=n.length}},d(t){s(o,t),t&&r(e)}}}function R(t){let e,n,o,i,l,s,f,m,v,b,y,T,$,x,w,C,D=t[50].id+"",k=t[50].desc_id+"",E=t[50].name+"";function N(){return t[27](t[50])}return{c(){e=d("div"),n=d("p"),o=u("id: "),i=u(D),l=g(),s=d("p"),f=u("desc_id: "),m=u(k),v=g(),b=d("p"),y=u("tag.name: "),T=u(E),$=g(),x=d("button"),x.textContent="delete_desc_tag",p(e,"class","desc_tag svelte-id7tb1")},m(t,r){a(t,e,r),c(e,n),c(n,o),c(n,i),c(e,l),c(e,s),c(s,f),c(s,m),c(e,v),c(e,b),c(b,y),c(b,T),c(e,$),c(e,x),w||(C=h(x,"click",N),w=!0)},p(e,n){t=e,1024&n[0]&&D!==(D=t[50].id+"")&&_(i,D),1024&n[0]&&k!==(k=t[50].desc_id+"")&&_(m,k),1024&n[0]&&E!==(E=t[50].name+"")&&_(T,E)},d(t){t&&r(e),w=!1,C()}}}function X(t){let e,n,i,l,f,p,m,v,b,y,T,$,x,w,C,D,k,E,N,O,S,j,A,I,P,W,V,J=t[60].id+"",L=t[60].auth_uid.slice(0,10)+"",q=t[60].title+"",z=t[60].description+"";function B(){return t[25](t[60])}function G(){return t[26](t[60])}let U=t[60].tags,M=[];for(let e=0;e<U.length;e+=1)M[e]=R(K(t,U,e));return{c(){e=d("div"),n=d("p"),i=u("id: "),l=u(J),f=g(),p=d("button"),p.textContent="set_desc_data",m=g(),v=d("button"),v.textContent="delete_desc",b=g(),y=d("p"),T=u("auth_uid: "),$=u(L),x=u("..."),w=g(),C=d("p"),D=u("title: "),k=u(q),E=g(),N=d("p"),O=u("description: "),S=u(z),j=g(),A=d("div"),A.textContent="tags:",I=g();for(let t=0;t<M.length;t+=1)M[t].c();P=g()},m(t,o){a(t,e,o),c(e,n),c(n,i),c(n,l),c(e,f),c(e,p),c(e,m),c(e,v),c(e,b),c(e,y),c(y,T),c(y,$),c(y,x),c(e,w),c(e,C),c(C,D),c(C,k),c(e,E),c(e,N),c(N,O),c(N,S),c(e,j),c(e,A),c(e,I);for(let t=0;t<M.length;t+=1)M[t]&&M[t].m(e,null);c(e,P),W||(V=[h(p,"click",B),h(v,"click",G)],W=!0)},p(n,o){if(t=n,1024&o[0]&&J!==(J=t[60].id+"")&&_(l,J),1024&o[0]&&L!==(L=t[60].auth_uid.slice(0,10)+"")&&_($,L),1024&o[0]&&q!==(q=t[60].title+"")&&_(k,q),1024&o[0]&&z!==(z=t[60].description+"")&&_(S,z),2098176&o[0]){let n;for(U=t[60].tags,n=0;n<U.length;n+=1){const i=K(t,U,n);M[n]?M[n].p(i,o):(M[n]=R(i),M[n].c(),M[n].m(e,P))}for(;n<M.length;n+=1)M[n].d(1);M.length=U.length}},d(t){t&&r(e),s(M,t),W=!1,o(V)}}}function tt(t){let e,n=t[6],o=[];for(let e=0;e<n.length;e+=1)o[e]=et(G(t,n,e));return{c(){for(let t=0;t<o.length;t+=1)o[t].c();e=f()},m(t,n){for(let e=0;e<o.length;e+=1)o[e]&&o[e].m(t,n);a(t,e,n)},p(t,i){if(1056832&i[0]){let l;for(n=t[6],l=0;l<n.length;l+=1){const c=G(t,n,l);o[l]?o[l].p(c,i):(o[l]=et(c),o[l].c(),o[l].m(e.parentNode,e))}for(;l<o.length;l+=1)o[l].d(1);o.length=n.length}},d(t){s(o,t),t&&r(e)}}}function et(t){let e,n,i,l,s,f,p,m,v,b,y,T,$,x,w,C,D,k,E,N,O,S,j,A,I=t[60].id+"",P=t[60].auth_uid.slice(0,10)+"",W=t[60].title+"",V=t[60].description+"";function J(){return t[28](t[60])}function L(){return t[29](t[60])}return{c(){e=d("div"),n=d("p"),i=u("id: "),l=u(I),s=g(),f=d("button"),f.textContent="set_desc_data",p=g(),m=d("button"),m.textContent="delete_desc",v=g(),b=d("p"),y=u("auth_uid: "),T=u(P),$=u("..."),x=g(),w=d("p"),C=u("title: "),D=u(W),k=g(),E=d("p"),N=u("description: "),O=u(V),S=g()},m(t,o){a(t,e,o),c(e,n),c(n,i),c(n,l),c(e,s),c(e,f),c(e,p),c(e,m),c(e,v),c(e,b),c(b,y),c(b,T),c(b,$),c(e,x),c(e,w),c(w,C),c(w,D),c(e,k),c(e,E),c(E,N),c(E,O),c(e,S),j||(A=[h(f,"click",J),h(m,"click",L)],j=!0)},p(e,n){t=e,64&n[0]&&I!==(I=t[60].id+"")&&_(l,I),64&n[0]&&P!==(P=t[60].auth_uid.slice(0,10)+"")&&_(T,P),64&n[0]&&W!==(W=t[60].title+"")&&_(D,W),64&n[0]&&V!==(V=t[60].description+"")&&_(O,V)},d(t){t&&r(e),j=!1,o(A)}}}function nt(t){let e,n=t[9].allDescs,o=[];for(let e=0;e<n.length;e+=1)o[e]=it(z(t,n,e));return{c(){for(let t=0;t<o.length;t+=1)o[t].c();e=f()},m(t,n){for(let e=0;e<o.length;e+=1)o[e]&&o[e].m(t,n);a(t,e,n)},p(t,i){if(1073664&i[0]){let l;for(n=t[9].allDescs,l=0;l<n.length;l+=1){const c=z(t,n,l);o[l]?o[l].p(c,i):(o[l]=it(c),o[l].c(),o[l].m(e.parentNode,e))}for(;l<o.length;l+=1)o[l].d(1);o.length=n.length}},d(t){s(o,t),t&&r(e)}}}function ot(t){let e,n,o,i,l,s=t[50].name+"";function f(){return t[32](t[50])}return{c(){e=d("button"),n=u(s),o=g()},m(t,r){a(t,e,r),c(e,n),a(t,o,r),i||(l=h(e,"click",f),i=!0)},p(e,o){t=e,512&o[0]&&s!==(s=t[50].name+"")&&_(n,s)},d(t){t&&r(e),t&&r(o),i=!1,l()}}}function it(t){let e,n,i,l,f,p,m,v,b,y,T,$,x,w,C,D,k,E,N,O,S,j,A,I,P,W=t[60].id+"",V=t[60].auth_uid.slice(0,10)+"",J=t[60].title+"",L=t[60].description+"";function q(){return t[30](t[60])}function z(){return t[31](t[60])}let G=t[60].tags,U=[];for(let e=0;e<G.length;e+=1)U[e]=ot(B(t,G,e));return{c(){e=d("div"),n=d("p"),i=u("id: "),l=u(W),f=g(),p=d("button"),p.textContent="set_desc_data",m=g(),v=d("button"),v.textContent="delete_desc",b=g(),y=d("p"),T=u("auth_uid: "),$=u(V),x=u("..."),w=g(),C=d("p"),D=u("title: "),k=u(J),E=g(),N=d("p"),O=u("description: "),S=u(L),j=g();for(let t=0;t<U.length;t+=1)U[t].c();A=g()},m(t,o){a(t,e,o),c(e,n),c(n,i),c(n,l),c(e,f),c(e,p),c(e,m),c(e,v),c(e,b),c(e,y),c(y,T),c(y,$),c(y,x),c(e,w),c(e,C),c(C,D),c(C,k),c(e,E),c(e,N),c(N,O),c(N,S),c(e,j);for(let t=0;t<U.length;t+=1)U[t]&&U[t].m(e,null);c(e,A),I||(P=[h(p,"click",q),h(v,"click",z)],I=!0)},p(n,o){if(t=n,512&o[0]&&W!==(W=t[60].id+"")&&_(l,W),512&o[0]&&V!==(V=t[60].auth_uid.slice(0,10)+"")&&_($,V),512&o[0]&&J!==(J=t[60].title+"")&&_(k,J),512&o[0]&&L!==(L=t[60].description+"")&&_(S,L),16896&o[0]){let n;for(G=t[60].tags,n=0;n<G.length;n+=1){const i=B(t,G,n);U[n]?U[n].p(i,o):(U[n]=ot(i),U[n].c(),U[n].m(e,A))}for(;n<U.length;n+=1)U[n].d(1);U.length=G.length}},d(t){t&&r(e),s(U,t),I=!1,o(P)}}}function lt(t){let e,n=t[9].allTags,o=[];for(let e=0;e<n.length;e+=1)o[e]=ct(q(t,n,e));return{c(){for(let t=0;t<o.length;t+=1)o[t].c();e=f()},m(t,n){for(let e=0;e<o.length;e+=1)o[e]&&o[e].m(t,n);a(t,e,n)},p(t,i){if(512&i[0]){let l;for(n=t[9].allTags,l=0;l<n.length;l+=1){const c=q(t,n,l);o[l]?o[l].p(c,i):(o[l]=ct(c),o[l].c(),o[l].m(e.parentNode,e))}for(;l<o.length;l+=1)o[l].d(1);o.length=n.length}},d(t){s(o,t),t&&r(e)}}}function ct(t){let e,n,o,i,l,s,f,h,p,m=t[50].id+"",v=t[50].name+"";return{c(){e=d("div"),n=d("p"),o=u("id: "),i=u(m),l=g(),s=d("p"),f=u("tag.name: "),h=u(v),p=g()},m(t,r){a(t,e,r),c(e,n),c(n,o),c(n,i),c(e,l),c(e,s),c(s,f),c(s,h),c(e,p)},p(t,e){512&e[0]&&m!==(m=t[50].id+"")&&_(i,m),512&e[0]&&v!==(v=t[50].name+"")&&_(h,v)},d(t){t&&r(e)}}}function at(t){let e,n,o,i=t[7],l=[];for(let e=0;e<i.length;e+=1)l[e]=rt(L(t,i,e));return{c(){e=d("h2"),e.textContent="errors",n=g();for(let t=0;t<l.length;t+=1)l[t].c();o=f()},m(t,i){a(t,e,i),a(t,n,i);for(let e=0;e<l.length;e+=1)l[e]&&l[e].m(t,i);a(t,o,i)},p(t,e){if(128&e[0]){let n;for(i=t[7],n=0;n<i.length;n+=1){const c=L(t,i,n);l[n]?l[n].p(c,e):(l[n]=rt(c),l[n].c(),l[n].m(o.parentNode,o))}for(;n<l.length;n+=1)l[n].d(1);l.length=i.length}},d(t){t&&r(e),t&&r(n),s(l,t),t&&r(o)}}}function rt(t){let e,n,o=t[55]+"";return{c(){e=d("p"),n=u(o)},m(t,o){a(t,e,o),c(e,n)},p(t,e){128&e[0]&&o!==(o=t[55]+"")&&_(n,o)},d(t){t&&r(e)}}}function st(t){let e,n,i,l,f,v,b,y,T,$,x,w,C,D,k,E,N,O,S,j,A,I,P,W,L,q,z,B,G,U,K,M=t[11].slice(0,10)+"",F=t[5],Y=[];for(let e=0;e<F.length;e+=1)Y[e]=dt(J(t,F,e));let H=t[1],Z=[];for(let e=0;e<H.length;e+=1)Z[e]=ut(V(t,H,e));return{c(){e=d("button"),e.textContent="update_desc",n=u("\n\t\tauth_uid: "),i=d("p"),l=u(M),f=u("..."),v=g(),b=d("p"),y=u("id: "),T=u(t[2]),$=g(),x=d("div"),x.textContent="title:",w=g(),C=d("textarea"),D=g(),k=d("div"),k.textContent="description:",E=g(),N=d("textarea"),O=g(),S=d("div");for(let t=0;t<Y.length;t+=1)Y[t].c();j=g(),A=d("label"),A.textContent="tag",I=g(),P=d("input"),W=g(),L=d("datalist");for(let t=0;t<Z.length;t+=1)Z[t].c();q=g(),z=d("button"),z.textContent="add_tag_to_desc",B=g(),G=d("button"),G.textContent="insert_desc",p(C,"class","title svelte-id7tb1"),p(C,"minlength","1"),p(C,"maxlength","100"),C.required=!0,p(C,"placeholder","1_100"),p(N,"class","description svelte-id7tb1"),p(N,"minlength","1"),p(N,"maxlength","1000"),N.required=!0,p(N,"placeholder","1_1000"),p(A,"for","my_all_tags"),p(P,"list","all_tags"),p(P,"id","my_all_tags"),p(P,"name","my_all_tags"),p(P,"minlength","1"),p(P,"maxlength","10"),P.required=!0,p(P,"placeholder","1_10"),p(L,"id","all_tags"),p(G,"class","fetch_insert_desc_button svelte-id7tb1")},m(o,r){a(o,e,r),a(o,n,r),a(o,i,r),c(i,l),c(i,f),a(o,v,r),a(o,b,r),c(b,y),c(b,T),a(o,$,r),a(o,x,r),a(o,w,r),a(o,C,r),m(C,t[3]),a(o,D,r),a(o,k,r),a(o,E,r),a(o,N,r),m(N,t[4]),a(o,O,r),a(o,S,r);for(let t=0;t<Y.length;t+=1)Y[t]&&Y[t].m(S,null);a(o,j,r),a(o,A,r),a(o,I,r),a(o,P,r),m(P,t[0]),a(o,W,r),a(o,L,r);for(let t=0;t<Z.length;t+=1)Z[t]&&Z[t].m(L,null);a(o,q,r),a(o,z,r),a(o,B,r),a(o,G,r),U||(K=[h(e,"click",t[19]),h(C,"input",t[33]),h(N,"input",t[34]),h(P,"input",t[36]),h(z,"click",t[37]),h(G,"click",t[17])],U=!0)},p(t,e){if(2048&e[0]&&M!==(M=t[11].slice(0,10)+"")&&_(l,M),4&e[0]&&_(T,t[2]),8&e[0]&&m(C,t[3]),16&e[0]&&m(N,t[4]),32&e[0]){let n;for(F=t[5],n=0;n<F.length;n+=1){const o=J(t,F,n);Y[n]?Y[n].p(o,e):(Y[n]=dt(o),Y[n].c(),Y[n].m(S,null))}for(;n<Y.length;n+=1)Y[n].d(1);Y.length=F.length}if(1&e[0]&&P.value!==t[0]&&m(P,t[0]),2&e[0]){let n;for(H=t[1],n=0;n<H.length;n+=1){const o=V(t,H,n);Z[n]?Z[n].p(o,e):(Z[n]=ut(o),Z[n].c(),Z[n].m(L,null))}for(;n<Z.length;n+=1)Z[n].d(1);Z.length=H.length}},d(t){t&&r(e),t&&r(n),t&&r(i),t&&r(v),t&&r(b),t&&r($),t&&r(x),t&&r(w),t&&r(C),t&&r(D),t&&r(k),t&&r(E),t&&r(N),t&&r(O),t&&r(S),s(Y,t),t&&r(j),t&&r(A),t&&r(I),t&&r(P),t&&r(W),t&&r(L),s(Z,t),t&&r(q),t&&r(z),t&&r(B),t&&r(G),U=!1,o(K)}}}function dt(t){let e,n,o,i,l=t[50].name+"";function s(){return t[35](t[50])}return{c(){e=d("button"),n=u(l)},m(t,l){a(t,e,l),c(e,n),o||(i=h(e,"click",s),o=!0)},p(e,o){t=e,32&o[0]&&l!==(l=t[50].name+"")&&_(n,l)},d(t){t&&r(e),o=!1,i()}}}function ut(t){let e,n;return{c(){e=d("option"),e.__value=n=t[50].name,e.value=e.__value},m(t,n){a(t,e,n)},p(t,o){2&o[0]&&n!==(n=t[50].name)&&(e.__value=n,e.value=e.__value)},d(t){t&&r(e)}}}function gt(e){let n,i,l,s,f,m,v,b,y,T,$,x,w,C,D,k,E,N,O,S,j,A,I,P,W,V,J,L,q,z,B,G,U,K,M,Z,R,X,et,ot,it,ct,rt,dt,ut,gt,ft,pt,_t,mt,vt=""===e[11]&&F(e),bt=""!==e[11]&&Y(e),yt=e[7]>0&&H(e),Tt=e[10].length>0&&Q(e),$t=e[6].length>0&&tt(e),xt=e[9].allDescs&&nt(e),wt=e[9].allTags&&lt(e),Ct=e[7].length>0&&at(e),Dt=""!==e[11]&&st(e);return{c(){n=d("div"),i=d("div"),l=d("div"),s=d("div"),s.textContent="v1.0.1",f=g(),m=d("div"),v=u("auth_uid: "),b=u(e[11]),y=g(),T=d("div"),$=u("auth_login_result: "),x=d("span"),w=u(e[8]),C=g(),vt&&vt.c(),D=g(),bt&&bt.c(),k=g(),E=d("button"),E.textContent="runBoundaryTests",N=g(),O=d("button"),O.textContent="init_and_sample_insert",S=g(),j=d("button"),j.textContent="init_db",A=g(),I=d("button"),I.textContent="get_all_descs_and_tags",P=g(),W=d("div"),V=d("div"),J=d("div"),yt&&yt.c(),L=g(),q=d("div"),z=d("h1"),z.textContent="Your Web Data Descs",B=g(),Tt&&Tt.c(),G=g(),U=d("h1"),U.textContent="Filter Web Data Descs",K=g(),M=d("button"),M.textContent="clear_filtered_allDescs",Z=g(),$t&&$t.c(),R=g(),X=d("h1"),X.textContent="Web Data Descs",et=g(),xt&&xt.c(),ot=g(),it=d("div"),ct=d("h1"),ct.textContent="Web Data Tags",rt=g(),wt&&wt.c(),dt=g(),ut=d("div"),Ct&&Ct.c(),gt=g(),ft=d("h1"),ft.textContent="Web Data Edit",pt=g(),Dt&&Dt.c(),p(s,"class","version"),p(i,"class","header svelte-id7tb1"),p(J,"class","console"),p(q,"class","list"),p(it,"class","list2"),p(V,"class","left-column server_side svelte-id7tb1"),p(ut,"class","right-column svelte-id7tb1"),p(W,"class","content svelte-id7tb1"),p(n,"class","container svelte-id7tb1")},m(t,o){a(t,n,o),c(n,i),c(i,l),c(l,s),c(l,f),c(l,m),c(m,v),c(m,b),c(l,y),c(l,T),c(T,$),c(T,x),c(x,w),c(l,C),vt&&vt.m(l,null),c(l,D),bt&&bt.m(l,null),c(i,k),c(i,E),c(i,N),c(i,O),c(i,S),c(i,j),c(i,A),c(i,I),c(n,P),c(n,W),c(W,V),c(V,J),yt&&yt.m(J,null),c(V,L),c(V,q),c(q,z),c(q,B),Tt&&Tt.m(q,null),c(q,G),c(q,U),c(q,K),c(q,M),c(q,Z),$t&&$t.m(q,null),c(q,R),c(q,X),c(q,et),xt&&xt.m(q,null),c(V,ot),c(V,it),c(it,ct),c(it,rt),wt&&wt.m(it,null),c(W,dt),c(W,ut),Ct&&Ct.m(ut,null),c(ut,gt),c(ut,ft),c(ut,pt),Dt&&Dt.m(ut,null),_t||(mt=[h(E,"click",e[24]),h(O,"click",e[16]),h(j,"click",ht),h(I,"click",e[18]),h(M,"click",e[15])],_t=!0)},p(t,e){2048&e[0]&&_(b,t[11]),256&e[0]&&_(w,t[8]),""===t[11]?vt?vt.p(t,e):(vt=F(t),vt.c(),vt.m(l,D)):vt&&(vt.d(1),vt=null),""!==t[11]?bt?bt.p(t,e):(bt=Y(t),bt.c(),bt.m(l,null)):bt&&(bt.d(1),bt=null),t[7]>0?yt?yt.p(t,e):(yt=H(t),yt.c(),yt.m(J,null)):yt&&(yt.d(1),yt=null),t[10].length>0?Tt?Tt.p(t,e):(Tt=Q(t),Tt.c(),Tt.m(q,G)):Tt&&(Tt.d(1),Tt=null),t[6].length>0?$t?$t.p(t,e):($t=tt(t),$t.c(),$t.m(q,R)):$t&&($t.d(1),$t=null),t[9].allDescs?xt?xt.p(t,e):(xt=nt(t),xt.c(),xt.m(q,null)):xt&&(xt.d(1),xt=null),t[9].allTags?wt?wt.p(t,e):(wt=lt(t),wt.c(),wt.m(it,null)):wt&&(wt.d(1),wt=null),t[7].length>0?Ct?Ct.p(t,e):(Ct=at(t),Ct.c(),Ct.m(ut,gt)):Ct&&(Ct.d(1),Ct=null),""!==t[11]?Dt?Dt.p(t,e):(Dt=st(t),Dt.c(),Dt.m(ut,null)):Dt&&(Dt.d(1),Dt=null)},i:t,o:t,d(t){t&&r(n),vt&&vt.d(),bt&&bt.d(),yt&&yt.d(),Tt&&Tt.d(),$t&&$t.d(),xt&&xt.d(),wt&&wt.d(),Ct&&Ct.d(),Dt&&Dt.d(),_t=!1,o(mt)}}}let ft="http://localhost:8000";async function ht(){try{const t=await fetch(ft+"/init_db",{method:"POST",headers:{"Content-Type":"application/json"}}),e=await t.json();console.log(e)}catch(t){console.error("Error:",t)}}function pt(t,e,n){let o="",i=[],l=null,c="",a="",r=[],s=[],d=[],u=[],g="Not logged in",f=[],h=[],p="";function _(t,e){try{const l=i.find((t=>t.name===e));if(l){l.desc_id=t;const e=r.some((t=>t.id==t.id));e||n(5,r=[...r,l]),n(0,o="")}else{const o={id:i.length+1,name:e,desc_id:t,created_at:(new Date).toISOString(),updated_at:(new Date).toISOString()};n(1,i=[...i,o]),n(5,r=[...r,o])}}catch(t){console.error("Error:",t)}}function m(t){try{const e=f.allDescs.find((e=>e.id===t));console.log(e.tags),e?(n(11,p=e.auth_uid),n(2,l=e.id),n(3,c=e.title),n(4,a=e.description),n(5,r=e.tags)):console.error(`No description found with id: ${t}`)}catch(t){console.error("Error:",t)}}function v(t){n(6,d=[]);s.some((e=>e===t))||(s=[...s,t]),n(6,d=f.allDescs.filter((t=>t.tags.some((t=>s.some((e=>e===t.id))))))),n(9,f={...f,filtered_allDescs:d})}const b={validateAuthUid:t=>/^[a-zA-Z0-9_-]+$/.test(t),validateDescId:t=>(console.log("validateDescId",t),Number.isInteger(t)&&t>0),validateISODate:t=>/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$/.test(t),validateTitle:t=>(console.log("validateTitle",t),"string"==typeof t&&t.length>=1&&t.length<=100),validateDescription:t=>(console.log("validateDescription",t),"string"==typeof t&&t.length>=1&&t.length<=1e3),validateTagName:t=>"string"==typeof t&&t.length>=1&&t.length<=10,validateData(t){const{auth_uid:e,desc_id:n,created_at:o,updated_at:i,title:l,description:c,tags:a}=t,r=this.validateAuthUid(e);this.validateDescId(n);return{isAuthUidValid:r,isTitleValid:this.validateTitle(l),isDescriptionValid:this.validateDescription(c),areTagsValid:a.every((t=>this.validateTagName(t.name)))}}};function T(){console.log("auth_uid",p,"desc_id",l,"title",c,"description",a,"tags",r);const t={auth_uid:p,desc_id:l,title:c,description:a,tags:r};n(7,u=[]);for(const[e,n]of Object.entries(b.validateData(t)))if(n||u.push(e),"tags"===e)for(const[t,e]of n.entries())for(const[n,o]of Object.entries(b.validateData(e)))o||u.push(`tags[${t}].${n}`);else"auth_uid"===e&&b.validateAuthUid(p),"desc_id"===e&&b.validateDescId(l),"title"===e&&b.validateTitle(c),"description"===e&&b.validateDescription(a);return!(u.length>0)||(console.log(u),!1)}async function $(){try{if(!T())throw new Error("Validation failed");const t=await fetch("http://localhost:8000/insert_desc",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({auth_uid:p,title:c,description:a,tags:r})}),e=await t.json();console.log(e)}catch(t){}}async function x(){try{const t=await fetch(ft+"/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({auth_uid:p})}),e=await t.json();n(9,f=e),n(1,i=e.allTags),console.log(1),f.any_user_new_allDescs_with_tags.length>0&&(console.log(2),console.log("any_user_new_allDescs_with_tags"),console.log(e.any_user_new_allDescs_with_tags),n(10,h=e.any_user_new_allDescs_with_tags)),console.log(e)}catch(t){console.error("Error:",t)}}async function w(t){try{const e=await fetch(ft+"/delete_desc",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t,auth_uid:p})}),n=await e.json();console.log(n)}catch(t){console.error("Error:",t)}}async function C(t,e){try{console.log(t,e,p);const n=await fetch(ft+"/delete_desc_tag",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t,desc_id:e,auth_uid:p})}),o=await n.json();console.log(o)}catch(t){console.error("Error:",t)}}firebase.initializeApp({apiKey:"AIzaSyBcOlIDP2KWbJuKM0WeMHNp-WvjTVfLt9Y",authDomain:"p2auth-ea50a.firebaseapp.com",projectId:"p2auth-ea50a",storageBucket:"p2auth-ea50a.appspot.com",messagingSenderId:"796225429484",appId:"1:796225429484:web:ece56ef2fc0be28cd6eac9"});const D=new firebase.auth.GoogleAuthProvider;const k=[{auth_uid:"user1",desc_id:1,created_at:"2024-09-01T00:00:00",updated_at:"2024-09-01T00:00:00",title:"foo1",description:"bar1",tags:[{desc_id:1,id:1,name:"tag1",created_at:"2024-09-01T00:00:00",updated_at:"2024-09-01T00:00:00"},{desc_id:1,id:2,name:"tag2",created_at:"2024-09-01T00:00:00",updated_at:"2024-09-01T00:00:00"},{desc_id:1,id:3,name:"tag3",created_at:"2024-09-01T00:00:00",updated_at:"2024-09-01T00:00:00"}]},{auth_uid:"user1",desc_id:2,created_at:"2024-09-01T00:00:00",updated_at:"2024-09-01T00:00:00",title:"foo2",description:"bar2",tags:[{desc_id:2,id:1,name:"tag1",created_at:"2024-09-01T00:00:00",updated_at:"2024-09-01T00:00:00"},{desc_id:2,id:2,name:"tag2",created_at:"2024-09-01T00:00:00",updated_at:"2024-09-01T00:00:00"}]},{auth_uid:"user2",desc_id:3,created_at:"2024-09-01T00:00:00",updated_at:"2024-09-01T00:00:00",title:"foo3",description:"bar3",tags:[{desc_id:3,id:2,name:"tag2",created_at:"2024-09-01T00:00:00",updated_at:"2024-09-01T00:00:00"},{desc_id:3,id:3,name:"tag3",created_at:"2024-09-01T00:00:00",updated_at:"2024-09-01T00:00:00"}]}],E=[{auth_uid:"user1",desc_id:4,created_at:"2024-09-01T00:00:00",updated_at:"2024-09-01T00:00:00",title:"a".repeat(100),description:"b".repeat(1e3),tags:[{desc_id:4,id:4,name:"tag4",created_at:"2024-09-01T00:00:00",updated_at:"2024-09-01T00:00:00"}]},{auth_uid:"user1",desc_id:5,created_at:"2024-09-01T00:00:00",updated_at:"2024-09-01T00:00:00",title:"",description:"",tags:[{desc_id:5,id:5,name:"t".repeat(10),created_at:"2024-09-01T00:00:00",updated_at:"2024-09-01T00:00:00"}]}];y((async()=>{await async function(){try{console.log("auth_check_login");const t=await new Promise(((t,e)=>{firebase.auth().onAuthStateChanged(t,e)}));console.log("Current user:",t),t?(n(11,p=t.uid),console.log(1),n(8,g="Logged in")):(console.log(2),n(8,g="Not logged in"),n(11,p=""))}catch(t){console.error("Error during authentication:",t),n(8,g="Authentication failed"),n(11,p="")}}(),await x()}));return(async()=>{})(),[o,i,l,c,a,r,d,u,g,f,h,p,_,m,v,function(){n(6,d=[])},async function(){try{for(const t of k)n(11,p=t.auth_uid),n(2,l=t.desc_id),n(3,c=t.title),n(4,a=t.description),n(5,r=t.tags),await $()}catch(t){console.error("Error:",t)}},$,x,async function(){try{if(console.log("fetch_update_desc"),console.log(p,l,c,a,r),!T())throw new Error("Validation failed");const t=await fetch(ft+"/update_desc",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({auth_uid:p,desc_id:l,title:c,description:a,tags:r})}),e=await t.json();console.log(e)}catch(t){console.error("Error:",t)}},w,C,async function(){try{console.log("auth_google_login");const t=(await firebase.auth().signInWithPopup(D)).user;console.log(4),n(8,g=`Logged in as: ${t.displayName}`)}catch(t){console.error("Error during Google login:",t),alert("Google login failed. "+t.message)}},async function(){try{console.log(5),await firebase.auth().signOut(),n(8,g="Not logged in"),await async function(){try{const t=await fetch(ft+"/",{method:"GET"});n(9,f=await t.json())}catch(t){console.error("Error fetching data:",t)}}()}catch(t){console.error("Error during sign-out:",t),alert("Sign out failed. "+t.message)}},function(){n(3,c=E[1].title),n(4,a=E[1].description),n(5,r=E[1].tags),$()},t=>m(t.id),t=>w(t.id),t=>C(t.id,t.desc_id),t=>m(t.id),t=>w(t.id),t=>m(t.id),t=>w(t.id),t=>v(t.id),function(){c=this.value,n(3,c)},function(){a=this.value,n(4,a)},t=>n(5,r=r.filter((e=>e.id!==t.id))),function(){o=this.value,n(0,o)},()=>_(l,o)]}return new class extends W{constructor(t){super(),P(this,t,pt,gt,l,{},null,[-1,-1,-1])}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
