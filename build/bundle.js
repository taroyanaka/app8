var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function l(t){t.forEach(e)}function a(t){return"function"==typeof t}function i(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function o(t){return null==t?"":t}function c(t,e){t.appendChild(e)}function s(t,e,n){t.insertBefore(e,n||null)}function r(t){t.parentNode&&t.parentNode.removeChild(t)}function d(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function u(t){return document.createElement(t)}function _(t){return document.createTextNode(t)}function f(){return _(" ")}function g(){return _("")}function h(t,e,n,l){return t.addEventListener(e,n,l),()=>t.removeEventListener(e,n,l)}function p(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function m(t,e){e=""+e,t.data!==e&&(t.data=e)}function v(t,e){t.value=null==e?"":e}function b(t,e,n){for(let n=0;n<t.options.length;n+=1){const l=t.options[n];if(l.__value===e)return void(l.selected=!0)}n&&void 0===e||(t.selectedIndex=-1)}function k(t){const e=t.querySelector(":checked");return e&&e.__value}function y(t,e,n){t.classList[n?"add":"remove"](e)}let w;function $(t){w=t}function j(t){(function(){if(!w)throw new Error("Function called outside component initialization");return w})().$$.on_mount.push(t)}const T=[],E=[];let z=[];const x=[],C=Promise.resolve();let N=!1;function O(t){z.push(t)}const S=new Set;let I=0;function A(){if(0!==I)return;const t=w;do{try{for(;I<T.length;){const t=T[I];I++,$(t),P(t.$$)}}catch(t){throw T.length=0,I=0,t}for($(null),T.length=0,I=0;E.length;)E.pop()();for(let t=0;t<z.length;t+=1){const e=z[t];S.has(e)||(S.add(e),e())}z.length=0}while(T.length);for(;x.length;)x.pop()();N=!1,S.clear(),$(t)}function P(t){if(null!==t.fragment){t.update(),l(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(O)}}const q=new Set;function L(t,e){const n=t.$$;null!==n.fragment&&(!function(t){const e=[],n=[];z.forEach((l=>-1===t.indexOf(l)?e.push(l):n.push(l))),n.forEach((t=>t())),z=e}(n.after_update),l(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function D(t,e){-1===t.$$.dirty[0]&&(T.push(t),N||(N=!0,C.then(A)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function B(i,o,c,s,d,u,_,f=[-1]){const g=w;$(i);const h=i.$$={fragment:null,ctx:[],props:u,update:t,not_equal:d,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(o.context||(g?g.$$.context:[])),callbacks:n(),dirty:f,skip_bound:!1,root:o.target||g.$$.root};_&&_(h.root);let p=!1;if(h.ctx=c?c(i,o.props||{},((t,e,...n)=>{const l=n.length?n[0]:e;return h.ctx&&d(h.ctx[t],h.ctx[t]=l)&&(!h.skip_bound&&h.bound[t]&&h.bound[t](l),p&&D(i,t)),e})):[],h.update(),p=!0,l(h.before_update),h.fragment=!!s&&s(h.ctx),o.target){if(o.hydrate){const t=function(t){return Array.from(t.childNodes)}(o.target);h.fragment&&h.fragment.l(t),t.forEach(r)}else h.fragment&&h.fragment.c();o.intro&&((m=i.$$.fragment)&&m.i&&(q.delete(m),m.i(v))),function(t,n,i,o){const{fragment:c,after_update:s}=t.$$;c&&c.m(n,i),o||O((()=>{const n=t.$$.on_mount.map(e).filter(a);t.$$.on_destroy?t.$$.on_destroy.push(...n):l(n),t.$$.on_mount=[]})),s.forEach(O)}(i,o.target,o.anchor,o.customElement),A()}var m,v;$(g)}class W{$destroy(){L(this,1),this.$destroy=t}$on(e,n){if(!a(n))return t;const l=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return l.push(n),()=>{const t=l.indexOf(n);-1!==t&&l.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function J(t,e,n){const l=t.slice();return l[77]=e[n],l}function M(t,e,n){const l=t.slice();return l[80]=e[n],l}function V(t,e,n){const l=t.slice();return l[80]=e[n],l}function F(t,e,n){const l=t.slice();return l[85]=e[n][0],l[86]=e[n][1],l}function G(t,e,n){const l=t.slice();return l[80]=e[n],l}function K(t,e,n){const l=t.slice();return l[91]=e[n],l}function H(t,e,n){const l=t.slice();return l[80]=e[n],l}function U(t,e,n){const l=t.slice();return l[96]=e[n],l}function Y(t,e,n){const l=t.slice();return l[80]=e[n],l}function Z(t,e,n){const l=t.slice();return l[80]=e[n],l}function Q(t,e,n){const l=t.slice();return l[103]=e[n],l}function R(t,e,n){const l=t.slice();return l[77]=e[n],l}function X(t,e,n){const l=t.slice();return l[108]=e[n],l}function tt(t,e,n){const l=t.slice();return l[111]=e[n],l}function et(t){let e,n,a,i,o,g,v,k,y,w,$,j,T,E,z,x,C,N,S,I,A,P,q,L,D,B=t[22].select_language[t[9]]+"",W=t[22].sort[t[9]]+"",J=t[22].auth_login_result[t[9]]+"",M=t[8]&&nt(t),V=t[23],F=[];for(let e=0;e<V.length;e+=1)F[e]=lt(tt(t,V,e));let G=["desc","asc"],K=[];for(let e=0;e<2;e+=1)K[e]=at(X(t,G,e));let H=""===t[17]&&it(t),U=""!==t[17]&&ot(t);return{c(){e=u("div"),n=u("button"),a=_(B),i=f(),M&&M.c(),o=f(),g=u("div"),v=u("select");for(let t=0;t<F.length;t+=1)F[t].c();k=f(),y=u("select");for(let t=0;t<2;t+=1)K[t].c();w=f(),$=u("button"),j=_(W),T=f(),E=u("div"),E.textContent="v1.2.1",z=f(),x=u("div"),C=_(J),N=_(": "),S=u("span"),I=_(t[15]),A=f(),H&&H.c(),P=f(),U&&U.c(),q=f(),p(n,"class","svelte-io8kt7"),void 0===t[10].kind&&O((()=>t[45].call(v))),void 0===t[10].order&&O((()=>t[46].call(y))),p($,"class","svelte-io8kt7"),p(E,"class","version"),p(e,"class","menu_list svelte-io8kt7")},m(l,r){s(l,e,r),c(e,n),c(n,a),c(e,i),M&&M.m(e,null),c(e,o),c(e,g),c(g,v);for(let t=0;t<F.length;t+=1)F[t]&&F[t].m(v,null);b(v,t[10].kind,!0),c(g,k),c(g,y);for(let t=0;t<2;t+=1)K[t]&&K[t].m(y,null);b(y,t[10].order,!0),c(g,w),c(g,$),c($,j),c(e,T),c(e,E),c(e,z),c(e,x),c(x,C),c(x,N),c(x,S),c(S,I),c(e,A),H&&H.m(e,null),c(e,P),U&&U.m(e,null),c(e,q),L||(D=[h(n,"click",t[21]),h(v,"change",t[45]),h(y,"change",t[46]),h($,"click",t[24])],L=!0)},p(t,n){if(512&n[0]&&B!==(B=t[22].select_language[t[9]]+"")&&m(a,B),t[8]?M?M.p(t,n):(M=nt(t),M.c(),M.m(e,o)):M&&(M.d(1),M=null),8388608&n[0]){let e;for(V=t[23],e=0;e<V.length;e+=1){const l=tt(t,V,e);F[e]?F[e].p(l,n):(F[e]=lt(l),F[e].c(),F[e].m(v,null))}for(;e<F.length;e+=1)F[e].d(1);F.length=V.length}8389632&n[0]&&b(v,t[10].kind),8389632&n[0]&&b(y,t[10].order),512&n[0]&&W!==(W=t[22].sort[t[9]]+"")&&m(j,W),512&n[0]&&J!==(J=t[22].auth_login_result[t[9]]+"")&&m(C,J),32768&n[0]&&m(I,t[15]),""===t[17]?H?H.p(t,n):(H=it(t),H.c(),H.m(e,P)):H&&(H.d(1),H=null),""!==t[17]?U?U.p(t,n):(U=ot(t),U.c(),U.m(e,q)):U&&(U.d(1),U=null)},d(t){t&&r(e),M&&M.d(),d(F,t),d(K,t),H&&H.d(),U&&U.d(),L=!1,l(D)}}}function nt(t){let e,n,a,i,o,d,g,v,b,k,y,w,$,j,T,E,z,x,C,N,O,S,I,A,P,q,L=t[22].select_language[t[9]]+"";return A=function(t){let e;return{p(...n){e=n,e.forEach((e=>t.push(e)))},r(){e.forEach((e=>t.splice(t.indexOf(e),1)))}}}(t[41][0]),{c(){e=u("div"),n=u("div"),a=u("button"),a.textContent="×",i=f(),o=u("h2"),d=_(L),g=f(),v=u("div"),b=u("input"),k=f(),y=u("label"),y.textContent="🇺🇸 English",w=f(),$=u("input"),j=f(),T=u("label"),T.textContent="🇯🇵 日本語",E=f(),z=u("input"),x=f(),C=u("label"),C.textContent="🇨🇳🇹🇼 中文",N=f(),O=u("input"),S=f(),I=u("label"),I.textContent="🇪🇸 Español",p(a,"class","close svelte-io8kt7"),p(b,"type","radio"),p(b,"id","en"),p(b,"name","design_lang"),b.__value="en",b.value=b.__value,p(y,"for","en"),p($,"type","radio"),p($,"id","ja"),p($,"name","design_lang"),$.__value="ja",$.value=$.__value,p(T,"for","ja"),p(z,"type","radio"),p(z,"id","zh"),p(z,"name","design_lang"),z.__value="zh",z.value=z.__value,p(C,"for","zh"),p(O,"type","radio"),p(O,"id","es"),p(O,"name","design_lang"),O.__value="es",O.value=O.__value,p(I,"for","es"),p(n,"class","modal-content svelte-io8kt7"),p(e,"class","modal svelte-io8kt7"),A.p(b,$,z,O)},m(l,r){s(l,e,r),c(e,n),c(n,a),c(n,i),c(n,o),c(o,d),c(n,g),c(n,v),c(v,b),b.checked=b.__value===t[9],c(v,k),c(v,y),c(v,w),c(v,$),$.checked=$.__value===t[9],c(v,j),c(v,T),c(v,E),c(v,z),z.checked=z.__value===t[9],c(v,x),c(v,C),c(v,N),c(v,O),O.checked=O.__value===t[9],c(v,S),c(v,I),P||(q=[h(a,"click",t[21]),h(b,"change",t[40]),h($,"change",t[42]),h(z,"change",t[43]),h(O,"change",t[44])],P=!0)},p(t,e){512&e[0]&&L!==(L=t[22].select_language[t[9]]+"")&&m(d,L),512&e[0]&&(b.checked=b.__value===t[9]),512&e[0]&&($.checked=$.__value===t[9]),512&e[0]&&(z.checked=z.__value===t[9]),512&e[0]&&(O.checked=O.__value===t[9])},d(t){t&&r(e),A.r(),P=!1,l(q)}}}function lt(e){let n,l,a=e[111]+"";return{c(){n=u("option"),l=_(a),n.__value=e[111],n.value=n.__value},m(t,e){s(t,n,e),c(n,l)},p:t,d(t){t&&r(n)}}}function at(e){let n,l;return{c(){n=u("option"),l=_(e[108]),n.__value=e[108],n.value=n.__value},m(t,e){s(t,n,e),c(n,l)},p:t,d(t){t&&r(n)}}}function it(e){let n,l,a,i,o;return{c(){n=u("div"),l=_("auth_google_login: "),a=u("button"),a.textContent="auth_google_login",p(a,"class","svelte-io8kt7")},m(t,r){s(t,n,r),c(n,l),c(n,a),i||(o=h(a,"click",e[37]),i=!0)},p:t,d(t){t&&r(n),i=!1,o()}}}function ot(t){let e,n,l,a,i,o=t[22].auth_sign_out[t[9]]+"";return{c(){e=u("div"),n=u("button"),l=_(o),p(n,"class","svelte-io8kt7")},m(o,r){s(o,e,r),c(e,n),c(n,l),a||(i=h(n,"click",t[38]),a=!0)},p(t,e){512&e[0]&&o!==(o=t[22].auth_sign_out[t[9]]+"")&&m(l,o)},d(t){t&&r(e),a=!1,i()}}}function ct(t){let e,n,l,a=t[14],i=[];for(let e=0;e<a.length;e+=1)i[e]=st(R(t,a,e));return{c(){e=u("p"),e.textContent="Errors:",n=f();for(let t=0;t<i.length;t+=1)i[t].c();l=g()},m(t,a){s(t,e,a),s(t,n,a);for(let e=0;e<i.length;e+=1)i[e]&&i[e].m(t,a);s(t,l,a)},p(t,e){if(16384&e[0]){let n;for(a=t[14],n=0;n<a.length;n+=1){const o=R(t,a,n);i[n]?i[n].p(o,e):(i[n]=st(o),i[n].c(),i[n].m(l.parentNode,l))}for(;n<i.length;n+=1)i[n].d(1);i.length=a.length}},d(t){t&&r(e),t&&r(n),d(i,t),t&&r(l)}}}function st(t){let e,n,l=t[77]+"";return{c(){e=u("div"),n=_(l)},m(t,l){s(t,e,l),c(e,n)},p(t,e){16384&e[0]&&l!==(l=t[77]+"")&&m(n,l)},d(t){t&&r(e)}}}function rt(t){let e,n,l,a,i,o=(t[22][t[103]]?t[22][t[103]][t[9]]:t[103])+"";function d(){return t[48](t[103])}return{c(){e=u("button"),n=_(o),l=f(),p(e,"class","svelte-io8kt7"),y(e,"active",t[6]===t[103])},m(t,o){s(t,e,o),c(e,n),c(e,l),a||(i=h(e,"click",d),a=!0)},p(l,a){t=l,66048&a[0]&&o!==(o=(t[22][t[103]]?t[22][t[103]][t[9]]:t[103])+"")&&m(n,o),65600&a[0]&&y(e,"active",t[6]===t[103])},d(t){t&&r(e),a=!1,i()}}}function dt(t){let e,n="all_tags"!==t[103]&&rt(t);return{c(){n&&n.c(),e=g()},m(t,l){n&&n.m(t,l),s(t,e,l)},p(t,l){"all_tags"!==t[103]?n?n.p(t,l):(n=rt(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&r(e)}}}function ut(t){let e,n="all_tags"!==t[6]&&t[6]===t[85]&&_t(t);return{c(){n&&n.c(),e=g()},m(t,l){n&&n.m(t,l),s(t,e,l)},p(t,l){"all_tags"!==t[6]&&t[6]===t[85]?n?n.p(t,l):(n=_t(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&r(e)}}}function _t(t){let e,n,l,a="filtered_all_descs"===t[85]&&ft(t),i=t[86],_=[];for(let e=0;e<i.length;e+=1)_[e]=yt(K(t,i,e));return{c(){e=u("div"),a&&a.c(),n=f();for(let t=0;t<_.length;t+=1)_[t].c();p(e,"class",l=o(t[85])+" svelte-io8kt7")},m(t,l){s(t,e,l),a&&a.m(e,null),c(e,n);for(let t=0;t<_.length;t+=1)_[t]&&_[t].m(e,null)},p(t,c){if("filtered_all_descs"===t[85]?a?a.p(t,c):(a=ft(t),a.c(),a.m(e,n)):a&&(a.d(1),a=null),877068800&c[0]|32&c[1]){let n;for(i=t[86],n=0;n<i.length;n+=1){const l=K(t,i,n);_[n]?_[n].p(l,c):(_[n]=yt(l),_[n].c(),_[n].m(e,null))}for(;n<_.length;n+=1)_[n].d(1);_.length=i.length}65536&c[0]&&l!==(l=o(t[85])+" svelte-io8kt7")&&p(e,"class",l)},d(t){t&&r(e),a&&a.d(),d(_,t)}}}function ft(t){let e,n,l,a,i,o,v,b,k,y,w,$=t[22].clear_filtered_all_descs[t[9]]+"",j=t[2],T=[];for(let e=0;e<j.length;e+=1)T[e]=gt(Z(t,j,e));let E=t[4],z=[];for(let e=0;e<E.length;e+=1)z[e]=mt(U(t,E,e));return{c(){e=_("all_tags: \n\t\t\t\t\t"),n=u("div");for(let t=0;t<T.length;t+=1)T[t].c();l=f(),a=u("div"),i=f(),o=u("button"),v=_($),b=f();for(let t=0;t<z.length;t+=1)z[t].c();k=g(),p(n,"class","parent_tags svelte-io8kt7"),p(a,"class","each_desc_border svelte-io8kt7"),p(o,"class","svelte-io8kt7")},m(r,d){s(r,e,d),s(r,n,d);for(let t=0;t<T.length;t+=1)T[t]&&T[t].m(n,null);s(r,l,d),s(r,a,d),s(r,i,d),s(r,o,d),c(o,v),s(r,b,d);for(let t=0;t<z.length;t+=1)z[t]&&z[t].m(r,d);s(r,k,d),y||(w=h(o,"click",t[30]),y=!0)},p(t,e){if(536870916&e[0]){let l;for(j=t[2],l=0;l<j.length;l+=1){const a=Z(t,j,l);T[l]?T[l].p(a,e):(T[l]=gt(a),T[l].c(),T[l].m(n,null))}for(;l<T.length;l+=1)T[l].d(1);T.length=j.length}if(512&e[0]&&$!==($=t[22].clear_filtered_all_descs[t[9]]+"")&&m(v,$),20&e[0]|1&e[1]){let n;for(E=t[4],n=0;n<E.length;n+=1){const l=U(t,E,n);z[n]?z[n].p(l,e):(z[n]=mt(l),z[n].c(),z[n].m(k.parentNode,k))}for(;n<z.length;n+=1)z[n].d(1);z.length=E.length}},d(t){t&&r(e),t&&r(n),d(T,t),t&&r(l),t&&r(a),t&&r(i),t&&r(o),t&&r(b),d(z,t),t&&r(k),y=!1,w()}}}function gt(t){let e,n,l,a,i=t[80].name+"";function o(){return t[49](t[80])}return{c(){e=u("button"),n=_(i),p(e,"class","tag svelte-io8kt7")},m(t,i){s(t,e,i),c(e,n),l||(a=h(e,"click",o),l=!0)},p(e,l){t=e,4&l[0]&&i!==(i=t[80].name+"")&&m(n,i)},d(t){t&&r(e),l=!1,a()}}}function ht(t){let e,n,l,a,i=t[80].name+"";function o(){return t[50](t[80])}return{c(){e=u("button"),n=_(i),p(e,"class","tag svelte-io8kt7")},m(t,i){s(t,e,i),c(e,n),l||(a=h(e,"click",o),l=!0)},p(e,l){t=e,4&l[0]&&i!==(i=t[80].name+"")&&m(n,i)},d(t){t&&r(e),l=!1,a()}}}function pt(t){let e,n=t[80].id===t[96]&&ht(t);return{c(){n&&n.c(),e=g()},m(t,l){n&&n.m(t,l),s(t,e,l)},p(t,l){t[80].id===t[96]?n?n.p(t,l):(n=ht(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&r(e)}}}function mt(t){let e,n,l=t[2],a=[];for(let e=0;e<l.length;e+=1)a[e]=pt(Y(t,l,e));return{c(){e=u("div");for(let t=0;t<a.length;t+=1)a[t].c();n=f(),p(e,"class","parent_tags svelte-io8kt7")},m(t,l){s(t,e,l);for(let t=0;t<a.length;t+=1)a[t]&&a[t].m(e,null);c(e,n)},p(t,i){if(20&i[0]|1&i[1]){let o;for(l=t[2],o=0;o<l.length;o+=1){const c=Y(t,l,o);a[o]?a[o].p(c,i):(a[o]=pt(c),a[o].c(),a[o].m(e,n))}for(;o<a.length;o+=1)a[o].d(1);a.length=l.length}},d(t){t&&r(e),d(a,t)}}}function vt(t){let e,n=t[91].tags,l=[];for(let e=0;e<n.length;e+=1)l[e]=bt(H(t,n,e));return{c(){e=u("div");for(let t=0;t<l.length;t+=1)l[t].c();p(e,"class","desc_tags svelte-io8kt7")},m(t,n){s(t,e,n);for(let t=0;t<l.length;t+=1)l[t]&&l[t].m(e,null)},p(t,a){if(536936448&a[0]){let i;for(n=t[91].tags,i=0;i<n.length;i+=1){const o=H(t,n,i);l[i]?l[i].p(o,a):(l[i]=bt(o),l[i].c(),l[i].m(e,null))}for(;i<l.length;i+=1)l[i].d(1);l.length=n.length}},d(t){t&&r(e),d(l,t)}}}function bt(t){let e,n,l,a,i=t[80].name+"";function o(){return t[51](t[80])}return{c(){e=u("button"),n=_(i),p(e,"class","tag svelte-io8kt7")},m(t,i){s(t,e,i),c(e,n),l||(a=h(e,"click",o),l=!0)},p(e,l){t=e,65536&l[0]&&i!==(i=t[80].name+"")&&m(n,i)},d(t){t&&r(e),l=!1,a()}}}function kt(t){let e,n,a,i,o,d,g,v=t[22].set_desc_data[t[9]]+"",b=t[22].delete_desc[t[9]]+"";function k(){return t[53](t[91])}function y(){return t[54](t[91])}return{c(){e=u("button"),n=_(v),a=f(),i=u("button"),o=_(b),p(e,"class","set_desc_data svelte-io8kt7"),p(i,"class","fetch_delete_desc svelte-io8kt7")},m(t,l){s(t,e,l),c(e,n),s(t,a,l),s(t,i,l),c(i,o),d||(g=[h(e,"click",k),h(i,"click",y)],d=!0)},p(e,l){t=e,512&l[0]&&v!==(v=t[22].set_desc_data[t[9]]+"")&&m(n,v),512&l[0]&&b!==(b=t[22].delete_desc[t[9]]+"")&&m(o,b)},d(t){t&&r(e),t&&r(a),t&&r(i),d=!1,l(g)}}}function yt(t){let e,n,a,i,o,d,g,v,b,k,y,w,$,j,T,E,z,x,C,N=t[91].title+"",O=(t[91].description.length>200&&!t[18]?t[91].description.slice(0,200)+"...▼":t[91].description)+"",S=t[91].id+"",I=t[91].tags&&vt(t);function A(){return t[52](t[91])}let P="any_user_new_all_descs_with_tags"===t[85]&&t[17]&&kt(t);return{c(){e=u("div"),n=u("p"),a=_(N),i=f(),o=u("p"),d=u("button"),g=_(O),v=f(),I&&I.c(),b=f(),k=u("div"),y=u("p"),w=u("button"),$=_("id: "),j=_(S),T=f(),P&&P.c(),z=f(),p(n,"class","title break_word_title svelte-io8kt7"),p(d,"class","button_reset break_word svelte-io8kt7"),p(o,"class","break_word svelte-io8kt7"),p(w,"class","id button_reset svelte-io8kt7"),p(y,"id",E=t[91].id),p(y,"class","id_and_set_delete svelte-io8kt7"),p(k,"class","each_desc_border svelte-io8kt7")},m(l,r){s(l,e,r),c(e,n),c(n,a),c(e,i),c(e,o),c(o,d),c(d,g),c(e,v),I&&I.m(e,null),s(l,b,r),s(l,k,r),c(k,y),c(y,w),c(w,$),c(w,j),c(y,T),P&&P.m(y,null),c(k,z),x||(C=[h(d,"click",t[26]),h(w,"click",A)],x=!0)},p(n,l){t=n,65536&l[0]&&N!==(N=t[91].title+"")&&m(a,N),327680&l[0]&&O!==(O=(t[91].description.length>200&&!t[18]?t[91].description.slice(0,200)+"...▼":t[91].description)+"")&&m(g,O),t[91].tags?I?I.p(t,l):(I=vt(t),I.c(),I.m(e,null)):I&&(I.d(1),I=null),65536&l[0]&&S!==(S=t[91].id+"")&&m(j,S),"any_user_new_all_descs_with_tags"===t[85]&&t[17]?P?P.p(t,l):(P=kt(t),P.c(),P.m(y,null)):P&&(P.d(1),P=null),65536&l[0]&&E!==(E=t[91].id)&&p(y,"id",E)},d(t){t&&r(e),I&&I.d(),t&&r(b),t&&r(k),P&&P.d(),x=!1,l(C)}}}function wt(t){let e,n,l,a,i,o=t[22].web_data_tags[t[9]]+"",d=t[16].all_tags&&$t(t);return{c(){e=u("div"),n=u("h1"),l=_(o),a=f(),d&&d.c(),i=f(),p(n,"class","svelte-io8kt7"),p(e,"class","web_data_tags svelte-io8kt7")},m(t,o){s(t,e,o),c(e,n),c(n,l),c(e,a),d&&d.m(e,null),c(e,i)},p(t,n){512&n[0]&&o!==(o=t[22].web_data_tags[t[9]]+"")&&m(l,o),t[16].all_tags?d?d.p(t,n):(d=$t(t),d.c(),d.m(e,i)):d&&(d.d(1),d=null)},d(t){t&&r(e),d&&d.d()}}}function $t(t){let e,n=t[16].all_tags,l=[];for(let e=0;e<n.length;e+=1)l[e]=jt(G(t,n,e));return{c(){e=u("div");for(let t=0;t<l.length;t+=1)l[t].c();p(e,"class","parent_tags svelte-io8kt7")},m(t,n){s(t,e,n);for(let t=0;t<l.length;t+=1)l[t]&&l[t].m(e,null)},p(t,a){if(536936448&a[0]){let i;for(n=t[16].all_tags,i=0;i<n.length;i+=1){const o=G(t,n,i);l[i]?l[i].p(o,a):(l[i]=jt(o),l[i].c(),l[i].m(e,null))}for(;i<l.length;i+=1)l[i].d(1);l.length=n.length}},d(t){t&&r(e),d(l,t)}}}function jt(t){let e,n,l,a,i=t[80].name+"";function o(){return t[55](t[80])}return{c(){e=u("button"),n=_(i),p(e,"class","tag svelte-io8kt7")},m(t,i){s(t,e,i),c(e,n),l||(a=h(e,"click",o),l=!0)},p(e,l){t=e,65536&l[0]&&i!==(i=t[80].name+"")&&m(n,i)},d(t){t&&r(e),l=!1,a()}}}function Tt(t){let e,n,l="all_tags"!==t[85]&&ut(t),a="all_tags"===t[6]&&"all_tags"===t[85]&&wt(t);return{c(){l&&l.c(),e=f(),a&&a.c(),n=g()},m(t,i){l&&l.m(t,i),s(t,e,i),a&&a.m(t,i),s(t,n,i)},p(t,i){"all_tags"!==t[85]?l?l.p(t,i):(l=ut(t),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null),"all_tags"===t[6]&&"all_tags"===t[85]?a?a.p(t,i):(a=wt(t),a.c(),a.m(n.parentNode,n)):a&&(a.d(1),a=null)},d(t){l&&l.d(t),t&&r(e),a&&a.d(t),t&&r(n)}}}function Et(t){let e,n,a,i,o,b,k,y,w,$,j,T,E,z,x,C,N,O,S,I,A,P,q,L,D,B,W,J,F,G=t[22].clear_title_description_tags[t[9]]+"",K=t[22].tag[t[9]]+"",H=t[22].add_tag_to_desc[t[9]]+"",U=null!==t[11]&&zt(t),Y=t[3],Z=[];for(let e=0;e<Y.length;e+=1)Z[e]=xt(V(t,Y,e));let Q=t[2],R=[];for(let e=0;e<Q.length;e+=1)R[e]=Ct(M(t,Q,e));let X=t[14].length>0&&Nt(t),tt=null===t[11]&&St(t),et=null!==t[11]&&It(t);return{c(){U&&U.c(),e=f(),n=u("button"),a=_(G),i=f(),o=u("div"),o.textContent="title:",b=f(),k=u("textarea"),y=f(),w=u("div"),w.textContent="description:",$=f(),j=u("textarea"),T=f(),E=u("div");for(let t=0;t<Z.length;t+=1)Z[t].c();z=f(),x=u("label"),C=_(K),N=f(),O=u("input"),S=f(),I=u("datalist");for(let t=0;t<R.length;t+=1)R[t].c();A=f(),P=u("button"),q=_(H),L=f(),X&&X.c(),D=f(),tt&&tt.c(),B=f(),et&&et.c(),W=g(),p(n,"class","svelte-io8kt7"),p(k,"class","title svelte-io8kt7"),p(k,"minlength","1"),p(k,"maxlength","100"),k.required=!0,p(k,"placeholder","1_100"),p(j,"class","description svelte-io8kt7"),p(j,"minlength","1"),p(j,"maxlength","1000"),j.required=!0,p(j,"placeholder","1_1000"),p(x,"for","my_all_tags"),p(O,"list","all_tags"),p(O,"id","my_all_tags"),p(O,"name","my_all_tags"),p(O,"minlength","1"),p(O,"maxlength","10"),O.required=!0,p(O,"placeholder","1_10"),p(I,"id","all_tags"),p(P,"class","svelte-io8kt7")},m(l,r){U&&U.m(l,r),s(l,e,r),s(l,n,r),c(n,a),s(l,i,r),s(l,o,r),s(l,b,r),s(l,k,r),v(k,t[12]),s(l,y,r),s(l,w,r),s(l,$,r),s(l,j,r),v(j,t[13]),s(l,T,r),s(l,E,r);for(let t=0;t<Z.length;t+=1)Z[t]&&Z[t].m(E,null);s(l,z,r),s(l,x,r),c(x,C),s(l,N,r),s(l,O,r),v(O,t[1]),s(l,S,r),s(l,I,r);for(let t=0;t<R.length;t+=1)R[t]&&R[t].m(I,null);s(l,A,r),s(l,P,r),c(P,q),s(l,L,r),X&&X.m(l,r),s(l,D,r),tt&&tt.m(l,r),s(l,B,r),et&&et.m(l,r),s(l,W,r),J||(F=[h(n,"click",t[57]),h(k,"input",t[58]),h(j,"input",t[59]),h(O,"input",t[61]),h(P,"click",t[62])],J=!0)},p(t,n){if(null!==t[11]?U?U.p(t,n):(U=zt(t),U.c(),U.m(e.parentNode,e)):U&&(U.d(1),U=null),512&n[0]&&G!==(G=t[22].clear_title_description_tags[t[9]]+"")&&m(a,G),4096&n[0]&&v(k,t[12]),8192&n[0]&&v(j,t[13]),8&n[0]){let e;for(Y=t[3],e=0;e<Y.length;e+=1){const l=V(t,Y,e);Z[e]?Z[e].p(l,n):(Z[e]=xt(l),Z[e].c(),Z[e].m(E,null))}for(;e<Z.length;e+=1)Z[e].d(1);Z.length=Y.length}if(512&n[0]&&K!==(K=t[22].tag[t[9]]+"")&&m(C,K),2&n[0]&&O.value!==t[1]&&v(O,t[1]),4&n[0]){let e;for(Q=t[2],e=0;e<Q.length;e+=1){const l=M(t,Q,e);R[e]?R[e].p(l,n):(R[e]=Ct(l),R[e].c(),R[e].m(I,null))}for(;e<R.length;e+=1)R[e].d(1);R.length=Q.length}512&n[0]&&H!==(H=t[22].add_tag_to_desc[t[9]]+"")&&m(q,H),t[14].length>0?X?X.p(t,n):(X=Nt(t),X.c(),X.m(D.parentNode,D)):X&&(X.d(1),X=null),null===t[11]?tt?tt.p(t,n):(tt=St(t),tt.c(),tt.m(B.parentNode,B)):tt&&(tt.d(1),tt=null),null!==t[11]?et?et.p(t,n):(et=It(t),et.c(),et.m(W.parentNode,W)):et&&(et.d(1),et=null)},d(t){U&&U.d(t),t&&r(e),t&&r(n),t&&r(i),t&&r(o),t&&r(b),t&&r(k),t&&r(y),t&&r(w),t&&r($),t&&r(j),t&&r(T),t&&r(E),d(Z,t),t&&r(z),t&&r(x),t&&r(N),t&&r(O),t&&r(S),t&&r(I),d(R,t),t&&r(A),t&&r(P),t&&r(L),X&&X.d(t),t&&r(D),tt&&tt.d(t),t&&r(B),et&&et.d(t),t&&r(W),J=!1,l(F)}}}function zt(t){let e,n,l;return{c(){e=u("p"),n=_("id: "),l=_(t[11])},m(t,a){s(t,e,a),c(e,n),c(e,l)},p(t,e){2048&e[0]&&m(l,t[11])},d(t){t&&r(e)}}}function xt(t){let e,n,l,a,i=t[80].name+"";function o(){return t[60](t[80])}return{c(){e=u("button"),n=_(i),p(e,"class","svelte-io8kt7")},m(t,i){s(t,e,i),c(e,n),l||(a=h(e,"click",o),l=!0)},p(e,l){t=e,8&l[0]&&i!==(i=t[80].name+"")&&m(n,i)},d(t){t&&r(e),l=!1,a()}}}function Ct(t){let e,n;return{c(){e=u("option"),e.__value=n=t[80].name,e.value=e.__value},m(t,n){s(t,e,n)},p(t,l){4&l[0]&&n!==(n=t[80].name)&&(e.__value=n,e.value=e.__value)},d(t){t&&r(e)}}}function Nt(t){let e,n,l,a,i=t[22].errors[t[9]]+"",o=t[14],h=[];for(let e=0;e<o.length;e+=1)h[e]=Ot(J(t,o,e));return{c(){e=u("h2"),n=_(i),l=f();for(let t=0;t<h.length;t+=1)h[t].c();a=g()},m(t,i){s(t,e,i),c(e,n),s(t,l,i);for(let e=0;e<h.length;e+=1)h[e]&&h[e].m(t,i);s(t,a,i)},p(t,e){if(512&e[0]&&i!==(i=t[22].errors[t[9]]+"")&&m(n,i),16384&e[0]){let n;for(o=t[14],n=0;n<o.length;n+=1){const l=J(t,o,n);h[n]?h[n].p(l,e):(h[n]=Ot(l),h[n].c(),h[n].m(a.parentNode,a))}for(;n<h.length;n+=1)h[n].d(1);h.length=o.length}},d(t){t&&r(e),t&&r(l),d(h,t),t&&r(a)}}}function Ot(t){let e,n,l=t[77]+"";return{c(){e=u("p"),n=_(l)},m(t,l){s(t,e,l),c(e,n)},p(t,e){16384&e[0]&&l!==(l=t[77]+"")&&m(n,l)},d(t){t&&r(e)}}}function St(t){let e,n,l,a,i=t[22].insert_desc[t[9]]+"";return{c(){e=u("button"),n=_(i),p(e,"class","fetch_insert_desc_button svelte-io8kt7")},m(i,o){s(i,e,o),c(e,n),l||(a=h(e,"click",t[33]),l=!0)},p(t,e){512&e[0]&&i!==(i=t[22].insert_desc[t[9]]+"")&&m(n,i)},d(t){t&&r(e),l=!1,a()}}}function It(t){let e,n,l,a,i=t[22].update_desc[t[9]]+"";return{c(){e=u("button"),n=_(i),p(e,"class","fetch_update_desc_button svelte-io8kt7")},m(i,o){s(i,e,o),c(e,n),l||(a=h(e,"click",t[35]),l=!0)},p(t,e){512&e[0]&&i!==(i=t[22].update_desc[t[9]]+"")&&m(n,i)},d(t){t&&r(e),l=!1,a()}}}function At(e){let n,a,i,o,g,v,b,k,y,w,$,j,T,E,z,x,C,N,O,S,I,A,P,q,L,D,B,W=e[22].right[e[9]]+"",J=e[22].web_data_edit[e[9]]+"",M=e[22].left[e[9]]+"",V=e[7]&&et(e),G=e[14]>0&&ct(e),K=Object.keys(e[16]),H=[];for(let t=0;t<K.length;t+=1)H[t]=dt(Q(e,K,t));let U=Object.entries(e[16]),Y=[];for(let t=0;t<U.length;t+=1)Y[t]=Tt(F(e,U,t));let Z=""!==e[17]&&Et(e);return{c(){n=u("div"),a=u("div"),i=u("button"),i.textContent="≡",o=f(),V&&V.c(),g=f(),v=u("div"),b=u("div"),k=u("div"),G&&G.c(),y=f(),w=u("div"),$=u("button"),j=_(W),E=f(),z=u("div");for(let t=0;t<H.length;t+=1)H[t].c();x=f(),C=u("div");for(let t=0;t<Y.length;t+=1)Y[t].c();N=f(),O=u("div"),S=u("h1"),I=_(J),A=f(),P=u("button"),q=_(M),L=f(),Z&&Z.c(),p(i,"class","design_toggle_menu svelte-io8kt7"),p(a,"class","header svelte-io8kt7"),p(k,"class","console"),p($,"class",T="edit_button "+(e[5]?"hidden_when_scroll":"")+" svelte-io8kt7"),p(z,"class","tabs svelte-io8kt7"),p(C,"class","tab-content"),p(w,"class","list svelte-io8kt7"),p(b,"class","left_column server_side svelte-io8kt7"),p(S,"class","svelte-io8kt7"),p(P,"class","list_button svelte-io8kt7"),p(O,"class","right_column svelte-io8kt7"),p(v,"class","content svelte-io8kt7"),p(n,"class","container svelte-io8kt7")},m(t,l){s(t,n,l),c(n,a),c(a,i),c(a,o),V&&V.m(a,null),c(n,g),c(n,v),c(v,b),c(b,k),G&&G.m(k,null),c(b,y),c(b,w),c(w,$),c($,j),c(w,E),c(w,z);for(let t=0;t<H.length;t+=1)H[t]&&H[t].m(z,null);c(w,x),c(w,C);for(let t=0;t<Y.length;t+=1)Y[t]&&Y[t].m(C,null);c(v,N),c(v,O),c(O,S),c(S,I),c(O,A),c(O,P),c(P,q),c(O,L),Z&&Z.m(O,null),D||(B=[h(i,"click",e[20]),h($,"click",e[47]),h(P,"click",e[56])],D=!0)},p(t,e){if(t[7]?V?V.p(t,e):(V=et(t),V.c(),V.m(a,null)):V&&(V.d(1),V=null),t[14]>0?G?G.p(t,e):(G=ct(t),G.c(),G.m(k,null)):G&&(G.d(1),G=null),512&e[0]&&W!==(W=t[22].right[t[9]]+"")&&m(j,W),32&e[0]&&T!==(T="edit_button "+(t[5]?"hidden_when_scroll":"")+" svelte-io8kt7")&&p($,"class",T),4784704&e[0]){let n;for(K=Object.keys(t[16]),n=0;n<K.length;n+=1){const l=Q(t,K,n);H[n]?H[n].p(l,e):(H[n]=dt(l),H[n].c(),H[n].m(z,null))}for(;n<H.length;n+=1)H[n].d(1);H.length=K.length}if(1950810708&e[0]|33&e[1]){let n;for(U=Object.entries(t[16]),n=0;n<U.length;n+=1){const l=F(t,U,n);Y[n]?Y[n].p(l,e):(Y[n]=Tt(l),Y[n].c(),Y[n].m(C,null))}for(;n<Y.length;n+=1)Y[n].d(1);Y.length=U.length}512&e[0]&&J!==(J=t[22].web_data_edit[t[9]]+"")&&m(I,J),512&e[0]&&M!==(M=t[22].left[t[9]]+"")&&m(q,M),""!==t[17]?Z?Z.p(t,e):(Z=Et(t),Z.c(),Z.m(O,null)):Z&&(Z.d(1),Z=null)},i:t,o:t,d(t){t&&r(n),V&&V.d(),G&&G.d(),d(H,t),d(Y,t),Z&&Z.d(),D=!1,l(B)}}}const Pt="http://localhost:8000/app8";function qt(t,e,n){let l,a="",i=[],o=[],c=[],s=!1;window.addEventListener("scroll",(function(){n(5,s=!0),clearTimeout(l),l=setTimeout((()=>{n(5,s=!1)}),1e3)}));let r="all_descs";function d(t){n(6,r=t)}let u=!1;let _=!1,f="en";let g="left";const h={auth_login_result:{en:"Log in result",ja:"ログイン結果",zh:"登录结果",es:"resultado de inicio de sesión"},auth_sign_out:{en:"Sign out",ja:"サインアウト",zh:"登出",es:"Cerrar sesión"},web_data_tags:{en:"Web data tags",ja:"ウェブデータタグ",zh:"网页数据标签",es:"Etiquetas de datos web"},any_user_new_all_descs_with_tags:{en:"My data",ja:"自分のデータ",zh:"我的数据",es:"Mis datos"},all_descs:{en:"All",ja:"すべて",zh:"所有",es:"Todos"},filtered_all_descs:{ja:"絞り込み",en:"Filtered",zh:"过滤",es:"Filtrado"},web_data_edit:{en:"Web data edit",ja:"ウェブデータ編集",zh:"网页数据编辑",es:"Edición de datos web"},title:{en:"Title",ja:"タイトル",zh:"标题",es:"Título"},description:{en:"Description",ja:"説明",zh:"描述",es:"Descripción"},tag:{en:"Tag",ja:"タグ",zh:"标签",es:"Etiqueta"},set_desc_data:{en:"Set",ja:"セット",zh:"设置",es:"Establecer"},delete_desc:{en:"Delete",ja:"削除",zh:"删除",es:"Eliminar"},confirm_delete_desc:{ja:"削除しますか？",en:"Delete?",zh:"删除？",es:"¿Eliminar?"},add_tag_to_desc:{en:"Add tag to description",ja:"説明にタグを追加",zh:"添加标签到描述",es:"Agregar etiqueta a la descripción"},update_desc:{en:"Update description",ja:"説明を更新",zh:"更新描述",es:"Actualizar descripción"},insert_desc:{en:"Insert description",ja:"説明を挿入",zh:"插入描述",es:"Insertar descripción"},clear_filtered_all_descs:{ja:"フィルターをクリア",en:"Clear filter",zh:"清除过滤器",es:"Borrar filtro"},errors:{en:"Errors",ja:"エラー",zh:"错误",es:"Errores"},is_auth_uid_valid:{en:"Invalid auth_uid",ja:"無効なauth_uid",zh:"无效的auth_uid",es:"auth_uid no válido"},is_title_valid:{ja:"タイトルは1文字以上100文字以下",en:"Title must be between 1 and 100 characters",zh:"标题必须在1到100个字符之间",es:"El título debe tener entre 1 y 100 caracteres"},is_description_valid:{ja:"説明は1文字以上1000文字以下",en:"Description must be between 1 and 1000 characters",zh:"描述必须在1到1000个字符之间",es:"La descripción debe tener entre 1 y 1000 caracteres"},are_tags_valid:{ja:"タグは1文字以上10文字以下",en:"Tags must be between 1 and 10 characters",zh:"标签必须在1到10个字符之间",es:"Las etiquetas deben tener entre 1 y 10 caracteres"},confirm_clear_title_description_tags:{ja:"タイトル、説明、タグをクリアしますか？",en:"Clear title, description, and tags?",zh:"清除标题、描述和标签吗？",es:"¿Borrar título, descripción y etiquetas?"},clear_title_description_tags:{ja:"タイトル、説明、タグをクリア",en:"Clear title, description, and tags",zh:"清除标题、描述和标签",es:"Borrar título, descripción y etiquetas"},sort:{ja:"並べ替え",en:"Sort",zh:"分类",es:"Clasificar"},left:{ja:"-",en:"-",zh:"-",es:"-"},right:{ja:"+",en:"+",zh:"+",es:"+"},select_language:{ja:"言語を選択",en:"Select language",zh:"选择语言",es:"Seleccionar idioma"},tab:{ja:"タブ",en:"Tab",zh:"标签",es:"Pestaña"}},p=["id","title","description","tags","created_at","updated_at"];let m={kind:"id",order:"desc"};function v(){try{if(null===m.kind||null===m.order)return;if(void 0===E.all_descs)return;if(void 0===E.any_user_new_all_descs_with_tags)return;const t=(t,e)=>{switch(m.kind){case"id":return"asc"===m.order?t.id-e.id:e.id-t.id;case"title":return"asc"===m.order?t.title.localeCompare(e.title):e.title.localeCompare(t.title);case"description":return"asc"===m.order?t.description.localeCompare(e.description):e.description.localeCompare(t.description);case"tags":return"asc"===m.order?t.tags.length-e.tags.length:e.tags.length-t.tags.length;case"created_at":return"asc"===m.order?t.created_at.localeCompare(e.created_at):e.created_at.localeCompare(t.created_at);case"updated_at":return"asc"===m.order?t.updated_at.localeCompare(e.updated_at):e.updated_at.localeCompare(t.updated_at);default:return 0}},e=E.all_descs.sort(t),l=E.any_user_new_all_descs_with_tags.sort(t);n(16,E={...E,all_descs:e,any_user_new_all_descs_with_tags:l})}catch(t){console.error("Error:",t)}}let b=null,y="",w="",$=[],T="Not logged in",E={all_descs:[],all_tags:[],any_user_new_all_descs_with_tags:[],filtered_all_descs:[]},z={},x="",C=!1;function N({with_confirm:t=!0}={}){t?confirm(h.confirm_clear_title_description_tags[f])&&(n(12,y=""),n(13,w=""),n(3,o=[]),n(11,b=null)):(n(12,y=""),n(13,w=""),n(3,o=[]),n(11,b=null))}function O(t,e){try{if(console.log("add_tag_to_desc",t,e),n(14,$=$.filter((t=>!t.includes(h.are_tags_valid[f])))),!P.validate_tag_name(e))return void $.push(h.are_tags_valid[f]);const l=i.find((t=>t.name===e));if(l){l.desc_id=t;o.some((t=>t.id===l.id))||n(3,o=[...o,l]),n(1,a="")}else{const l={id:i.length+1,name:e,desc_id:t,created_at:(new Date).toISOString(),updated_at:(new Date).toISOString()};n(2,i=[...i,l]),n(3,o=[...o,l])}}catch(t){console.error("Error:",t)}}function S(t){try{const e=E.all_descs.find((e=>e.id===t));e?(n(11,b=e.id),n(12,y=e.title),n(13,w=e.description),n(3,o=e.tags)):console.error(`No description found with id: ${t}`),n(0,g="right")}catch(t){console.error("Error:",t)}}function I(t){c.some((e=>e===t))||n(4,c=[...c,t]);const e=E.all_descs.filter((t=>t.tags.some((t=>c.some((e=>e===t.id))))));n(16,E.filtered_all_descs=e,E),n(6,r="filtered_all_descs")}function A(t){n(4,c=c.filter((e=>e!==t))),n(16,E.filtered_all_descs=E.filtered_all_descs.filter((t=>t.tags.some((t=>c.some((e=>e===t.id)))))),E)}const P={validate_auth_uid:t=>/^[a-zA-Z0-9_-]+$/.test(t),validate_desc_id:t=>(console.log("validate_desc_id",t),Number.isInteger(t)&&t>0),validate_iso_date:t=>/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$/.test(t),validate_title:t=>(console.log("validate_title",t),"string"==typeof t&&t.length>=1&&t.length<=100),validate_description:t=>(console.log("validate_description",t),"string"==typeof t&&t.length>=1&&t.length<=1e3),validate_tag_name:t=>(console.log(1),console.log("validate_tag_name",t),console.log(2),"string"==typeof t&&t.length>=1&&t.length<=10),validate_data(t){const{auth_uid:e,desc_id:n,title:l,description:a,tags:i}=t,o=this.validate_auth_uid(e),c=this.validate_title(l),s=this.validate_description(a);console.log("tags",i);return{is_auth_uid_valid:o,is_title_valid:c,is_description_valid:s,are_tags_valid:i.every((t=>this.validate_tag_name(t.name)))}}};function q(){const t={auth_uid:x,desc_id:b,title:y,description:w,tags:o};n(14,$=[]);for(const[e,n]of Object.entries(P.validate_data(t)))if(n||$.push(h[e][f]),"tags"===e)for(const[t,e]of n.entries())for(const[n,l]of Object.entries(P.validate_data(e)))l||$.push(`tags[${t}].${n}`);else"auth_uid"===e&&P.validate_auth_uid(x),"desc_id"===e&&P.validate_desc_id(b),"title"===e&&P.validate_title(y),"description"===e&&P.validate_description(w);return!($.length>0)||(console.log($),!1)}async function L(){try{if(!q())throw new Error("Validation failed");const t=await fetch(Pt+"/insert_desc",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({auth_uid:x,title:y,description:w,tags:o})});await D(t),n(0,g="left"),n(6,r="all_descs"),N({with_confirm:!1})}catch(t){console.error("Error:",t)}}async function D(t){try{const e=await t.json();e.filtered_all_descs=E.filtered_all_descs?E.filtered_all_descs:[],z=Object.fromEntries(Object.entries(e).filter((([t,e])=>"all_descs"!==t&&"all_tags"!==t&&"any_user_new_all_descs_with_tags"!==t))),n(16,E=Object.fromEntries(Object.entries(e).filter((([t,e])=>"all_descs"===t||"all_tags"===t||"any_user_new_all_descs_with_tags"===t||"filtered_all_descs"===t)))),n(2,i=e.all_tags),v()}catch(t){console.error("Error:",t)}}async function B(){try{const t=await fetch(Pt+"/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({auth_uid:x})});await D(t)}catch(t){console.error("Error:",t)}}async function W(t){try{if(!confirm(h.confirm_delete_desc[f]))return;const e=await fetch(Pt+"/delete_desc",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t,auth_uid:x})});await D(e)}catch(t){console.error("Error:",t)}}firebase.initializeApp({apiKey:"AIzaSyBcOlIDP2KWbJuKM0WeMHNp-WvjTVfLt9Y",authDomain:"p2auth-ea50a.firebaseapp.com",projectId:"p2auth-ea50a",storageBucket:"p2auth-ea50a.appspot.com",messagingSenderId:"796225429484",appId:"1:796225429484:web:ece56ef2fc0be28cd6eac9"});const J=new firebase.auth.GoogleAuthProvider;const M=[{auth_uid:"user1",desc_id:1,created_at:"2024-09-01T00:00:00",updated_at:"2024-09-01T00:00:00",title:"foo1",description:"bar1",tags:[{desc_id:1,id:1,name:"tag1",created_at:"2024-09-01T00:00:00",updated_at:"2024-09-01T00:00:00"},{desc_id:1,id:2,name:"tag2",created_at:"2024-09-01T00:00:00",updated_at:"2024-09-01T00:00:00"},{desc_id:1,id:3,name:"tag3",created_at:"2024-09-01T00:00:00",updated_at:"2024-09-01T00:00:00"}]},{auth_uid:"user1",desc_id:2,created_at:"2024-09-01T00:00:00",updated_at:"2024-09-01T00:00:00",title:"foo2",description:"bar2",tags:[{desc_id:2,id:1,name:"tag1",created_at:"2024-09-01T00:00:00",updated_at:"2024-09-01T00:00:00"},{desc_id:2,id:2,name:"tag2",created_at:"2024-09-01T00:00:00",updated_at:"2024-09-01T00:00:00"}]},{auth_uid:"user2",desc_id:3,created_at:"2024-09-01T00:00:00",updated_at:"2024-09-01T00:00:00",title:"foo3",description:"bar3",tags:[{desc_id:3,id:2,name:"tag2",created_at:"2024-09-01T00:00:00",updated_at:"2024-09-01T00:00:00"},{desc_id:3,id:3,name:"tag3",created_at:"2024-09-01T00:00:00",updated_at:"2024-09-01T00:00:00"}]}],V=[{auth_uid:"user1",desc_id:4,created_at:"2024-09-01T00:00:00",updated_at:"2024-09-01T00:00:00",title:"a".repeat(100),description:"b".repeat(1e3),tags:[{desc_id:4,id:4,name:"tag4",created_at:"2024-09-01T00:00:00",updated_at:"2024-09-01T00:00:00"}]},{auth_uid:"user1",desc_id:5,created_at:"2024-09-01T00:00:00",updated_at:"2024-09-01T00:00:00",title:"",description:"",tags:[{desc_id:5,id:5,name:"t".repeat(10),created_at:"2024-09-01T00:00:00",updated_at:"2024-09-01T00:00:00"}]}];j((async()=>{await async function(){try{const t=await new Promise(((t,e)=>{firebase.auth().onAuthStateChanged(t,e)}));console.log("Current user:",t),t?(n(17,x=t.uid),n(15,T="Logged in")):(console.log(2),n(15,T="Not logged in"),n(17,x=""))}catch(t){console.error("Error during authentication:",t),n(15,T="Authentication failed"),n(17,x="")}}(),console.log("auth_check_login"),await B(),console.log("fetch_get_all_descs_and_tags"),function(){if(location.hash){const t=location.hash.slice(1),e=document.getElementById(t);e&&e.scrollIntoView({behavior:"smooth"})}}()}));return t.$$.update=()=>{1&t.$$.dirty[0]&&(async()=>{"left"===g?(document.documentElement.style.setProperty("--display-left-column","block"),document.documentElement.style.setProperty("--display-right-column","none")):"right"===g&&(document.documentElement.style.setProperty("--display-left-column","none"),document.documentElement.style.setProperty("--display-right-column","block"))})()},[g,a,i,o,c,s,r,u,_,f,m,b,y,w,$,T,E,x,C,d,function(){n(7,u=!u)},function(){n(8,_=!_)},h,p,v,N,function(){n(18,C=!C)},O,S,I,async function(){n(16,E.filtered_all_descs=[],E),n(4,c=[])},A,async function(){try{for(const t of M)n(17,x=t.auth_uid),n(11,b=t.desc_id),n(12,y=t.title),n(13,w=t.description),n(3,o=t.tags),await L()}catch(t){console.error("Error:",t)}},L,B,async function(){try{if(!q())throw new Error("Validation failed");const t=await fetch(Pt+"/update_desc",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({auth_uid:x,desc_id:b,title:y,description:w,tags:o})});await D(t),n(0,g="left"),n(6,r="all_descs"),N({with_confirm:!1})}catch(t){console.error("Error:",t)}},W,async function(){try{console.log("auth_google_login");const t=(await firebase.auth().signInWithPopup(J)).user;console.log(4),n(15,T=`Logged in as: ${t.displayName}`)}catch(t){console.error("Error during Google login:",t),alert("Google login failed. "+t.message)}},async function(){try{console.log(5),await firebase.auth().signOut(),n(15,T="Not logged in")}catch(t){console.error("Error during sign-out:",t),alert("Sign out failed. "+t.message)}},function(){n(12,y=V[1].title),n(13,w=V[1].description),n(3,o=V[1].tags),L()},function(){f=this.__value,n(9,f)},[[]],function(){f=this.__value,n(9,f)},function(){f=this.__value,n(9,f)},function(){f=this.__value,n(9,f)},function(){m.kind=k(this),n(10,m),n(23,p)},function(){m.order=k(this),n(10,m),n(23,p)},()=>n(0,g="right"),t=>d(t),t=>I(t.id),t=>A(t.id),t=>I(t.id),t=>{return e=t.id,navigator.clipboard.writeText(`${window.location.href.split("#")[0]}#${e}`),void alert("Link copied to clipboard");var e},t=>S(t.id),t=>W(t.id),t=>I(t.id),()=>n(0,g="left"),()=>N({with_confirm:!0}),function(){y=this.value,n(12,y)},function(){w=this.value,n(13,w)},t=>n(3,o=o.filter((e=>e.id!==t.id))),function(){a=this.value,n(1,a)},()=>O(b,a)]}return new class extends W{constructor(t){super(),B(this,t,qt,At,i,{},null,[-1,-1,-1,-1])}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
