var app=function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function l(e){e.forEach(t)}function a(e){return"function"==typeof e}function i(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function r(e){return null==e?"":e}function o(e,t){e.appendChild(t)}function c(e,t,n){e.insertBefore(t,n||null)}function s(e){e.parentNode&&e.parentNode.removeChild(e)}function d(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function u(e){return document.createElement(e)}function _(e){return document.createTextNode(e)}function f(){return _(" ")}function h(){return _("")}function g(e,t,n,l){return e.addEventListener(t,n,l),()=>e.removeEventListener(t,n,l)}function p(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function m(e){let t;return{p(...n){t=n,t.forEach((t=>e.push(t)))},r(){t.forEach((t=>e.splice(e.indexOf(t),1)))}}}function v(e,t){t=""+t,e.data!==t&&(e.data=t)}function y(e,t){e.value=null==t?"":t}function b(e,t,n){for(let n=0;n<e.options.length;n+=1){const l=e.options[n];if(l.__value===t)return void(l.selected=!0)}n&&void 0===t||(e.selectedIndex=-1)}function w(e){const t=e.querySelector(":checked");return t&&t.__value}let k;function $(e){k=e}function j(e){(function(){if(!k)throw new Error("Function called outside component initialization");return k})().$$.on_mount.push(e)}const T=[],E=[];let x=[];const z=[],C=Promise.resolve();let N=!1;function O(e){x.push(e)}const S=new Set;let A=0;function I(){if(0!==A)return;const e=k;do{try{for(;A<T.length;){const e=T[A];A++,$(e),q(e.$$)}}catch(e){throw T.length=0,A=0,e}for($(null),T.length=0,A=0;E.length;)E.pop()();for(let e=0;e<x.length;e+=1){const t=x[e];S.has(t)||(S.add(t),t())}x.length=0}while(T.length);for(;z.length;)z.pop()();N=!1,S.clear(),$(e)}function q(e){if(null!==e.fragment){e.update(),l(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(O)}}const P=new Set;function L(e,t){const n=e.$$;null!==n.fragment&&(!function(e){const t=[],n=[];x.forEach((l=>-1===e.indexOf(l)?t.push(l):n.push(l))),n.forEach((e=>e())),x=t}(n.after_update),l(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function D(e,t){-1===e.$$.dirty[0]&&(T.push(e),N||(N=!0,C.then(I)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function B(i,r,o,c,d,u,_,f=[-1]){const h=k;$(i);const g=i.$$={fragment:null,ctx:[],props:u,update:e,not_equal:d,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(r.context||(h?h.$$.context:[])),callbacks:n(),dirty:f,skip_bound:!1,root:r.target||h.$$.root};_&&_(g.root);let p=!1;if(g.ctx=o?o(i,r.props||{},((e,t,...n)=>{const l=n.length?n[0]:t;return g.ctx&&d(g.ctx[e],g.ctx[e]=l)&&(!g.skip_bound&&g.bound[e]&&g.bound[e](l),p&&D(i,e)),t})):[],g.update(),p=!0,l(g.before_update),g.fragment=!!c&&c(g.ctx),r.target){if(r.hydrate){const e=function(e){return Array.from(e.childNodes)}(r.target);g.fragment&&g.fragment.l(e),e.forEach(s)}else g.fragment&&g.fragment.c();r.intro&&((m=i.$$.fragment)&&m.i&&(P.delete(m),m.i(v))),function(e,n,i,r){const{fragment:o,after_update:c}=e.$$;o&&o.m(n,i),r||O((()=>{const n=e.$$.on_mount.map(t).filter(a);e.$$.on_destroy?e.$$.on_destroy.push(...n):l(n),e.$$.on_mount=[]})),c.forEach(O)}(i,r.target,r.anchor,r.customElement),I()}var m,v;$(h)}class V{$destroy(){L(this,1),this.$destroy=e}$on(t,n){if(!a(n))return e;const l=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return l.push(n),()=>{const e=l.indexOf(n);-1!==e&&l.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function W(e,t,n){const l=e.slice();return l[67]=t[n],l}function J(e,t,n){const l=e.slice();return l[70]=t[n],l}function G(e,t,n){const l=e.slice();return l[70]=t[n],l}function K(e,t,n){const l=e.slice();return l[70]=t[n],l}function M(e,t,n){const l=e.slice();return l[77]=t[n][0],l[78]=t[n][1],l}function F(e,t,n){const l=e.slice();return l[81]=t[n],l}function H(e,t,n){const l=e.slice();return l[70]=t[n],l}function U(e,t,n){const l=e.slice();return l[86]=t[n],l}function Y(e,t,n){const l=e.slice();return l[70]=t[n],l}function Z(e,t,n){const l=e.slice();return l[67]=t[n],l}function Q(e,t,n){const l=e.slice();return l[93]=t[n],l}function R(e,t,n){const l=e.slice();return l[96]=t[n],l}function X(t){let n,l,a=t[96]+"";return{c(){n=u("option"),l=_(a),n.__value=t[96],n.value=n.__value},m(e,t){c(e,n,t),o(n,l)},p:e,d(e){e&&s(n)}}}function ee(t){let n,l;return{c(){n=u("option"),l=_(t[93]),n.__value=t[93],n.value=n.__value},m(e,t){c(e,n,t),o(n,l)},p:e,d(e){e&&s(n)}}}function te(t){let n,l,a,i,r;return{c(){n=u("div"),l=_("auth_google_login: "),a=u("button"),a.textContent="auth_google_login"},m(e,s){c(e,n,s),o(n,l),o(n,a),i||(r=g(a,"click",t[30]),i=!0)},p:e,d(e){e&&s(n),i=!1,r()}}}function ne(e){let t,n,l,a,i,r=e[15].auth_sign_out[e[1]]+"";return{c(){t=u("div"),n=u("button"),l=_(r)},m(r,s){c(r,t,s),o(t,n),o(n,l),a||(i=g(n,"click",e[31]),a=!0)},p(e,t){2&t[0]&&r!==(r=e[15].auth_sign_out[e[1]]+"")&&v(l,r)},d(e){e&&s(t),a=!1,i()}}}function le(e){let t,n,l,a=e[10],i=[];for(let t=0;t<a.length;t+=1)i[t]=ae(Z(e,a,t));return{c(){t=u("p"),t.textContent="Errors:",n=f();for(let e=0;e<i.length;e+=1)i[e].c();l=h()},m(e,a){c(e,t,a),c(e,n,a);for(let t=0;t<i.length;t+=1)i[t]&&i[t].m(e,a);c(e,l,a)},p(e,t){if(1024&t[0]){let n;for(a=e[10],n=0;n<a.length;n+=1){const r=Z(e,a,n);i[n]?i[n].p(r,t):(i[n]=ae(r),i[n].c(),i[n].m(l.parentNode,l))}for(;n<i.length;n+=1)i[n].d(1);i.length=a.length}},d(e){e&&s(t),e&&s(n),d(i,e),e&&s(l)}}}function ae(e){let t,n,l=e[67]+"";return{c(){t=u("div"),n=_(l)},m(e,l){c(e,t,l),o(t,n)},p(e,t){1024&t[0]&&l!==(l=e[67]+"")&&v(n,l)},d(e){e&&s(t)}}}function ie(e){let t,n,l,a,i,h,g=e[15][e[77]][e[1]]+"",m="filtered_all_descs"===e[77]&&re(e),y=e[78],b=[];for(let t=0;t<y.length;t+=1)b[t]=fe(F(e,y,t));return{c(){t=u("div"),n=u("h1"),l=_(g),a=f(),m&&m.c(),i=f();for(let e=0;e<b.length;e+=1)b[e].c();p(n,"class","svelte-13u88k0"),p(t,"class",h=r(e[77])+" svelte-13u88k0")},m(e,r){c(e,t,r),o(t,n),o(n,l),o(t,a),m&&m.m(t,null),o(t,i);for(let e=0;e<b.length;e+=1)b[e]&&b[e].m(t,null)},p(e,n){if(4098&n[0]&&g!==(g=e[15][e[77]][e[1]]+"")&&v(l,g),"filtered_all_descs"===e[77]?m?m.p(e,n):(m=re(e),m.c(),m.m(t,i)):m&&(m.d(1),m=null),543748098&n[0]){let l;for(y=e[78],l=0;l<y.length;l+=1){const a=F(e,y,l);b[l]?b[l].p(a,n):(b[l]=fe(a),b[l].c(),b[l].m(t,null))}for(;l<b.length;l+=1)b[l].d(1);b.length=y.length}4096&n[0]&&h!==(h=r(e[77])+" svelte-13u88k0")&&p(t,"class",h)},d(e){e&&s(t),m&&m.d(),d(b,e)}}}function re(e){let t,n,l,a,i,r,p=e[15].clear_filtered_all_descs[e[1]]+"",m=e[9],y=[];for(let t=0;t<m.length;t+=1)y[t]=se(U(e,m,t));return{c(){t=u("button"),n=_(p),l=f();for(let e=0;e<y.length;e+=1)y[e].c();a=h()},m(s,d){c(s,t,d),o(t,n),c(s,l,d);for(let e=0;e<y.length;e+=1)y[e]&&y[e].m(s,d);c(s,a,d),i||(r=g(t,"click",e[23]),i=!0)},p(e,t){if(2&t[0]&&p!==(p=e[15].clear_filtered_all_descs[e[1]]+"")&&v(n,p),16777744&t[0]){let n;for(m=e[9],n=0;n<m.length;n+=1){const l=U(e,m,n);y[n]?y[n].p(l,t):(y[n]=se(l),y[n].c(),y[n].m(a.parentNode,a))}for(;n<y.length;n+=1)y[n].d(1);y.length=m.length}},d(e){e&&s(t),e&&s(l),d(y,e),e&&s(a),i=!1,r()}}}function oe(e){let t,n,l,a,i=e[70].name+"";function r(){return e[43](e[70])}return{c(){t=u("button"),n=_(i)},m(e,i){c(e,t,i),o(t,n),l||(a=g(t,"click",r),l=!0)},p(t,l){e=t,16&l[0]&&i!==(i=e[70].name+"")&&v(n,i)},d(e){e&&s(t),l=!1,a()}}}function ce(e){let t,n=e[70].id===e[86]&&oe(e);return{c(){n&&n.c(),t=h()},m(e,l){n&&n.m(e,l),c(e,t,l)},p(e,l){e[70].id===e[86]?n?n.p(e,l):(n=oe(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(e){n&&n.d(e),e&&s(t)}}}function se(e){let t,n=e[4],l=[];for(let t=0;t<n.length;t+=1)l[t]=ce(Y(e,n,t));return{c(){for(let e=0;e<l.length;e+=1)l[e].c();t=h()},m(e,n){for(let t=0;t<l.length;t+=1)l[t]&&l[t].m(e,n);c(e,t,n)},p(e,a){if(16777744&a[0]){let i;for(n=e[4],i=0;i<n.length;i+=1){const r=Y(e,n,i);l[i]?l[i].p(r,a):(l[i]=ce(r),l[i].c(),l[i].m(t.parentNode,t))}for(;i<l.length;i+=1)l[i].d(1);l.length=n.length}},d(e){d(l,e),e&&s(t)}}}function de(e){let t,n,a,i,r,d,h,p=e[15].set_desc_data[e[1]]+"",m=e[15].delete_desc[e[1]]+"";function y(){return e[45](e[81])}function b(){return e[46](e[81])}return{c(){t=u("button"),n=_(p),a=f(),i=u("button"),r=_(m)},m(e,l){c(e,t,l),o(t,n),c(e,a,l),c(e,i,l),o(i,r),d||(h=[g(t,"click",y),g(i,"click",b)],d=!0)},p(t,l){e=t,2&l[0]&&p!==(p=e[15].set_desc_data[e[1]]+"")&&v(n,p),2&l[0]&&m!==(m=e[15].delete_desc[e[1]]+"")&&v(r,m)},d(e){e&&s(t),e&&s(a),e&&s(i),d=!1,l(h)}}}function ue(e){let t,n=e[81].tags,l=[];for(let t=0;t<n.length;t+=1)l[t]=_e(H(e,n,t));return{c(){for(let e=0;e<l.length;e+=1)l[e].c();t=h()},m(e,n){for(let t=0;t<l.length;t+=1)l[t]&&l[t].m(e,n);c(e,t,n)},p(e,a){if(4198400&a[0]){let i;for(n=e[81].tags,i=0;i<n.length;i+=1){const r=H(e,n,i);l[i]?l[i].p(r,a):(l[i]=_e(r),l[i].c(),l[i].m(t.parentNode,t))}for(;i<l.length;i+=1)l[i].d(1);l.length=n.length}},d(e){d(l,e),e&&s(t)}}}function _e(e){let t,n,l,a,i=e[70].name+"";function r(){return e[47](e[70])}return{c(){t=u("button"),n=_(i)},m(e,i){c(e,t,i),o(t,n),l||(a=g(t,"click",r),l=!0)},p(t,l){e=t,4096&l[0]&&i!==(i=e[70].name+"")&&v(n,i)},d(e){e&&s(t),l=!1,a()}}}function fe(e){let t,n,a,i,r,d,h,m,y,b,w,k,$,j,T,E,x,z=e[81].id+"",C=e[81].title+"",N=(e[81].description.length>200&&!e[14]?e[81].description.slice(0,200)+"...â–¼":e[81].description)+"";function O(){return e[44](e[81])}let S="any_user_new_all_descs_with_tags"===e[77]&&e[13]&&de(e),A=e[81].tags&&ue(e);return{c(){t=u("div"),n=u("p"),a=u("button"),i=_("id: "),r=_(z),d=f(),S&&S.c(),m=f(),y=u("p"),b=_(C),w=f(),k=u("p"),$=u("button"),j=_(N),T=f(),A&&A.c(),p(a,"class","button_reset svelte-13u88k0"),p(n,"id",h=e[81].id),p(y,"class","break_word_title svelte-13u88k0"),p($,"class","button_reset break_word svelte-13u88k0"),p(k,"class","break_word svelte-13u88k0")},m(l,s){c(l,t,s),o(t,n),o(n,a),o(a,i),o(a,r),o(n,d),S&&S.m(n,null),o(t,m),o(t,y),o(y,b),o(t,w),o(t,k),o(k,$),o($,j),o(t,T),A&&A.m(t,null),E||(x=[g(a,"click",O),g($,"click",e[19])],E=!0)},p(l,a){e=l,4096&a[0]&&z!==(z=e[81].id+"")&&v(r,z),"any_user_new_all_descs_with_tags"===e[77]&&e[13]?S?S.p(e,a):(S=de(e),S.c(),S.m(n,null)):S&&(S.d(1),S=null),4096&a[0]&&h!==(h=e[81].id)&&p(n,"id",h),4096&a[0]&&C!==(C=e[81].title+"")&&v(b,C),20480&a[0]&&N!==(N=(e[81].description.length>200&&!e[14]?e[81].description.slice(0,200)+"...â–¼":e[81].description)+"")&&v(j,N),e[81].tags?A?A.p(e,a):(A=ue(e),A.c(),A.m(t,null)):A&&(A.d(1),A=null)},d(e){e&&s(t),S&&S.d(),A&&A.d(),E=!1,l(x)}}}function he(e){let t,n="all_tags"!==e[77]&&ie(e);return{c(){n&&n.c(),t=h()},m(e,l){n&&n.m(e,l),c(e,t,l)},p(e,l){"all_tags"!==e[77]?n?n.p(e,l):(n=ie(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(e){n&&n.d(e),e&&s(t)}}}function ge(e){let t,n=e[12].all_tags,l=[];for(let t=0;t<n.length;t+=1)l[t]=pe(K(e,n,t));return{c(){for(let e=0;e<l.length;e+=1)l[e].c();t=h()},m(e,n){for(let t=0;t<l.length;t+=1)l[t]&&l[t].m(e,n);c(e,t,n)},p(e,a){if(4198400&a[0]){let i;for(n=e[12].all_tags,i=0;i<n.length;i+=1){const r=K(e,n,i);l[i]?l[i].p(r,a):(l[i]=pe(r),l[i].c(),l[i].m(t.parentNode,t))}for(;i<l.length;i+=1)l[i].d(1);l.length=n.length}},d(e){d(l,e),e&&s(t)}}}function pe(e){let t,n,l,a,i=e[70].name+"";function r(){return e[48](e[70])}return{c(){t=u("button"),n=_(i)},m(e,i){c(e,t,i),o(t,n),l||(a=g(t,"click",r),l=!0)},p(t,l){e=t,4096&l[0]&&i!==(i=e[70].name+"")&&v(n,i)},d(e){e&&s(t),l=!1,a()}}}function me(e){let t,n,a,i,r,m,b,w,k,$,j,T,E,x,z,C,N,O,S,A,I,q,P,L,D,B,V,W,K,M,F,H,U=e[15].clear_title_description_tags[e[1]]+"",Y=e[15].tag[e[1]]+"",Z=e[15].add_tag_to_desc[e[1]]+"",Q=e[8],R=[];for(let t=0;t<Q.length;t+=1)R[t]=ve(G(e,Q,t));let X=e[4],ee=[];for(let t=0;t<X.length;t+=1)ee[t]=ye(J(e,X,t));let te=e[10].length>0&&be(e),ne=null===e[5]&&ke(e),le=null!==e[5]&&$e(e);return{c(){t=u("p"),n=_("id: "),a=_(e[5]),i=f(),r=u("button"),m=_(U),b=f(),w=u("div"),w.textContent="title:",k=f(),$=u("textarea"),j=f(),T=u("div"),T.textContent="description:",E=f(),x=u("textarea"),z=f(),C=u("div");for(let e=0;e<R.length;e+=1)R[e].c();N=f(),O=u("label"),S=_(Y),A=f(),I=u("input"),q=f(),P=u("datalist");for(let e=0;e<ee.length;e+=1)ee[e].c();L=f(),D=u("button"),B=_(Z),V=f(),te&&te.c(),W=f(),ne&&ne.c(),K=f(),le&&le.c(),M=h(),p($,"class","title svelte-13u88k0"),p($,"minlength","1"),p($,"maxlength","100"),$.required=!0,p($,"placeholder","1_100"),p(x,"class","description svelte-13u88k0"),p(x,"minlength","1"),p(x,"maxlength","1000"),x.required=!0,p(x,"placeholder","1_1000"),p(O,"for","my_all_tags"),p(I,"list","all_tags"),p(I,"id","my_all_tags"),p(I,"name","my_all_tags"),p(I,"minlength","1"),p(I,"maxlength","10"),I.required=!0,p(I,"placeholder","1_10"),p(P,"id","all_tags")},m(l,s){c(l,t,s),o(t,n),o(t,a),c(l,i,s),c(l,r,s),o(r,m),c(l,b,s),c(l,w,s),c(l,k,s),c(l,$,s),y($,e[6]),c(l,j,s),c(l,T,s),c(l,E,s),c(l,x,s),y(x,e[7]),c(l,z,s),c(l,C,s);for(let e=0;e<R.length;e+=1)R[e]&&R[e].m(C,null);c(l,N,s),c(l,O,s),o(O,S),c(l,A,s),c(l,I,s),y(I,e[3]),c(l,q,s),c(l,P,s);for(let e=0;e<ee.length;e+=1)ee[e]&&ee[e].m(P,null);c(l,L,s),c(l,D,s),o(D,B),c(l,V,s),te&&te.m(l,s),c(l,W,s),ne&&ne.m(l,s),c(l,K,s),le&&le.m(l,s),c(l,M,s),F||(H=[g(r,"click",e[18]),g($,"input",e[50]),g(x,"input",e[51]),g(I,"input",e[53]),g(D,"click",e[54])],F=!0)},p(e,t){if(32&t[0]&&v(a,e[5]),2&t[0]&&U!==(U=e[15].clear_title_description_tags[e[1]]+"")&&v(m,U),64&t[0]&&y($,e[6]),128&t[0]&&y(x,e[7]),256&t[0]){let n;for(Q=e[8],n=0;n<Q.length;n+=1){const l=G(e,Q,n);R[n]?R[n].p(l,t):(R[n]=ve(l),R[n].c(),R[n].m(C,null))}for(;n<R.length;n+=1)R[n].d(1);R.length=Q.length}if(2&t[0]&&Y!==(Y=e[15].tag[e[1]]+"")&&v(S,Y),8&t[0]&&I.value!==e[3]&&y(I,e[3]),16&t[0]){let n;for(X=e[4],n=0;n<X.length;n+=1){const l=J(e,X,n);ee[n]?ee[n].p(l,t):(ee[n]=ye(l),ee[n].c(),ee[n].m(P,null))}for(;n<ee.length;n+=1)ee[n].d(1);ee.length=X.length}2&t[0]&&Z!==(Z=e[15].add_tag_to_desc[e[1]]+"")&&v(B,Z),e[10].length>0?te?te.p(e,t):(te=be(e),te.c(),te.m(W.parentNode,W)):te&&(te.d(1),te=null),null===e[5]?ne?ne.p(e,t):(ne=ke(e),ne.c(),ne.m(K.parentNode,K)):ne&&(ne.d(1),ne=null),null!==e[5]?le?le.p(e,t):(le=$e(e),le.c(),le.m(M.parentNode,M)):le&&(le.d(1),le=null)},d(e){e&&s(t),e&&s(i),e&&s(r),e&&s(b),e&&s(w),e&&s(k),e&&s($),e&&s(j),e&&s(T),e&&s(E),e&&s(x),e&&s(z),e&&s(C),d(R,e),e&&s(N),e&&s(O),e&&s(A),e&&s(I),e&&s(q),e&&s(P),d(ee,e),e&&s(L),e&&s(D),e&&s(V),te&&te.d(e),e&&s(W),ne&&ne.d(e),e&&s(K),le&&le.d(e),e&&s(M),F=!1,l(H)}}}function ve(e){let t,n,l,a,i=e[70].name+"";function r(){return e[52](e[70])}return{c(){t=u("button"),n=_(i)},m(e,i){c(e,t,i),o(t,n),l||(a=g(t,"click",r),l=!0)},p(t,l){e=t,256&l[0]&&i!==(i=e[70].name+"")&&v(n,i)},d(e){e&&s(t),l=!1,a()}}}function ye(e){let t,n;return{c(){t=u("option"),t.__value=n=e[70].name,t.value=t.__value},m(e,n){c(e,t,n)},p(e,l){16&l[0]&&n!==(n=e[70].name)&&(t.__value=n,t.value=t.__value)},d(e){e&&s(t)}}}function be(e){let t,n,l,a,i=e[15].errors[e[1]]+"",r=e[10],g=[];for(let t=0;t<r.length;t+=1)g[t]=we(W(e,r,t));return{c(){t=u("h2"),n=_(i),l=f();for(let e=0;e<g.length;e+=1)g[e].c();a=h()},m(e,i){c(e,t,i),o(t,n),c(e,l,i);for(let t=0;t<g.length;t+=1)g[t]&&g[t].m(e,i);c(e,a,i)},p(e,t){if(2&t[0]&&i!==(i=e[15].errors[e[1]]+"")&&v(n,i),1024&t[0]){let n;for(r=e[10],n=0;n<r.length;n+=1){const l=W(e,r,n);g[n]?g[n].p(l,t):(g[n]=we(l),g[n].c(),g[n].m(a.parentNode,a))}for(;n<g.length;n+=1)g[n].d(1);g.length=r.length}},d(e){e&&s(t),e&&s(l),d(g,e),e&&s(a)}}}function we(e){let t,n,l=e[67]+"";return{c(){t=u("p"),n=_(l)},m(e,l){c(e,t,l),o(t,n)},p(e,t){1024&t[0]&&l!==(l=e[67]+"")&&v(n,l)},d(e){e&&s(t)}}}function ke(e){let t,n,l,a,i=e[15].insert_desc[e[1]]+"";return{c(){t=u("button"),n=_(i),p(t,"class","fetch_insert_desc_button svelte-13u88k0")},m(i,r){c(i,t,r),o(t,n),l||(a=g(t,"click",e[26]),l=!0)},p(e,t){2&t[0]&&i!==(i=e[15].insert_desc[e[1]]+"")&&v(n,i)},d(e){e&&s(t),l=!1,a()}}}function $e(e){let t,n,l,a,i=e[15].update_desc[e[1]]+"";return{c(){t=u("button"),n=_(i),p(t,"class","fetch_update_desc_button svelte-13u88k0")},m(i,r){c(i,t,r),o(t,n),l||(a=g(t,"click",e[28]),l=!0)},p(e,t){2&t[0]&&i!==(i=e[15].update_desc[e[1]]+"")&&v(n,i)},d(e){e&&s(t),l=!1,a()}}}function je(t){let n,a,i,r,h,y,w,k,$,j,T,E,x,z,C,N,S,A,I,q,P,L,D,B,V,W,J,G,K,F,H,U,Y,Z,ae,ie,re,oe,ce,se,de,ue,_e,fe,pe,ve,ye,be,we,ke,$e,je,Te,Ee,xe,ze,Ce,Ne,Oe,Se,Ae,Ie,qe,Pe,Le,De,Be,Ve,We,Je,Ge,Ke,Me=t[15].sort[t[1]]+"",Fe=t[15].auth_login_result[t[1]]+"",He=t[15].right[t[1]]+"",Ue=t[15].web_data_tags[t[1]]+"",Ye=t[15].web_data_edit[t[1]]+"",Ze=t[15].left[t[1]]+"",Qe=t[16],Re=[];for(let e=0;e<Qe.length;e+=1)Re[e]=X(R(t,Qe,e));let Xe=["desc","asc"],et=[];for(let e=0;e<2;e+=1)et[e]=ee(Q(t,Xe,e));let tt=""===t[13]&&te(t),nt=""!==t[13]&&ne(t),lt=t[10]>0&&le(t),at=Object.entries(t[12]),it=[];for(let e=0;e<at.length;e+=1)it[e]=he(M(t,at,e));let rt=t[12].all_tags&&ge(t),ot=""!==t[13]&&me(t);return We=m(t[34][0]),Je=m(t[34][1]),{c(){n=u("div"),a=u("div"),i=u("div"),r=u("input"),h=f(),y=u("label"),y.textContent="left",w=f(),k=u("input"),$=f(),j=u("label"),j.textContent="right",T=f(),E=u("div"),x=u("input"),z=f(),C=u("label"),C.textContent="ðŸ‡ºðŸ‡¸",N=f(),S=u("input"),A=f(),I=u("label"),I.textContent="ðŸ‡¯ðŸ‡µ",q=f(),P=u("input"),L=f(),D=u("label"),D.textContent="ðŸ‡¨ðŸ‡³ðŸ‡¹ðŸ‡¼",B=f(),V=u("input"),W=f(),J=u("label"),J.textContent="ðŸ‡ªðŸ‡¸",G=f(),K=u("div"),F=u("select");for(let e=0;e<Re.length;e+=1)Re[e].c();H=f(),U=u("select");for(let e=0;e<2;e+=1)et[e].c();Y=f(),Z=u("button"),ae=_(Me),ie=f(),re=u("div"),re.textContent="v1.1.4",oe=f(),ce=u("div"),se=_(Fe),de=_(": "),ue=u("span"),_e=_(t[11]),fe=f(),tt&&tt.c(),pe=f(),nt&&nt.c(),ve=f(),ye=f(),be=u("div"),we=u("div"),ke=u("div"),lt&&lt.c(),$e=f(),je=u("div"),Te=u("button"),Ee=_(He),xe=f();for(let e=0;e<it.length;e+=1)it[e].c();ze=f(),Ce=u("div"),Ne=u("h1"),Oe=_(Ue),Se=f(),rt&&rt.c(),Ae=f(),Ie=u("div"),qe=u("h1"),Pe=_(Ye),Le=f(),De=u("button"),Be=_(Ze),Ve=f(),ot&&ot.c(),p(r,"type","radio"),p(r,"id","left"),p(r,"name","design_only_column"),r.__value="left",r.value=r.__value,p(y,"for","left"),p(k,"type","radio"),p(k,"id","right"),p(k,"name","design_only_column"),k.__value="right",k.value=k.__value,p(j,"for","right"),p(x,"type","radio"),p(x,"id","en"),p(x,"name","design_lang"),x.__value="en",x.value=x.__value,p(C,"for","en"),p(S,"type","radio"),p(S,"id","ja"),p(S,"name","design_lang"),S.__value="ja",S.value=S.__value,p(I,"for","ja"),p(P,"type","radio"),p(P,"id","zh"),p(P,"name","design_lang"),P.__value="zh",P.value=P.__value,p(D,"for","zh"),p(V,"type","radio"),p(V,"id","es"),p(V,"name","design_lang"),V.__value="es",V.value=V.__value,p(J,"for","es"),void 0===t[2].kind&&O((()=>t[40].call(F))),void 0===t[2].order&&O((()=>t[41].call(U))),p(re,"class","version"),p(a,"class","header svelte-13u88k0"),p(ke,"class","console"),p(Ne,"class","svelte-13u88k0"),p(Ce,"class","web_data_tags svelte-13u88k0"),p(je,"class","list svelte-13u88k0"),p(we,"class","left_column server_side svelte-13u88k0"),p(qe,"class","svelte-13u88k0"),p(Ie,"class","right_column svelte-13u88k0"),p(be,"class","content svelte-13u88k0"),p(n,"class","container svelte-13u88k0"),We.p(x,S,P,V),Je.p(r,k)},m(e,l){c(e,n,l),o(n,a),o(a,i),o(i,r),r.checked=r.__value===t[0],o(i,h),o(i,y),o(i,w),o(i,k),k.checked=k.__value===t[0],o(i,$),o(i,j),o(a,T),o(a,E),o(E,x),x.checked=x.__value===t[1],o(E,z),o(E,C),o(E,N),o(E,S),S.checked=S.__value===t[1],o(E,A),o(E,I),o(E,q),o(E,P),P.checked=P.__value===t[1],o(E,L),o(E,D),o(E,B),o(E,V),V.checked=V.__value===t[1],o(E,W),o(E,J),o(a,G),o(a,K),o(K,F);for(let e=0;e<Re.length;e+=1)Re[e]&&Re[e].m(F,null);b(F,t[2].kind,!0),o(K,H),o(K,U);for(let e=0;e<2;e+=1)et[e]&&et[e].m(U,null);b(U,t[2].order,!0),o(K,Y),o(K,Z),o(Z,ae),o(a,ie),o(a,re),o(a,oe),o(a,ce),o(ce,se),o(ce,de),o(ce,ue),o(ue,_e),o(a,fe),tt&&tt.m(a,null),o(a,pe),nt&&nt.m(a,null),o(a,ve),o(n,ye),o(n,be),o(be,we),o(we,ke),lt&&lt.m(ke,null),o(we,$e),o(we,je),o(je,Te),o(Te,Ee),o(je,xe);for(let e=0;e<it.length;e+=1)it[e]&&it[e].m(je,null);o(je,ze),o(je,Ce),o(Ce,Ne),o(Ne,Oe),o(Ce,Se),rt&&rt.m(Ce,null),o(be,Ae),o(be,Ie),o(Ie,qe),o(qe,Pe),o(Ie,Le),o(Ie,De),o(De,Be),o(Ie,Ve),ot&&ot.m(Ie,null),Ge||(Ke=[g(r,"change",t[33]),g(k,"change",t[35]),g(x,"change",t[36]),g(S,"change",t[37]),g(P,"change",t[38]),g(V,"change",t[39]),g(F,"change",t[40]),g(U,"change",t[41]),g(Z,"click",t[17]),g(Te,"click",t[42]),g(De,"click",t[49])],Ge=!0)},p(e,t){if(1&t[0]&&(r.checked=r.__value===e[0]),1&t[0]&&(k.checked=k.__value===e[0]),2&t[0]&&(x.checked=x.__value===e[1]),2&t[0]&&(S.checked=S.__value===e[1]),2&t[0]&&(P.checked=P.__value===e[1]),2&t[0]&&(V.checked=V.__value===e[1]),65536&t[0]){let n;for(Qe=e[16],n=0;n<Qe.length;n+=1){const l=R(e,Qe,n);Re[n]?Re[n].p(l,t):(Re[n]=X(l),Re[n].c(),Re[n].m(F,null))}for(;n<Re.length;n+=1)Re[n].d(1);Re.length=Qe.length}if(65540&t[0]&&b(F,e[2].kind),65540&t[0]&&b(U,e[2].order),2&t[0]&&Me!==(Me=e[15].sort[e[1]]+"")&&v(ae,Me),2&t[0]&&Fe!==(Fe=e[15].auth_login_result[e[1]]+"")&&v(se,Fe),2048&t[0]&&v(_e,e[11]),""===e[13]?tt?tt.p(e,t):(tt=te(e),tt.c(),tt.m(a,pe)):tt&&(tt.d(1),tt=null),""!==e[13]?nt?nt.p(e,t):(nt=ne(e),nt.c(),nt.m(a,ve)):nt&&(nt.d(1),nt=null),e[10]>0?lt?lt.p(e,t):(lt=le(e),lt.c(),lt.m(ke,null)):lt&&(lt.d(1),lt=null),2&t[0]&&He!==(He=e[15].right[e[1]]+"")&&v(Ee,He),568914450&t[0]){let n;for(at=Object.entries(e[12]),n=0;n<at.length;n+=1){const l=M(e,at,n);it[n]?it[n].p(l,t):(it[n]=he(l),it[n].c(),it[n].m(je,ze))}for(;n<it.length;n+=1)it[n].d(1);it.length=at.length}2&t[0]&&Ue!==(Ue=e[15].web_data_tags[e[1]]+"")&&v(Oe,Ue),e[12].all_tags?rt?rt.p(e,t):(rt=ge(e),rt.c(),rt.m(Ce,null)):rt&&(rt.d(1),rt=null),2&t[0]&&Ye!==(Ye=e[15].web_data_edit[e[1]]+"")&&v(Pe,Ye),2&t[0]&&Ze!==(Ze=e[15].left[e[1]]+"")&&v(Be,Ze),""!==e[13]?ot?ot.p(e,t):(ot=me(e),ot.c(),ot.m(Ie,null)):ot&&(ot.d(1),ot=null)},i:e,o:e,d(e){e&&s(n),d(Re,e),d(et,e),tt&&tt.d(),nt&&nt.d(),lt&&lt.d(),d(it,e),rt&&rt.d(),ot&&ot.d(),We.r(),Je.r(),Ge=!1,l(Ke)}}}let Te="https://cotton-concrete-catsup.glitch.me/app8";function Ee(e,t,n){let l="left",a="en";const i={auth_login_result:{en:"Log in result",ja:"ãƒ­ã‚°ã‚¤ãƒ³çµæžœ",zh:"ç™»å½•ç»“æžœ",es:"resultado de inicio de sesiÃ³n"},auth_sign_out:{en:"Sign out",ja:"ã‚µã‚¤ãƒ³ã‚¢ã‚¦ãƒˆ",zh:"ç™»å‡º",es:"Cerrar sesiÃ³n"},web_data_tags:{en:"Web data tags",ja:"ã‚¦ã‚§ãƒ–ãƒ‡ãƒ¼ã‚¿ã‚¿ã‚°",zh:"ç½‘é¡µæ•°æ®æ ‡ç­¾",es:"Etiquetas de datos web"},any_user_new_all_descs_with_tags:{en:"Any user new all descriptions with tags",ja:"ä»»æ„ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®æ–°ã—ã„ã™ã¹ã¦ã®ã‚¿ã‚°ä»˜ãèª¬æ˜Ž",zh:"ä»»ä½•ç”¨æˆ·çš„æ–°æ‰€æœ‰å¸¦æ ‡ç­¾çš„æè¿°",es:"Cualquier usuario nuevo todas las descripciones con etiquetas"},all_descs:{en:"All descriptions",ja:"ã™ã¹ã¦ã®èª¬æ˜Ž",zh:"æ‰€æœ‰æè¿°",es:"Todas las descripciones"},filtered_all_descs:{en:"Filtered all descriptions",ja:"ã™ã¹ã¦ã®èª¬æ˜Žã‚’ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼",zh:"è¿‡æ»¤æ‰€æœ‰æè¿°",es:"Todas las descripciones filtradas"},web_data_edit:{en:"Web data edit",ja:"ã‚¦ã‚§ãƒ–ãƒ‡ãƒ¼ã‚¿ç·¨é›†",zh:"ç½‘é¡µæ•°æ®ç¼–è¾‘",es:"EdiciÃ³n de datos web"},title:{en:"Title",ja:"ã‚¿ã‚¤ãƒˆãƒ«",zh:"æ ‡é¢˜",es:"TÃ­tulo"},description:{en:"Description",ja:"èª¬æ˜Ž",zh:"æè¿°",es:"DescripciÃ³n"},tag:{en:"Tag",ja:"ã‚¿ã‚°",zh:"æ ‡ç­¾",es:"Etiqueta"},set_desc_data:{en:"Set description data",ja:"èª¬æ˜Žãƒ‡ãƒ¼ã‚¿ã‚’è¨­å®š",zh:"è®¾ç½®æè¿°æ•°æ®",es:"Establecer datos de descripciÃ³n"},delete_desc:{en:"Delete description",ja:"èª¬æ˜Žã‚’å‰Šé™¤",zh:"åˆ é™¤æè¿°",es:"Eliminar descripciÃ³n"},add_tag_to_desc:{en:"Add tag to description",ja:"èª¬æ˜Žã«ã‚¿ã‚°ã‚’è¿½åŠ ",zh:"æ·»åŠ æ ‡ç­¾åˆ°æè¿°",es:"Agregar etiqueta a la descripciÃ³n"},update_desc:{en:"Update description",ja:"èª¬æ˜Žã‚’æ›´æ–°",zh:"æ›´æ–°æè¿°",es:"Actualizar descripciÃ³n"},insert_desc:{en:"Insert description",ja:"èª¬æ˜Žã‚’æŒ¿å…¥",zh:"æ’å…¥æè¿°",es:"Insertar descripciÃ³n"},clear_filtered_all_descs:{en:"Clear filtered all descriptions",ja:"ã™ã¹ã¦ã®ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ã‚’ã‚¯ãƒªã‚¢",zh:"æ¸…é™¤æ‰€æœ‰è¿‡æ»¤æè¿°",es:"Borrar todas las descripciones filtradas"},errors:{en:"Errors",ja:"ã‚¨ãƒ©ãƒ¼",zh:"é”™è¯¯",es:"Errores"},is_auth_uid_valid:{en:"Invalid auth_uid",ja:"ç„¡åŠ¹ãªauth_uid",zh:"æ— æ•ˆçš„auth_uid",es:"auth_uid no vÃ¡lido"},is_title_valid:{ja:"ã‚¿ã‚¤ãƒˆãƒ«ã¯1æ–‡å­—ä»¥ä¸Š100æ–‡å­—ä»¥ä¸‹",en:"Title must be between 1 and 100 characters",zh:"æ ‡é¢˜å¿…é¡»åœ¨1åˆ°100ä¸ªå­—ç¬¦ä¹‹é—´",es:"El tÃ­tulo debe tener entre 1 y 100 caracteres"},is_description_valid:{ja:"èª¬æ˜Žã¯1æ–‡å­—ä»¥ä¸Š1000æ–‡å­—ä»¥ä¸‹",en:"Description must be between 1 and 1000 characters",zh:"æè¿°å¿…é¡»åœ¨1åˆ°1000ä¸ªå­—ç¬¦ä¹‹é—´",es:"La descripciÃ³n debe tener entre 1 y 1000 caracteres"},are_tags_valid:{ja:"ã‚¿ã‚°ã¯1æ–‡å­—ä»¥ä¸Š10æ–‡å­—ä»¥ä¸‹",en:"Tags must be between 1 and 10 characters",zh:"æ ‡ç­¾å¿…é¡»åœ¨1åˆ°10ä¸ªå­—ç¬¦ä¹‹é—´",es:"Las etiquetas deben tener entre 1 y 10 caracteres"},confirm_clear_title_description_tags:{ja:"ã‚¿ã‚¤ãƒˆãƒ«ã€èª¬æ˜Žã€ã‚¿ã‚°ã‚’ã‚¯ãƒªã‚¢ã—ã¾ã™ã‹ï¼Ÿ",en:"Clear title, description, and tags?",zh:"æ¸…é™¤æ ‡é¢˜ã€æè¿°å’Œæ ‡ç­¾å—ï¼Ÿ",es:"Â¿Borrar tÃ­tulo, descripciÃ³n y etiquetas?"},clear_title_description_tags:{ja:"ã‚¿ã‚¤ãƒˆãƒ«ã€èª¬æ˜Žã€ã‚¿ã‚°ã‚’ã‚¯ãƒªã‚¢",en:"Clear title, description, and tags",zh:"æ¸…é™¤æ ‡é¢˜ã€æè¿°å’Œæ ‡ç­¾",es:"Borrar tÃ­tulo, descripciÃ³n y etiquetas"},sort:{ja:"ä¸¦ã¹æ›¿ãˆ",en:"Sort",zh:"åˆ†ç±»",es:"Clasificar"},left:{ja:"ãƒªã‚¹ãƒˆè¡¨ç¤º",en:"List view",zh:"åˆ—è¡¨è§†å›¾",es:"Vista de lista"},right:{ja:"ç·¨é›†è¡¨ç¤º",en:"Edit view",zh:"ç¼–è¾‘è§†å›¾",es:"Vista de ediciÃ³n"}},r=["id","title","description","tags","created_at","updated_at"];let o={kind:"id",order:"desc"};function c(){try{if(null===o.kind||null===o.order)return;if(void 0===v.all_descs)return;if(void 0===v.any_user_new_all_descs_with_tags)return;const e=(e,t)=>{switch(o.kind){case"id":return"asc"===o.order?e.id-t.id:t.id-e.id;case"title":return"asc"===o.order?e.title.localeCompare(t.title):t.title.localeCompare(e.title);case"description":return"asc"===o.order?e.description.localeCompare(t.description):t.description.localeCompare(e.description);case"tags":return"asc"===o.order?e.tags.length-t.tags.length:t.tags.length-e.tags.length;case"created_at":return"asc"===o.order?e.created_at.localeCompare(t.created_at):t.created_at.localeCompare(e.created_at);case"updated_at":return"asc"===o.order?e.updated_at.localeCompare(t.updated_at):t.updated_at.localeCompare(e.updated_at);default:return 0}},t=v.all_descs.sort(e),l=v.any_user_new_all_descs_with_tags.sort(e);n(12,v={...v,all_descs:t,any_user_new_all_descs_with_tags:l})}catch(e){console.error("Error:",e)}}let s="",d=[],u=null,_="",f="",h=[],g=[],p=[],m="Not logged in",v={all_descs:[],all_tags:[],any_user_new_all_descs_with_tags:[],filtered_all_descs:[]},y={},b="",k=!1;function $(e,t){try{if(console.log(p),n(10,p=p.filter((e=>!e.includes(i.are_tags_valid[a])))),console.log(p),!z.validate_tag_name(t))return void p.push(i.are_tags_valid[a]);const l=d.find((e=>e.name===t));if(l){l.desc_id=e;const t=h.some((e=>e.id==e.id));t||n(8,h=[...h,l]),n(3,s="")}else{const l={id:d.length+1,name:t,desc_id:e,created_at:(new Date).toISOString(),updated_at:(new Date).toISOString()};n(4,d=[...d,l]),n(8,h=[...h,l])}}catch(e){console.error("Error:",e)}}function T(e){try{const t=v.all_descs.find((t=>t.id===e));t?(n(5,u=t.id),n(6,_=t.title),n(7,f=t.description),n(8,h=t.tags)):console.error(`No description found with id: ${e}`),n(0,l="right")}catch(e){console.error("Error:",e)}}function E(e){g.some((t=>t===e))||n(9,g=[...g,e]);const t=v.all_descs.filter((e=>e.tags.some((e=>g.some((t=>t===e.id))))));n(12,v.filtered_all_descs=t,v)}function x(e){n(9,g=g.filter((t=>t!==e))),n(12,v.filtered_all_descs=v.filtered_all_descs.filter((e=>e.tags.some((e=>g.some((t=>t===e.id)))))),v)}const z={validate_auth_uid:e=>/^[a-zA-Z0-9_-]+$/.test(e),validate_desc_id:e=>(console.log("validate_desc_id",e),Number.isInteger(e)&&e>0),validate_iso_date:e=>/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$/.test(e),validate_title:e=>(console.log("validate_title",e),"string"==typeof e&&e.length>=1&&e.length<=100),validate_description:e=>(console.log("validate_description",e),"string"==typeof e&&e.length>=1&&e.length<=1e3),validate_tag_name:e=>(console.log("validate_tag_name",e),"string"==typeof e&&e.length>=1&&e.length<=10),validate_data(e){const{auth_uid:t,desc_id:n,title:l,description:a,tags:i}=e,r=this.validate_auth_uid(t),o=this.validate_title(l),c=this.validate_description(a);console.log("tags",i);return{is_auth_uid_valid:r,is_title_valid:o,is_description_valid:c,are_tags_valid:i.every((e=>this.validate_tag_name(e.name)))}}};function C(){const e={auth_uid:b,desc_id:u,title:_,description:f,tags:h};n(10,p=[]);for(const[t,n]of Object.entries(z.validate_data(e)))if(n||p.push(i[t][a]),"tags"===t)for(const[e,t]of n.entries())for(const[n,l]of Object.entries(z.validate_data(t)))l||p.push(`tags[${e}].${n}`);else"auth_uid"===t&&z.validate_auth_uid(b),"desc_id"===t&&z.validate_desc_id(u),"title"===t&&z.validate_title(_),"description"===t&&z.validate_description(f);return!(p.length>0)||(console.log(p),!1)}async function N(){try{if(!C())throw new Error("Validation failed");const e=await fetch(Te+"/insert_desc",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({auth_uid:b,title:_,description:f,tags:h})});await O(e),n(0,l="left")}catch(e){console.error("Error:",e)}}async function O(e){try{const t=await e.json();t.filtered_all_descs=v.filtered_all_descs?v.filtered_all_descs:[],y=Object.fromEntries(Object.entries(t).filter((([e,t])=>"all_descs"!==e&&"all_tags"!==e&&"any_user_new_all_descs_with_tags"!==e))),n(12,v=Object.fromEntries(Object.entries(t).filter((([e,t])=>"all_descs"===e||"all_tags"===e||"any_user_new_all_descs_with_tags"===e||"filtered_all_descs"===e)))),n(4,d=t.all_tags),c()}catch(e){console.error("Error:",e)}}async function S(){try{const e=await fetch(Te+"/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({auth_uid:b})});await O(e)}catch(e){console.error("Error:",e)}}async function A(e){try{const t=await fetch(Te+"/delete_desc",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e,auth_uid:b})});await O(t)}catch(e){console.error("Error:",e)}}firebase.initializeApp({apiKey:"AIzaSyBcOlIDP2KWbJuKM0WeMHNp-WvjTVfLt9Y",authDomain:"p2auth-ea50a.firebaseapp.com",projectId:"p2auth-ea50a",storageBucket:"p2auth-ea50a.appspot.com",messagingSenderId:"796225429484",appId:"1:796225429484:web:ece56ef2fc0be28cd6eac9"});const I=new firebase.auth.GoogleAuthProvider;const q=[{auth_uid:"user1",desc_id:1,created_at:"2024-09-01T00:00:00",updated_at:"2024-09-01T00:00:00",title:"foo1",description:"bar1",tags:[{desc_id:1,id:1,name:"tag1",created_at:"2024-09-01T00:00:00",updated_at:"2024-09-01T00:00:00"},{desc_id:1,id:2,name:"tag2",created_at:"2024-09-01T00:00:00",updated_at:"2024-09-01T00:00:00"},{desc_id:1,id:3,name:"tag3",created_at:"2024-09-01T00:00:00",updated_at:"2024-09-01T00:00:00"}]},{auth_uid:"user1",desc_id:2,created_at:"2024-09-01T00:00:00",updated_at:"2024-09-01T00:00:00",title:"foo2",description:"bar2",tags:[{desc_id:2,id:1,name:"tag1",created_at:"2024-09-01T00:00:00",updated_at:"2024-09-01T00:00:00"},{desc_id:2,id:2,name:"tag2",created_at:"2024-09-01T00:00:00",updated_at:"2024-09-01T00:00:00"}]},{auth_uid:"user2",desc_id:3,created_at:"2024-09-01T00:00:00",updated_at:"2024-09-01T00:00:00",title:"foo3",description:"bar3",tags:[{desc_id:3,id:2,name:"tag2",created_at:"2024-09-01T00:00:00",updated_at:"2024-09-01T00:00:00"},{desc_id:3,id:3,name:"tag3",created_at:"2024-09-01T00:00:00",updated_at:"2024-09-01T00:00:00"}]}],P=[{auth_uid:"user1",desc_id:4,created_at:"2024-09-01T00:00:00",updated_at:"2024-09-01T00:00:00",title:"a".repeat(100),description:"b".repeat(1e3),tags:[{desc_id:4,id:4,name:"tag4",created_at:"2024-09-01T00:00:00",updated_at:"2024-09-01T00:00:00"}]},{auth_uid:"user1",desc_id:5,created_at:"2024-09-01T00:00:00",updated_at:"2024-09-01T00:00:00",title:"",description:"",tags:[{desc_id:5,id:5,name:"t".repeat(10),created_at:"2024-09-01T00:00:00",updated_at:"2024-09-01T00:00:00"}]}];j((async()=>{await async function(){try{const e=await new Promise(((e,t)=>{firebase.auth().onAuthStateChanged(e,t)}));console.log("Current user:",e),e?(n(13,b=e.uid),n(11,m="Logged in")):(console.log(2),n(11,m="Not logged in"),n(13,b=""))}catch(e){console.error("Error during authentication:",e),n(11,m="Authentication failed"),n(13,b="")}}(),console.log("auth_check_login"),await S(),console.log("fetch_get_all_descs_and_tags"),function(){if(location.hash){const e=location.hash.slice(1),t=document.getElementById(e);t&&t.scrollIntoView({behavior:"smooth"})}}()}));return e.$$.update=()=>{1&e.$$.dirty[0]&&(async()=>{"left"===l?(document.documentElement.style.setProperty("--display-left-column","block"),document.documentElement.style.setProperty("--display-right-column","none")):"right"===l&&(document.documentElement.style.setProperty("--display-left-column","none"),document.documentElement.style.setProperty("--display-right-column","block"))})()},[l,a,o,s,d,u,_,f,h,g,p,m,v,b,k,i,r,c,function(){confirm(i.confirm_clear_title_description_tags[a])&&(n(6,_=""),n(7,f=""),n(8,h=[]),n(5,u=null))},function(){n(14,k=!k)},$,T,E,async function(){n(12,v.filtered_all_descs=[],v),n(9,g=[])},x,async function(){try{for(const e of q)n(13,b=e.auth_uid),n(5,u=e.desc_id),n(6,_=e.title),n(7,f=e.description),n(8,h=e.tags),await N()}catch(e){console.error("Error:",e)}},N,S,async function(){try{if(!C())throw new Error("Validation failed");const e=await fetch(Te+"/update_desc",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({auth_uid:b,desc_id:u,title:_,description:f,tags:h})});await O(e),n(0,l="left")}catch(e){console.error("Error:",e)}},A,async function(){try{console.log("auth_google_login");const e=(await firebase.auth().signInWithPopup(I)).user;console.log(4),n(11,m=`Logged in as: ${e.displayName}`)}catch(e){console.error("Error during Google login:",e),alert("Google login failed. "+e.message)}},async function(){try{console.log(5),await firebase.auth().signOut(),n(11,m="Not logged in")}catch(e){console.error("Error during sign-out:",e),alert("Sign out failed. "+e.message)}},function(){n(6,_=P[1].title),n(7,f=P[1].description),n(8,h=P[1].tags),N()},function(){l=this.__value,n(0,l)},[[],[]],function(){l=this.__value,n(0,l)},function(){a=this.__value,n(1,a)},function(){a=this.__value,n(1,a)},function(){a=this.__value,n(1,a)},function(){a=this.__value,n(1,a)},function(){o.kind=w(this),n(2,o),n(16,r)},function(){o.order=w(this),n(2,o),n(16,r)},()=>n(0,l="right"),e=>x(e.id),e=>{return t=e.id,navigator.clipboard.writeText(`${window.location.href.split("#")[0]}#${t}`),void alert("Link copied to clipboard");var t},e=>T(e.id),e=>A(e.id),e=>E(e.id),e=>E(e.id),()=>n(0,l="left"),function(){_=this.value,n(6,_)},function(){f=this.value,n(7,f)},e=>n(8,h=h.filter((t=>t.id!==e.id))),function(){s=this.value,n(3,s)},()=>$(u,s)]}return new class extends V{constructor(e){super(),B(this,e,Ee,je,i,{},null,[-1,-1,-1,-1])}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
