var app=function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function l(e){e.forEach(t)}function a(e){return"function"==typeof e}function c(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function s(e){return null==e?"":e}function i(e,t){e.appendChild(t)}function r(e,t,n){e.insertBefore(t,n||null)}function o(e){e.parentNode&&e.parentNode.removeChild(e)}function d(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function u(e){return document.createElement(e)}function _(e){return document.createTextNode(e)}function f(){return _(" ")}function g(){return _("")}function h(e,t,n,l){return e.addEventListener(t,n,l),()=>e.removeEventListener(t,n,l)}function p(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function m(e,t){t=""+t,e.data!==t&&(e.data=t)}function v(e,t){e.value=null==t?"":t}function b(e,t,n){for(let n=0;n<e.options.length;n+=1){const l=e.options[n];if(l.__value===t)return void(l.selected=!0)}n&&void 0===t||(e.selectedIndex=-1)}function y(e){const t=e.querySelector(":checked");return t&&t.__value}function x(e,t,n){e.classList[n?"add":"remove"](t)}let w;function $(e){w=e}function k(e){(function(){if(!w)throw new Error("Function called outside component initialization");return w})().$$.on_mount.push(e)}const j=[],T=[];let E=[];const z=[],C=Promise.resolve();let N=!1;function O(e){E.push(e)}const S=new Set;let I=0;function P(){if(0!==I)return;const e=w;do{try{for(;I<j.length;){const e=j[I];I++,$(e),A(e.$$)}}catch(e){throw j.length=0,I=0,e}for($(null),j.length=0,I=0;T.length;)T.pop()();for(let e=0;e<E.length;e+=1){const t=E[e];S.has(t)||(S.add(t),t())}E.length=0}while(j.length);for(;z.length;)z.pop()();N=!1,S.clear(),$(e)}function A(e){if(null!==e.fragment){e.update(),l(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(O)}}const L=new Set;function q(e,t){const n=e.$$;null!==n.fragment&&(!function(e){const t=[],n=[];E.forEach((l=>-1===e.indexOf(l)?t.push(l):n.push(l))),n.forEach((e=>e())),E=t}(n.after_update),l(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function D(e,t){-1===e.$$.dirty[0]&&(j.push(e),N||(N=!0,C.then(P)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function B(c,s,i,r,d,u,_,f=[-1]){const g=w;$(c);const h=c.$$={fragment:null,ctx:[],props:u,update:e,not_equal:d,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(s.context||(g?g.$$.context:[])),callbacks:n(),dirty:f,skip_bound:!1,root:s.target||g.$$.root};_&&_(h.root);let p=!1;if(h.ctx=i?i(c,s.props||{},((e,t,...n)=>{const l=n.length?n[0]:t;return h.ctx&&d(h.ctx[e],h.ctx[e]=l)&&(!h.skip_bound&&h.bound[e]&&h.bound[e](l),p&&D(c,e)),t})):[],h.update(),p=!0,l(h.before_update),h.fragment=!!r&&r(h.ctx),s.target){if(s.hydrate){const e=function(e){return Array.from(e.childNodes)}(s.target);h.fragment&&h.fragment.l(e),e.forEach(o)}else h.fragment&&h.fragment.c();s.intro&&((m=c.$$.fragment)&&m.i&&(L.delete(m),m.i(v))),function(e,n,c,s){const{fragment:i,after_update:r}=e.$$;i&&i.m(n,c),s||O((()=>{const n=e.$$.on_mount.map(t).filter(a);e.$$.on_destroy?e.$$.on_destroy.push(...n):l(n),e.$$.on_mount=[]})),r.forEach(O)}(c,s.target,s.anchor,s.customElement),P()}var m,v;$(g)}class J{$destroy(){q(this,1),this.$destroy=e}$on(t,n){if(!a(n))return e;const l=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return l.push(n),()=>{const e=l.indexOf(n);-1!==e&&l.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function W(e,t,n){const l=e.slice();return l[73]=t[n],l}function M(e,t,n){const l=e.slice();return l[76]=t[n],l}function V(e,t,n){const l=e.slice();return l[76]=t[n],l}function G(e,t,n){const l=e.slice();return l[81]=t[n][0],l[82]=t[n][1],l}function K(e,t,n){const l=e.slice();return l[76]=t[n],l}function H(e,t,n){const l=e.slice();return l[87]=t[n],l}function F(e,t,n){const l=e.slice();return l[76]=t[n],l}function U(e,t,n){const l=e.slice();return l[92]=t[n],l}function Y(e,t,n){const l=e.slice();return l[76]=t[n],l}function Z(e,t,n){const l=e.slice();return l[76]=t[n],l}function Q(e,t,n){const l=e.slice();return l[99]=t[n],l}function R(e,t,n){const l=e.slice();return l[73]=t[n],l}function X(e,t,n){const l=e.slice();return l[104]=t[n],l}function ee(e,t,n){const l=e.slice();return l[107]=t[n],l}function te(e){let t,n,a,c,s,g,v,y,x,w,$,k,j,T,E,z,C,N,S,I,P,A,L,q,D,B=e[20].select_language[e[15]]+"",J=e[20].sort[e[15]]+"",W=e[20].auth_login_result[e[15]]+"",M=e[14]&&ne(e),V=e[19],G=[];for(let t=0;t<V.length;t+=1)G[t]=le(ee(e,V,t));let K=["desc","asc"],H=[];for(let t=0;t<2;t+=1)H[t]=ae(X(e,K,t));let F=""===e[18]&&ce(e),U=""!==e[18]&&se(e);return{c(){t=u("div"),n=u("button"),a=_(B),c=f(),M&&M.c(),s=f(),g=u("div"),v=u("select");for(let e=0;e<G.length;e+=1)G[e].c();y=f(),x=u("select");for(let e=0;e<2;e+=1)H[e].c();w=f(),$=u("button"),k=_(J),j=f(),T=u("div"),T.textContent="v1.2.4",E=f(),z=u("div"),C=_(W),N=_(": "),S=u("span"),I=_(e[17]),P=f(),F&&F.c(),A=f(),U&&U.c(),L=f(),p(n,"class","svelte-1b48fxf"),void 0===e[4].kind&&O((()=>e[45].call(v))),void 0===e[4].order&&O((()=>e[46].call(x))),p($,"class","svelte-1b48fxf"),p(T,"class","version"),p(t,"class","menu_list svelte-1b48fxf")},m(l,o){r(l,t,o),i(t,n),i(n,a),i(t,c),M&&M.m(t,null),i(t,s),i(t,g),i(g,v);for(let e=0;e<G.length;e+=1)G[e]&&G[e].m(v,null);b(v,e[4].kind,!0),i(g,y),i(g,x);for(let e=0;e<2;e+=1)H[e]&&H[e].m(x,null);b(x,e[4].order,!0),i(g,w),i(g,$),i($,k),i(t,j),i(t,T),i(t,E),i(t,z),i(z,C),i(z,N),i(z,S),i(S,I),i(t,P),F&&F.m(t,null),i(t,A),U&&U.m(t,null),i(t,L),q||(D=[h(n,"click",e[31]),h(v,"change",e[45]),h(x,"change",e[46]),h($,"click",e[29])],q=!0)},p(e,n){if(32768&n[0]&&B!==(B=e[20].select_language[e[15]]+"")&&m(a,B),e[14]?M?M.p(e,n):(M=ne(e),M.c(),M.m(t,s)):M&&(M.d(1),M=null),524288&n[0]){let t;for(V=e[19],t=0;t<V.length;t+=1){const l=ee(e,V,t);G[t]?G[t].p(l,n):(G[t]=le(l),G[t].c(),G[t].m(v,null))}for(;t<G.length;t+=1)G[t].d(1);G.length=V.length}524304&n[0]&&b(v,e[4].kind),524304&n[0]&&b(x,e[4].order),32768&n[0]&&J!==(J=e[20].sort[e[15]]+"")&&m(k,J),32768&n[0]&&W!==(W=e[20].auth_login_result[e[15]]+"")&&m(C,W),131072&n[0]&&m(I,e[17]),""===e[18]?F?F.p(e,n):(F=ce(e),F.c(),F.m(t,A)):F&&(F.d(1),F=null),""!==e[18]?U?U.p(e,n):(U=se(e),U.c(),U.m(t,L)):U&&(U.d(1),U=null)},d(e){e&&o(t),M&&M.d(),d(G,e),d(H,e),F&&F.d(),U&&U.d(),q=!1,l(D)}}}function ne(e){let t,n,a,c,s,d,g,v,b,y,x,w,$,k,j,T,E,z,C,N,O,S,I,P,A,L,q=e[20].select_language[e[15]]+"";return P=function(e){let t;return{p(...n){t=n,t.forEach((t=>e.push(t)))},r(){t.forEach((t=>e.splice(e.indexOf(t),1)))}}}(e[41][0]),{c(){t=u("div"),n=u("div"),a=u("button"),a.textContent="×",c=f(),s=u("h2"),d=_(q),g=f(),v=u("div"),b=u("input"),y=f(),x=u("label"),x.textContent="🇺🇸 English",w=f(),$=u("input"),k=f(),j=u("label"),j.textContent="🇯🇵 日本語",T=f(),E=u("input"),z=f(),C=u("label"),C.textContent="🇨🇳🇹🇼 中文",N=f(),O=u("input"),S=f(),I=u("label"),I.textContent="🇪🇸 Español",p(a,"class","close svelte-1b48fxf"),p(b,"type","radio"),p(b,"id","en"),p(b,"name","design_lang"),b.__value="en",b.value=b.__value,p(x,"for","en"),p($,"type","radio"),p($,"id","ja"),p($,"name","design_lang"),$.__value="ja",$.value=$.__value,p(j,"for","ja"),p(E,"type","radio"),p(E,"id","zh"),p(E,"name","design_lang"),E.__value="zh",E.value=E.__value,p(C,"for","zh"),p(O,"type","radio"),p(O,"id","es"),p(O,"name","design_lang"),O.__value="es",O.value=O.__value,p(I,"for","es"),p(n,"class","modal-content svelte-1b48fxf"),p(t,"class","modal svelte-1b48fxf"),P.p(b,$,E,O)},m(l,o){r(l,t,o),i(t,n),i(n,a),i(n,c),i(n,s),i(s,d),i(n,g),i(n,v),i(v,b),b.checked=b.__value===e[15],i(v,y),i(v,x),i(v,w),i(v,$),$.checked=$.__value===e[15],i(v,k),i(v,j),i(v,T),i(v,E),E.checked=E.__value===e[15],i(v,z),i(v,C),i(v,N),i(v,O),O.checked=O.__value===e[15],i(v,S),i(v,I),A||(L=[h(a,"click",e[31]),h(b,"change",e[40]),h($,"change",e[42]),h(E,"change",e[43]),h(O,"change",e[44])],A=!0)},p(e,t){32768&t[0]&&q!==(q=e[20].select_language[e[15]]+"")&&m(d,q),32768&t[0]&&(b.checked=b.__value===e[15]),32768&t[0]&&($.checked=$.__value===e[15]),32768&t[0]&&(E.checked=E.__value===e[15]),32768&t[0]&&(O.checked=O.__value===e[15])},d(e){e&&o(t),P.r(),A=!1,l(L)}}}function le(t){let n,l,a=t[107]+"";return{c(){n=u("option"),l=_(a),n.__value=t[107],n.value=n.__value},m(e,t){r(e,n,t),i(n,l)},p:e,d(e){e&&o(n)}}}function ae(t){let n,l;return{c(){n=u("option"),l=_(t[104]),n.__value=t[104],n.value=n.__value},m(e,t){r(e,n,t),i(n,l)},p:e,d(e){e&&o(n)}}}function ce(t){let n,l,a,c,s;return{c(){n=u("div"),l=_("auth_google_login: "),a=u("button"),a.textContent="auth_google_login",p(a,"class","svelte-1b48fxf")},m(e,o){r(e,n,o),i(n,l),i(n,a),c||(s=h(a,"click",t[38]),c=!0)},p:e,d(e){e&&o(n),c=!1,s()}}}function se(e){let t,n,l,a,c,s=e[20].auth_sign_out[e[15]]+"";return{c(){t=u("div"),n=u("button"),l=_(s),p(n,"class","svelte-1b48fxf")},m(s,o){r(s,t,o),i(t,n),i(n,l),a||(c=h(n,"click",e[39]),a=!0)},p(e,t){32768&t[0]&&s!==(s=e[20].auth_sign_out[e[15]]+"")&&m(l,s)},d(e){e&&o(t),a=!1,c()}}}function ie(e){let t,n,l,a=e[9],c=[];for(let t=0;t<a.length;t+=1)c[t]=re(R(e,a,t));return{c(){t=u("p"),t.textContent="Errors:",n=f();for(let e=0;e<c.length;e+=1)c[e].c();l=g()},m(e,a){r(e,t,a),r(e,n,a);for(let t=0;t<c.length;t+=1)c[t]&&c[t].m(e,a);r(e,l,a)},p(e,t){if(512&t[0]){let n;for(a=e[9],n=0;n<a.length;n+=1){const s=R(e,a,n);c[n]?c[n].p(s,t):(c[n]=re(s),c[n].c(),c[n].m(l.parentNode,l))}for(;n<c.length;n+=1)c[n].d(1);c.length=a.length}},d(e){e&&o(t),e&&o(n),d(c,e),e&&o(l)}}}function re(e){let t,n,l=e[73]+"";return{c(){t=u("div"),n=_(l)},m(e,l){r(e,t,l),i(t,n)},p(e,t){512&t[0]&&l!==(l=e[73]+"")&&m(n,l)},d(e){e&&o(t)}}}function oe(e){let t,n,l,a,c,s,d,g,v=(e[20][e[99]]?e[20][e[99]][e[15]]:e[99])+"",b="all_descs"===e[99]&&de(),y="any_user_new_all_descs_with_tags"===e[99]&&ue(),w="filtered_all_descs"===e[99]&&_e();function $(){return e[48](e[99])}return{c(){t=u("button"),b&&b.c(),n=f(),y&&y.c(),l=f(),w&&w.c(),a=f(),c=_(v),s=f(),p(t,"class","svelte-1b48fxf"),x(t,"active",e[12]===e[99])},m(e,o){r(e,t,o),b&&b.m(t,null),i(t,n),y&&y.m(t,null),i(t,l),w&&w.m(t,null),i(t,a),i(t,c),i(t,s),d||(g=h(t,"click",$),d=!0)},p(s,i){"all_descs"===(e=s)[99]?b||(b=de(),b.c(),b.m(t,n)):b&&(b.d(1),b=null),"any_user_new_all_descs_with_tags"===e[99]?y||(y=ue(),y.c(),y.m(t,l)):y&&(y.d(1),y=null),"filtered_all_descs"===e[99]?w||(w=_e(),w.c(),w.m(t,a)):w&&(w.d(1),w=null),33792&i[0]&&v!==(v=(e[20][e[99]]?e[20][e[99]][e[15]]:e[99])+"")&&m(c,v),5120&i[0]&&x(t,"active",e[12]===e[99])},d(e){e&&o(t),b&&b.d(),y&&y.d(),w&&w.d(),d=!1,g()}}}function de(e){let t;return{c(){t=u("div"),t.textContent="home",p(t,"class","material-icons")},m(e,n){r(e,t,n)},d(e){e&&o(t)}}}function ue(e){let t;return{c(){t=u("div"),t.textContent="person",p(t,"class","material-icons")},m(e,n){r(e,t,n)},d(e){e&&o(t)}}}function _e(e){let t;return{c(){t=u("div"),t.textContent="filter",p(t,"class","material-icons")},m(e,n){r(e,t,n)},d(e){e&&o(t)}}}function fe(e){let t,n="all_tags"!==e[99]&&oe(e);return{c(){n&&n.c(),t=g()},m(e,l){n&&n.m(e,l),r(e,t,l)},p(e,l){"all_tags"!==e[99]?n?n.p(e,l):(n=oe(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(e){n&&n.d(e),e&&o(t)}}}function ge(e){let t,n="all_tags"!==e[12]&&e[12]===e[81]&&he(e);return{c(){n&&n.c(),t=g()},m(e,l){n&&n.m(e,l),r(e,t,l)},p(e,l){"all_tags"!==e[12]&&e[12]===e[81]?n?n.p(e,l):(n=he(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(e){n&&n.d(e),e&&o(t)}}}function he(e){let t,n,l,a="filtered_all_descs"===e[81]&&pe(e),c=e[82],_=[];for(let t=0;t<c.length;t+=1)_[t]=ke(H(e,c,t));return{c(){t=u("div"),a&&a.c(),n=f();for(let e=0;e<_.length;e+=1)_[e].c();p(t,"class",l=s(e[81])+" svelte-1b48fxf")},m(e,l){r(e,t,l),a&&a.m(t,null),i(t,n);for(let e=0;e<_.length;e+=1)_[e]&&_[e].m(t,null)},p(e,i){if("filtered_all_descs"===e[81]?a?a.p(e,i):(a=pe(e),a.c(),a.m(t,n)):a&&(a.d(1),a=null),307594240&i[0]|66&i[1]){let n;for(c=e[82],n=0;n<c.length;n+=1){const l=H(e,c,n);_[n]?_[n].p(l,i):(_[n]=ke(l),_[n].c(),_[n].m(t,null))}for(;n<_.length;n+=1)_[n].d(1);_.length=c.length}1024&i[0]&&l!==(l=s(e[81])+" svelte-1b48fxf")&&p(t,"class",l)},d(e){e&&o(t),a&&a.d(),d(_,e)}}}function pe(e){let t,n,l,a,c,s,v,b,y,x,w,$=e[20].clear_filtered_all_descs[e[15]]+"",k=e[6],j=[];for(let t=0;t<k.length;t+=1)j[t]=me(Z(e,k,t));let T=e[8],E=[];for(let t=0;t<T.length;t+=1)E[t]=ye(U(e,T,t));return{c(){t=_("all_tags: \n\t\t\t\t\t"),n=u("div");for(let e=0;e<j.length;e+=1)j[e].c();l=f(),a=u("div"),c=f(),s=u("button"),v=_($),b=f();for(let e=0;e<E.length;e+=1)E[e].c();y=g(),p(n,"class","parent_tags svelte-1b48fxf"),p(a,"class","each_desc_border svelte-1b48fxf"),p(s,"class","svelte-1b48fxf")},m(o,d){r(o,t,d),r(o,n,d);for(let e=0;e<j.length;e+=1)j[e]&&j[e].m(n,null);r(o,l,d),r(o,a,d),r(o,c,d),r(o,s,d),i(s,v),r(o,b,d);for(let e=0;e<E.length;e+=1)E[e]&&E[e].m(o,d);r(o,y,d),x||(w=h(s,"click",e[26]),x=!0)},p(e,t){if(4194368&t[0]){let l;for(k=e[6],l=0;l<k.length;l+=1){const a=Z(e,k,l);j[l]?j[l].p(a,t):(j[l]=me(a),j[l].c(),j[l].m(n,null))}for(;l<j.length;l+=1)j[l].d(1);j.length=k.length}if(32768&t[0]&&$!==($=e[20].clear_filtered_all_descs[e[15]]+"")&&m(v,$),8388928&t[0]){let n;for(T=e[8],n=0;n<T.length;n+=1){const l=U(e,T,n);E[n]?E[n].p(l,t):(E[n]=ye(l),E[n].c(),E[n].m(y.parentNode,y))}for(;n<E.length;n+=1)E[n].d(1);E.length=T.length}},d(e){e&&o(t),e&&o(n),d(j,e),e&&o(l),e&&o(a),e&&o(c),e&&o(s),e&&o(b),d(E,e),e&&o(y),x=!1,w()}}}function me(e){let t,n,l,a,c=e[76].name+"";function s(){return e[49](e[76])}return{c(){t=u("button"),n=_(c),p(t,"class","tag svelte-1b48fxf")},m(e,c){r(e,t,c),i(t,n),l||(a=h(t,"click",s),l=!0)},p(t,l){e=t,64&l[0]&&c!==(c=e[76].name+"")&&m(n,c)},d(e){e&&o(t),l=!1,a()}}}function ve(e){let t,n,l,a,c=e[76].name+"";function s(){return e[50](e[76])}return{c(){t=u("button"),n=_(c),p(t,"class","tag svelte-1b48fxf")},m(e,c){r(e,t,c),i(t,n),l||(a=h(t,"click",s),l=!0)},p(t,l){e=t,64&l[0]&&c!==(c=e[76].name+"")&&m(n,c)},d(e){e&&o(t),l=!1,a()}}}function be(e){let t,n=e[76].name===e[92]&&ve(e);return{c(){n&&n.c(),t=g()},m(e,l){n&&n.m(e,l),r(e,t,l)},p(e,l){e[76].name===e[92]?n?n.p(e,l):(n=ve(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(e){n&&n.d(e),e&&o(t)}}}function ye(e){let t,n,l=e[6],a=[];for(let t=0;t<l.length;t+=1)a[t]=be(Y(e,l,t));return{c(){t=u("div");for(let e=0;e<a.length;e+=1)a[e].c();n=f(),p(t,"class","parent_tags svelte-1b48fxf")},m(e,l){r(e,t,l);for(let e=0;e<a.length;e+=1)a[e]&&a[e].m(t,null);i(t,n)},p(e,c){if(8388928&c[0]){let s;for(l=e[6],s=0;s<l.length;s+=1){const i=Y(e,l,s);a[s]?a[s].p(i,c):(a[s]=be(i),a[s].c(),a[s].m(t,n))}for(;s<a.length;s+=1)a[s].d(1);a.length=l.length}},d(e){e&&o(t),d(a,e)}}}function xe(e){let t,n=e[87].tags,l=[];for(let t=0;t<n.length;t+=1)l[t]=we(F(e,n,t));return{c(){t=u("div");for(let e=0;e<l.length;e+=1)l[e].c();p(t,"class","desc_tags svelte-1b48fxf")},m(e,n){r(e,t,n);for(let e=0;e<l.length;e+=1)l[e]&&l[e].m(t,null)},p(e,a){if(4195328&a[0]){let c;for(n=e[87].tags,c=0;c<n.length;c+=1){const s=F(e,n,c);l[c]?l[c].p(s,a):(l[c]=we(s),l[c].c(),l[c].m(t,null))}for(;c<l.length;c+=1)l[c].d(1);l.length=n.length}},d(e){e&&o(t),d(l,e)}}}function we(e){let t,n,l,a,c=e[76].name+"";function s(){return e[51](e[76])}return{c(){t=u("button"),n=_(c),p(t,"class","tag svelte-1b48fxf")},m(e,c){r(e,t,c),i(t,n),l||(a=h(t,"click",s),l=!0)},p(t,l){e=t,1024&l[0]&&c!==(c=e[76].name+"")&&m(n,c)},d(e){e&&o(t),l=!1,a()}}}function $e(e){let t,n,a,c,s,d,g,v=e[20].set_desc_data[e[15]]+"",b=e[20].delete_desc[e[15]]+"";function y(){return e[53](e[87])}function x(){return e[54](e[87])}return{c(){t=u("button"),n=_(v),a=f(),c=u("button"),s=_(b),p(t,"class","set_desc_data svelte-1b48fxf"),p(c,"class","fetch_delete_desc svelte-1b48fxf")},m(e,l){r(e,t,l),i(t,n),r(e,a,l),r(e,c,l),i(c,s),d||(g=[h(t,"click",y),h(c,"click",x)],d=!0)},p(t,l){e=t,32768&l[0]&&v!==(v=e[20].set_desc_data[e[15]]+"")&&m(n,v),32768&l[0]&&b!==(b=e[20].delete_desc[e[15]]+"")&&m(s,b)},d(e){e&&o(t),e&&o(a),e&&o(c),d=!1,l(g)}}}function ke(e){let t,n,a,c,s,d,g,v,b,y,x,w,$,k,j,T,E,z,C,N=e[87].title+"",O=(e[87].description.length>200&&!e[16]?e[87].description.slice(0,200)+"...▼":e[87].description)+"",S=e[87].id+"",I=e[87].tags&&xe(e);function P(){return e[52](e[87])}let A="any_user_new_all_descs_with_tags"===e[81]&&e[18]&&$e(e);return{c(){t=u("div"),n=u("p"),a=_(N),c=f(),s=u("p"),d=u("button"),g=_(O),v=f(),I&&I.c(),b=f(),y=u("div"),x=u("p"),w=u("button"),$=_("id: "),k=_(S),j=f(),A&&A.c(),E=f(),p(n,"class","title break_word_title svelte-1b48fxf"),p(d,"class","button_reset break_word svelte-1b48fxf"),p(s,"class","break_word svelte-1b48fxf"),p(w,"class","id button_reset svelte-1b48fxf"),p(x,"id",T=e[87].id),p(x,"class","id_and_set_delete svelte-1b48fxf"),p(y,"class","each_desc_border svelte-1b48fxf")},m(l,o){r(l,t,o),i(t,n),i(n,a),i(t,c),i(t,s),i(s,d),i(d,g),i(t,v),I&&I.m(t,null),r(l,b,o),r(l,y,o),i(y,x),i(x,w),i(w,$),i(w,k),i(x,j),A&&A.m(x,null),i(y,E),z||(C=[h(d,"click",e[32]),h(w,"click",P)],z=!0)},p(n,l){e=n,1024&l[0]&&N!==(N=e[87].title+"")&&m(a,N),66560&l[0]&&O!==(O=(e[87].description.length>200&&!e[16]?e[87].description.slice(0,200)+"...▼":e[87].description)+"")&&m(g,O),e[87].tags?I?I.p(e,l):(I=xe(e),I.c(),I.m(t,null)):I&&(I.d(1),I=null),1024&l[0]&&S!==(S=e[87].id+"")&&m(k,S),"any_user_new_all_descs_with_tags"===e[81]&&e[18]?A?A.p(e,l):(A=$e(e),A.c(),A.m(x,null)):A&&(A.d(1),A=null),1024&l[0]&&T!==(T=e[87].id)&&p(x,"id",T)},d(e){e&&o(t),I&&I.d(),e&&o(b),e&&o(y),A&&A.d(),z=!1,l(C)}}}function je(e){let t,n,l,a,c,s=e[20].web_data_tags[e[15]]+"",d=e[10].all_tags&&Te(e);return{c(){t=u("div"),n=u("h1"),l=_(s),a=f(),d&&d.c(),c=f(),p(n,"class","svelte-1b48fxf"),p(t,"class","web_data_tags svelte-1b48fxf")},m(e,s){r(e,t,s),i(t,n),i(n,l),i(t,a),d&&d.m(t,null),i(t,c)},p(e,n){32768&n[0]&&s!==(s=e[20].web_data_tags[e[15]]+"")&&m(l,s),e[10].all_tags?d?d.p(e,n):(d=Te(e),d.c(),d.m(t,c)):d&&(d.d(1),d=null)},d(e){e&&o(t),d&&d.d()}}}function Te(e){let t,n=e[6],l=[];for(let t=0;t<n.length;t+=1)l[t]=Ee(K(e,n,t));return{c(){t=u("div");for(let e=0;e<l.length;e+=1)l[e].c();p(t,"class","parent_tags svelte-1b48fxf")},m(e,n){r(e,t,n);for(let e=0;e<l.length;e+=1)l[e]&&l[e].m(t,null)},p(e,a){if(4194368&a[0]){let c;for(n=e[6],c=0;c<n.length;c+=1){const s=K(e,n,c);l[c]?l[c].p(s,a):(l[c]=Ee(s),l[c].c(),l[c].m(t,null))}for(;c<l.length;c+=1)l[c].d(1);l.length=n.length}},d(e){e&&o(t),d(l,e)}}}function Ee(e){let t,n,l,a,c=e[76].name+"";function s(){return e[55](e[76])}return{c(){t=u("button"),n=_(c),p(t,"class","tag svelte-1b48fxf")},m(e,c){r(e,t,c),i(t,n),l||(a=h(t,"click",s),l=!0)},p(t,l){e=t,64&l[0]&&c!==(c=e[76].name+"")&&m(n,c)},d(e){e&&o(t),l=!1,a()}}}function ze(e){let t,n,l="all_tags"!==e[81]&&ge(e),a="all_tags"===e[12]&&"all_tags"===e[81]&&je(e);return{c(){l&&l.c(),t=f(),a&&a.c(),n=g()},m(e,c){l&&l.m(e,c),r(e,t,c),a&&a.m(e,c),r(e,n,c)},p(e,c){"all_tags"!==e[81]?l?l.p(e,c):(l=ge(e),l.c(),l.m(t.parentNode,t)):l&&(l.d(1),l=null),"all_tags"===e[12]&&"all_tags"===e[81]?a?a.p(e,c):(a=je(e),a.c(),a.m(n.parentNode,n)):a&&(a.d(1),a=null)},d(e){l&&l.d(e),e&&o(t),a&&a.d(e),e&&o(n)}}}function Ce(e){let t,n,a,c,s,b,y,x,w,$,k,j,T,E,z,C,N,O,S,I,P,A,L,q,D,B,J,W,G,K,H,F=e[20].clear_title_description_tags[e[15]]+"",U=e[20].tag[e[15]]+"",Y=e[20].add_tag_to_desc[e[15]]+"",Z=null!==e[1]&&Ne(e),Q=e[7],R=[];for(let t=0;t<Q.length;t+=1)R[t]=Oe(V(e,Q,t));let X=e[6],ee=[];for(let t=0;t<X.length;t+=1)ee[t]=Se(M(e,X,t));let te=e[9].length>0&&Ie(e),ne=null===e[1]&&Ae(e),le=null!==e[1]&&Le(e);return{c(){Z&&Z.c(),t=f(),n=u("button"),a=_(F),c=f(),s=u("div"),s.textContent="title:",b=f(),y=u("textarea"),x=f(),w=u("div"),w.textContent="description:",$=f(),k=u("textarea"),j=f(),T=u("div");for(let e=0;e<R.length;e+=1)R[e].c();E=f(),z=u("label"),C=_(U),N=f(),O=u("input"),S=f(),I=u("datalist");for(let e=0;e<ee.length;e+=1)ee[e].c();P=f(),A=u("button"),L=u("div"),L.textContent="add",q=f(),D=_(Y),B=f(),te&&te.c(),J=f(),ne&&ne.c(),W=f(),le&&le.c(),G=g(),p(n,"class","svelte-1b48fxf"),p(y,"class","title svelte-1b48fxf"),p(y,"minlength","1"),p(y,"maxlength","100"),y.required=!0,p(y,"placeholder","1_100"),p(k,"class","description svelte-1b48fxf"),p(k,"minlength","1"),p(k,"maxlength","1000"),k.required=!0,p(k,"placeholder","1_1000"),p(z,"for","my_all_tags"),p(O,"list","all_tags"),p(O,"id","my_all_tags"),p(O,"name","my_all_tags"),p(O,"minlength","1"),p(O,"maxlength","10"),O.required=!0,p(O,"placeholder","1_10"),p(I,"id","all_tags"),p(L,"class","material-icons"),p(A,"class","svelte-1b48fxf")},m(l,o){Z&&Z.m(l,o),r(l,t,o),r(l,n,o),i(n,a),r(l,c,o),r(l,s,o),r(l,b,o),r(l,y,o),v(y,e[2]),r(l,x,o),r(l,w,o),r(l,$,o),r(l,k,o),v(k,e[3]),r(l,j,o),r(l,T,o);for(let e=0;e<R.length;e+=1)R[e]&&R[e].m(T,null);r(l,E,o),r(l,z,o),i(z,C),r(l,N,o),r(l,O,o),v(O,e[5]),r(l,S,o),r(l,I,o);for(let e=0;e<ee.length;e+=1)ee[e]&&ee[e].m(I,null);r(l,P,o),r(l,A,o),i(A,L),i(A,q),i(A,D),r(l,B,o),te&&te.m(l,o),r(l,J,o),ne&&ne.m(l,o),r(l,W,o),le&&le.m(l,o),r(l,G,o),K||(H=[h(n,"click",e[57]),h(y,"input",e[58]),h(k,"input",e[59]),h(O,"input",e[61]),h(A,"click",e[62])],K=!0)},p(e,n){if(null!==e[1]?Z?Z.p(e,n):(Z=Ne(e),Z.c(),Z.m(t.parentNode,t)):Z&&(Z.d(1),Z=null),32768&n[0]&&F!==(F=e[20].clear_title_description_tags[e[15]]+"")&&m(a,F),4&n[0]&&v(y,e[2]),8&n[0]&&v(k,e[3]),128&n[0]){let t;for(Q=e[7],t=0;t<Q.length;t+=1){const l=V(e,Q,t);R[t]?R[t].p(l,n):(R[t]=Oe(l),R[t].c(),R[t].m(T,null))}for(;t<R.length;t+=1)R[t].d(1);R.length=Q.length}if(32768&n[0]&&U!==(U=e[20].tag[e[15]]+"")&&m(C,U),32&n[0]&&O.value!==e[5]&&v(O,e[5]),64&n[0]){let t;for(X=e[6],t=0;t<X.length;t+=1){const l=M(e,X,t);ee[t]?ee[t].p(l,n):(ee[t]=Se(l),ee[t].c(),ee[t].m(I,null))}for(;t<ee.length;t+=1)ee[t].d(1);ee.length=X.length}32768&n[0]&&Y!==(Y=e[20].add_tag_to_desc[e[15]]+"")&&m(D,Y),e[9].length>0?te?te.p(e,n):(te=Ie(e),te.c(),te.m(J.parentNode,J)):te&&(te.d(1),te=null),null===e[1]?ne?ne.p(e,n):(ne=Ae(e),ne.c(),ne.m(W.parentNode,W)):ne&&(ne.d(1),ne=null),null!==e[1]?le?le.p(e,n):(le=Le(e),le.c(),le.m(G.parentNode,G)):le&&(le.d(1),le=null)},d(e){Z&&Z.d(e),e&&o(t),e&&o(n),e&&o(c),e&&o(s),e&&o(b),e&&o(y),e&&o(x),e&&o(w),e&&o($),e&&o(k),e&&o(j),e&&o(T),d(R,e),e&&o(E),e&&o(z),e&&o(N),e&&o(O),e&&o(S),e&&o(I),d(ee,e),e&&o(P),e&&o(A),e&&o(B),te&&te.d(e),e&&o(J),ne&&ne.d(e),e&&o(W),le&&le.d(e),e&&o(G),K=!1,l(H)}}}function Ne(e){let t,n,l;return{c(){t=u("p"),n=_("id: "),l=_(e[1])},m(e,a){r(e,t,a),i(t,n),i(t,l)},p(e,t){2&t[0]&&m(l,e[1])},d(e){e&&o(t)}}}function Oe(e){let t,n,l,a,c=e[76].name+"";function s(){return e[60](e[76])}return{c(){t=u("button"),n=_(c),p(t,"class","svelte-1b48fxf")},m(e,c){r(e,t,c),i(t,n),l||(a=h(t,"click",s),l=!0)},p(t,l){e=t,128&l[0]&&c!==(c=e[76].name+"")&&m(n,c)},d(e){e&&o(t),l=!1,a()}}}function Se(e){let t,n;return{c(){t=u("option"),t.__value=n=e[76].name,t.value=t.__value},m(e,n){r(e,t,n)},p(e,l){64&l[0]&&n!==(n=e[76].name)&&(t.__value=n,t.value=t.__value)},d(e){e&&o(t)}}}function Ie(e){let t,n,l,a,c=e[20].errors[e[15]]+"",s=e[9],h=[];for(let t=0;t<s.length;t+=1)h[t]=Pe(W(e,s,t));return{c(){t=u("h2"),n=_(c),l=f();for(let e=0;e<h.length;e+=1)h[e].c();a=g()},m(e,c){r(e,t,c),i(t,n),r(e,l,c);for(let t=0;t<h.length;t+=1)h[t]&&h[t].m(e,c);r(e,a,c)},p(e,t){if(32768&t[0]&&c!==(c=e[20].errors[e[15]]+"")&&m(n,c),512&t[0]){let n;for(s=e[9],n=0;n<s.length;n+=1){const l=W(e,s,n);h[n]?h[n].p(l,t):(h[n]=Pe(l),h[n].c(),h[n].m(a.parentNode,a))}for(;n<h.length;n+=1)h[n].d(1);h.length=s.length}},d(e){e&&o(t),e&&o(l),d(h,e),e&&o(a)}}}function Pe(e){let t,n,l=e[73]+"";return{c(){t=u("p"),n=_(l)},m(e,l){r(e,t,l),i(t,n)},p(e,t){512&t[0]&&l!==(l=e[73]+"")&&m(n,l)},d(e){e&&o(t)}}}function Ae(e){let t,n,l,a,c,s,d,g,v,b=e[20].insert_desc[e[15]]+"";return{c(){t=u("div"),n=u("button"),l=u("div"),l.textContent="upload",a=f(),c=u("div"),s=u("div"),d=_(b),p(l,"class","material-icons"),p(c,"class","small_font svelte-1b48fxf"),p(n,"class","fetch_insert_desc_button svelte-1b48fxf")},m(o,u){r(o,t,u),i(t,n),i(n,l),i(n,a),i(n,c),i(c,s),i(s,d),g||(v=h(n,"click",e[34]),g=!0)},p(e,t){32768&t[0]&&b!==(b=e[20].insert_desc[e[15]]+"")&&m(d,b)},d(e){e&&o(t),g=!1,v()}}}function Le(e){let t,n,l,a,c=e[20].update_desc[e[15]]+"";return{c(){t=u("button"),n=_(c),p(t,"class","fetch_update_desc_button svelte-1b48fxf")},m(c,s){r(c,t,s),i(t,n),l||(a=h(t,"click",e[36]),l=!0)},p(e,t){32768&t[0]&&c!==(c=e[20].update_desc[e[15]]+"")&&m(n,c)},d(e){e&&o(t),l=!1,a()}}}function qe(t){let n,a,c,s,g,v,b,y,x,w,$,k,j,T,E,z,C,N,O,S,I,P,A,L,q,D,B=t[20].right[t[15]]+"",J=t[20].left[t[15]]+"",W=t[13]&&te(t),M=t[9]>0&&ie(t),V=Object.keys(t[10]),K=[];for(let e=0;e<V.length;e+=1)K[e]=fe(Q(t,V,e));let H=Object.entries(t[10]),F=[];for(let e=0;e<H.length;e+=1)F[e]=ze(G(t,H,e));let U=""!==t[18]&&Ce(t);return{c(){n=u("div"),a=u("div"),c=u("button"),c.innerHTML='<span class="material-icons">menubar</span>',s=f(),W&&W.c(),g=f(),v=u("div"),b=u("div"),y=u("div"),M&&M.c(),x=f(),w=u("div"),$=u("button"),k=u("span"),k.textContent="edit",j=f(),T=_(B),z=f(),C=u("div");for(let e=0;e<K.length;e+=1)K[e].c();N=f(),O=u("div");for(let e=0;e<F.length;e+=1)F[e].c();S=f(),I=u("div"),P=u("button"),A=_(J),L=f(),U&&U.c(),p(c,"class","design_toggle_menu svelte-1b48fxf"),p(a,"class","header svelte-1b48fxf"),p(y,"class","console"),p(k,"class","material-icons"),p($,"class",E="edit_button "+(t[11]?"hidden_when_scroll":"")+" svelte-1b48fxf"),p(C,"class","tabs svelte-1b48fxf"),p(O,"class","tab-content"),p(w,"class","list svelte-1b48fxf"),p(b,"class","left_column server_side svelte-1b48fxf"),p(P,"class","list_button svelte-1b48fxf"),p(I,"class","right_column svelte-1b48fxf"),p(v,"class","content svelte-1b48fxf"),p(n,"class","container svelte-1b48fxf")},m(e,l){r(e,n,l),i(n,a),i(a,c),i(a,s),W&&W.m(a,null),i(n,g),i(n,v),i(v,b),i(b,y),M&&M.m(y,null),i(b,x),i(b,w),i(w,$),i($,k),i($,j),i($,T),i(w,z),i(w,C);for(let e=0;e<K.length;e+=1)K[e]&&K[e].m(C,null);i(w,N),i(w,O);for(let e=0;e<F.length;e+=1)F[e]&&F[e].m(O,null);i(v,S),i(v,I),i(I,P),i(P,A),i(I,L),U&&U.m(I,null),q||(D=[h(c,"click",t[30]),h($,"click",t[47]),h(P,"click",t[56])],q=!0)},p(e,t){if(e[13]?W?W.p(e,t):(W=te(e),W.c(),W.m(a,null)):W&&(W.d(1),W=null),e[9]>0?M?M.p(e,t):(M=ie(e),M.c(),M.m(y,null)):M&&(M.d(1),M=null),32768&t[0]&&B!==(B=e[20].right[e[15]]+"")&&m(T,B),2048&t[0]&&E!==(E="edit_button "+(e[11]?"hidden_when_scroll":"")+" svelte-1b48fxf")&&p($,"class",E),1086464&t[0]){let n;for(V=Object.keys(e[10]),n=0;n<V.length;n+=1){const l=Q(e,V,n);K[n]?K[n].p(l,t):(K[n]=fe(l),K[n].c(),K[n].m(C,null))}for(;n<K.length;n+=1)K[n].d(1);K.length=V.length}if(383096128&t[0]|66&t[1]){let n;for(H=Object.entries(e[10]),n=0;n<H.length;n+=1){const l=G(e,H,n);F[n]?F[n].p(l,t):(F[n]=ze(l),F[n].c(),F[n].m(O,null))}for(;n<F.length;n+=1)F[n].d(1);F.length=H.length}32768&t[0]&&J!==(J=e[20].left[e[15]]+"")&&m(A,J),""!==e[18]?U?U.p(e,t):(U=Ce(e),U.c(),U.m(I,null)):U&&(U.d(1),U=null)},i:e,o:e,d(e){e&&o(n),W&&W.d(),M&&M.d(),d(K,e),d(F,e),U&&U.d(),q=!1,l(D)}}}const De="https://cotton-concrete-catsup.glitch.me/app8";function Be(e,t,n){let l=null,a="",c="",s={kind:"id",order:"desc"};const i=["id","title","description","tags","created_at","updated_at"];let r,o="",d=[],u=[],_=[],f=[],g={all_descs:[],all_tags:[],any_user_new_all_descs_with_tags:[],filtered_all_descs:[]},h={},p=!1,m="all_descs",v=!1,b="left",x=!1,w="en",$=!1;const j={auth_login_result:{en:"Log in result",ja:"ログイン結果",zh:"登录结果",es:"resultado de inicio de sesión"},auth_sign_out:{en:"Sign out",ja:"サインアウト",zh:"登出",es:"Cerrar sesión"},web_data_tags:{en:"Web data tags",ja:"ウェブデータタグ",zh:"网页数据标签",es:"Etiquetas de datos web"},any_user_new_all_descs_with_tags:{en:"",ja:"",zh:"",es:""},all_descs:{en:"",ja:"",zh:"",es:""},filtered_all_descs:{ja:"",en:"",zh:"",es:""},title:{en:"Title",ja:"タイトル",zh:"标题",es:"Título"},description:{en:"Description",ja:"説明",zh:"描述",es:"Descripción"},tag:{en:"Tag",ja:"タグ",zh:"标签",es:"Etiqueta"},set_desc_data:{en:"Set",ja:"セット",zh:"设置",es:"Establecer"},delete_desc:{en:"Delete",ja:"削除",zh:"删除",es:"Eliminar"},confirm_delete_desc:{ja:"削除しますか？",en:"Delete?",zh:"删除？",es:"¿Eliminar?"},add_tag_to_desc:{en:"Add tag",ja:"タグを追加",zh:"添加标签",es:"Agregar etiqueta"},update_desc:{en:"Update description",ja:"説明を更新",zh:"更新描述",es:"Actualizar descripción"},insert_desc:{en:"Insert description",ja:"説明を挿入",zh:"插入描述",es:"Insertar descripción"},clear_filtered_all_descs:{ja:"フィルターをクリア",en:"Clear filter",zh:"清除过滤器",es:"Borrar filtro"},errors:{en:"Errors",ja:"エラー",zh:"错误",es:"Errores"},is_auth_uid_valid:{en:"Invalid auth_uid",ja:"無効なauth_uid",zh:"无效的auth_uid",es:"auth_uid no válido"},is_title_valid:{ja:"タイトルは1文字以上100文字以下",en:"Title must be between 1 and 100 characters",zh:"标题必须在1到100个字符之间",es:"El título debe tener entre 1 y 100 caracteres"},is_description_valid:{ja:"説明は1文字以上1000文字以下",en:"Description must be between 1 and 1000 characters",zh:"描述必须在1到1000个字符之间",es:"La descripción debe tener entre 1 y 1000 caracteres"},are_tags_valid:{ja:"タグは1文字以上10文字以下",en:"Tags must be between 1 and 10 characters",zh:"标签必须在1到10个字符之间",es:"Las etiquetas deben tener entre 1 y 10 caracteres"},confirm_clear_title_description_tags:{ja:"タイトル、説明、タグをクリアしますか？",en:"Clear title, description, and tags?",zh:"清除标题、描述和标签吗？",es:"¿Borrar título, descripción y etiquetas?"},clear_title_description_tags:{ja:"タイトル、説明、タグをクリア",en:"Clear title, description, and tags",zh:"清除标题、描述和标签",es:"Borrar título, descripción y etiquetas"},sort:{ja:"並べ替え",en:"Sort",zh:"分类",es:"Clasificar"},left:{ja:"-",en:"-",zh:"-",es:"-"},right:{ja:"",en:"",zh:"",es:""},select_language:{ja:"言語を選択",en:"Select language",zh:"选择语言",es:"Seleccionar idioma"},tab:{ja:"タブ",en:"Tab",zh:"标签",es:"Pestaña"},link_copied_to_clipboard:{ja:"リンクをコピーしました",en:"Link copied to clipboard",zh:"链接已复制到剪贴板",es:"Enlace copiado al portapapeles"}};let T="Not logged in",E="";function z(e,t){try{const l=e=>!!A.validate_tag_name(e)||(f.push(j.are_tags_valid[w]),!1),a=()=>n(9,f=f.filter((e=>!e.includes(j.are_tags_valid[w])))),c=e=>d.find((t=>t.name===e)),s=(e,t,n)=>e?{...e,desc_id:n}:{id:d.length+1,name:t,desc_id:n,created_at:(new Date).toISOString(),updated_at:(new Date).toISOString()},i=(e,t)=>e?d:[...d,t],r=e=>u.some((t=>t.id===e.id))?u:[...u,e],_=()=>n(5,o="");if(l(t)){a(),l(t);const o=c(t),f=s(o,t,e);n(6,d=i(o,f)),n(7,u=r(f)),_()}}catch(e){console.error("Error:",e)}}function C(e){(e=>{n(8,_=_.includes(e)?_:[..._,e])})(e),n(10,g.filtered_all_descs=g.all_descs.filter((e=>e.tags.some((e=>_.includes(e.name))))),g),n(12,m="filtered_all_descs")}function N(e){(e=>{n(8,_=_.filter((t=>t!==e)))})(e),n(10,g.filtered_all_descs=g.all_descs.filter((e=>e.tags.some((e=>_.includes(e.name))))),g)}function O({with_confirm:e=!0}={}){e?confirm(j.confirm_clear_title_description_tags[w])&&(n(2,a=""),n(3,c=""),n(7,u=[]),n(1,l=null)):(n(2,a=""),n(3,c=""),n(7,u=[]),n(1,l=null))}function S(e){try{const t=g.all_descs.find((t=>t.id===e));t?(n(1,l=t.id),n(2,a=t.title),n(3,c=t.description),n(7,u=t.tags)):console.error(`No description found with id: ${e}`),n(0,b="right")}catch(e){console.error("Error:",e)}}function I(e){navigator.clipboard.writeText(`${window.location.href.split("#")[0]}#${e}`),alert(j.link_copied_to_clipboard[w])}function P(){try{if(null===s.kind||null===s.order)return;if(void 0===g.all_descs)return;if(void 0===g.any_user_new_all_descs_with_tags)return;const e=(e,t)=>{switch(s.kind){case"id":return"asc"===s.order?e.id-t.id:t.id-e.id;case"title":return"asc"===s.order?e.title.localeCompare(t.title):t.title.localeCompare(e.title);case"description":return"asc"===s.order?e.description.localeCompare(t.description):t.description.localeCompare(e.description);case"tags":return"asc"===s.order?e.tags.length-t.tags.length:t.tags.length-e.tags.length;case"created_at":return"asc"===s.order?e.created_at.localeCompare(t.created_at):t.created_at.localeCompare(e.created_at);case"updated_at":return"asc"===s.order?e.updated_at.localeCompare(t.updated_at):t.updated_at.localeCompare(e.updated_at);default:return 0}},t=g.all_descs.sort(e),l=g.any_user_new_all_descs_with_tags.sort(e);n(10,g={...g,all_descs:t,any_user_new_all_descs_with_tags:l})}catch(e){console.error("Error:",e)}}const A={validate_auth_uid:e=>/^[a-zA-Z0-9_-]+$/.test(e),validate_desc_id:e=>(console.log("validate_desc_id",e),Number.isInteger(e)&&e>0),validate_iso_date:e=>/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$/.test(e),validate_title:e=>(console.log("validate_title",e),"string"==typeof e&&e.length>=1&&e.length<=100),validate_description:e=>(console.log("validate_description",e),"string"==typeof e&&e.length>=1&&e.length<=1e3),validate_tag_name:e=>(console.log(1),console.log("validate_tag_name",e),console.log(2),"string"==typeof e&&e.length>=1&&e.length<=10),validate_data(e){const{auth_uid:t,desc_id:n,title:l,description:a,tags:c}=e,s=this.validate_auth_uid(t),i=this.validate_title(l),r=this.validate_description(a);console.log("tags",c);return{is_auth_uid_valid:s,is_title_valid:i,is_description_valid:r,are_tags_valid:c.every((e=>this.validate_tag_name(e.name)))}}};function L(){const e={auth_uid:E,desc_id:l,title:a,description:c,tags:u};n(9,f=[]);for(const[t,n]of Object.entries(A.validate_data(e)))if(n||f.push(j[t][w]),"tags"===t)for(const[e,t]of n.entries())for(const[n,l]of Object.entries(A.validate_data(t)))l||f.push(`tags[${e}].${n}`);else"auth_uid"===t&&A.validate_auth_uid(E),"desc_id"===t&&A.validate_desc_id(l),"title"===t&&A.validate_title(a),"description"===t&&A.validate_description(c);return!(f.length>0)||(console.log(f),!1)}const q=[{auth_uid:"user1",desc_id:1,created_at:"2024-09-01T00:00:00",updated_at:"2024-09-01T00:00:00",title:"foo1",description:"bar1",tags:[{desc_id:1,id:1,name:"tag1",created_at:"2024-09-01T00:00:00",updated_at:"2024-09-01T00:00:00"},{desc_id:1,id:2,name:"tag2",created_at:"2024-09-01T00:00:00",updated_at:"2024-09-01T00:00:00"},{desc_id:1,id:3,name:"tag3",created_at:"2024-09-01T00:00:00",updated_at:"2024-09-01T00:00:00"}]},{auth_uid:"user1",desc_id:2,created_at:"2024-09-01T00:00:00",updated_at:"2024-09-01T00:00:00",title:"foo2",description:"bar2",tags:[{desc_id:2,id:1,name:"tag1",created_at:"2024-09-01T00:00:00",updated_at:"2024-09-01T00:00:00"},{desc_id:2,id:2,name:"tag2",created_at:"2024-09-01T00:00:00",updated_at:"2024-09-01T00:00:00"}]},{auth_uid:"user2",desc_id:3,created_at:"2024-09-01T00:00:00",updated_at:"2024-09-01T00:00:00",title:"foo3",description:"bar3",tags:[{desc_id:3,id:2,name:"tag2",created_at:"2024-09-01T00:00:00",updated_at:"2024-09-01T00:00:00"},{desc_id:3,id:3,name:"tag3",created_at:"2024-09-01T00:00:00",updated_at:"2024-09-01T00:00:00"}]}],D=[{auth_uid:"user1",desc_id:4,created_at:"2024-09-01T00:00:00",updated_at:"2024-09-01T00:00:00",title:"a".repeat(100),description:"b".repeat(1e3),tags:[{desc_id:4,id:4,name:"tag4",created_at:"2024-09-01T00:00:00",updated_at:"2024-09-01T00:00:00"}]},{auth_uid:"user1",desc_id:5,created_at:"2024-09-01T00:00:00",updated_at:"2024-09-01T00:00:00",title:"",description:"",tags:[{desc_id:5,id:5,name:"t".repeat(10),created_at:"2024-09-01T00:00:00",updated_at:"2024-09-01T00:00:00"}]}];async function B(){try{if(!L())throw new Error("Validation failed");const e=await fetch(De+"/insert_desc",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({auth_uid:E,title:a,description:c,tags:u})});await J(e),n(0,b="left"),n(12,m="all_descs"),O({with_confirm:!1})}catch(e){console.error("Error:",e)}}async function J(e){try{const t=await e.json();t.filtered_all_descs=g.filtered_all_descs?g.filtered_all_descs:[],h=Object.fromEntries(Object.entries(t).filter((([e,t])=>"all_descs"!==e&&"all_tags"!==e&&"any_user_new_all_descs_with_tags"!==e))),n(10,g=Object.fromEntries(Object.entries(t).filter((([e,t])=>"all_descs"===e||"all_tags"===e||"any_user_new_all_descs_with_tags"===e||"filtered_all_descs"===e)))),n(6,d=t.all_tags),P()}catch(e){console.error("Error:",e)}}async function W(){try{const e=await fetch(De+"/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({auth_uid:E})});await J(e)}catch(e){console.error("Error:",e)}}async function M(e){try{if(!confirm(j.confirm_delete_desc[w]))return;const t=await fetch(De+"/delete_desc",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e,auth_uid:E})});await J(t)}catch(e){console.error("Error:",e)}}window.addEventListener("scroll",(function(){n(11,p=!0),clearTimeout(r),r=setTimeout((()=>{n(11,p=!1)}),1e3)})),firebase.initializeApp({apiKey:"AIzaSyBcOlIDP2KWbJuKM0WeMHNp-WvjTVfLt9Y",authDomain:"p2auth-ea50a.firebaseapp.com",projectId:"p2auth-ea50a",storageBucket:"p2auth-ea50a.appspot.com",messagingSenderId:"796225429484",appId:"1:796225429484:web:ece56ef2fc0be28cd6eac9"}),k((async()=>{await async function(){try{const e=await new Promise(((e,t)=>{firebase.auth().onAuthStateChanged(e,t)}));console.log("Current user:",e),e?(n(18,E=e.uid),n(17,T="Logged in")):(console.log(2),n(17,T="Not logged in"),n(18,E=""))}catch(e){console.error("Error during authentication:",e),n(17,T="Authentication failed"),n(18,E="")}}(),console.log("auth_check_login"),await W(),console.log("fetch_get_all_descs_and_tags"),function(){if(location.hash){const e=location.hash.slice(1),t=document.getElementById(e);t&&t.scrollIntoView({behavior:"smooth"})}}()}));return e.$$.update=()=>{1&e.$$.dirty[0]&&(async()=>{"left"===b?(document.documentElement.style.setProperty("--display-left-column","grid"),document.documentElement.style.setProperty("--display-right-column","none")):"right"===b&&(document.documentElement.style.setProperty("--display-left-column","none"),document.documentElement.style.setProperty("--display-right-column","grid"))})()},[b,l,a,c,s,o,d,u,_,f,g,p,m,v,x,w,$,T,E,i,j,z,C,N,O,S,async function(){n(10,g.filtered_all_descs=[],g),n(8,_=[])},async function(){try{for(const e of q)n(18,E=e.auth_uid),n(1,l=e.desc_id),n(2,a=e.title),n(3,c=e.description),n(7,u=e.tags),await B()}catch(e){console.error("Error:",e)}},I,P,function(){n(13,v=!v)},function(){n(14,x=!x)},function(){n(16,$=!$)},function(){n(2,a=D[1].title),n(3,c=D[1].description),n(7,u=D[1].tags),B()},B,W,async function(){try{if(!L())throw new Error("Validation failed");const e=await fetch(De+"/update_desc",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({auth_uid:E,desc_id:l,title:a,description:c,tags:u})});await J(e),n(0,b="left"),n(12,m="all_descs"),O({with_confirm:!1})}catch(e){console.error("Error:",e)}},M,async function(){try{console.log("auth_google_login");const e=new firebase.auth.GoogleAuthProvider,t=(await firebase.auth().signInWithPopup(e)).user;console.log(4),n(17,T=`Logged in as: ${t.displayName}`)}catch(e){console.error("Error during Google login:",e),alert("Google login failed. "+e.message)}},async function(){try{console.log(5),await firebase.auth().signOut(),n(17,T="Not logged in")}catch(e){console.error("Error during sign-out:",e),alert("Sign out failed. "+e.message)}},function(){w=this.__value,n(15,w)},[[]],function(){w=this.__value,n(15,w)},function(){w=this.__value,n(15,w)},function(){w=this.__value,n(15,w)},function(){s.kind=y(this),n(4,s),n(19,i)},function(){s.order=y(this),n(4,s),n(19,i)},()=>n(0,b="right"),e=>n(12,m=e),e=>C(e.name),e=>N(e.name),e=>C(e.name),e=>I(e.id),e=>S(e.id),e=>M(e.id),e=>C(e.name),()=>n(0,b="left"),()=>O({with_confirm:!0}),function(){a=this.value,n(2,a)},function(){c=this.value,n(3,c)},e=>n(7,u=u.filter((t=>t.id!==e.id))),function(){o=this.value,n(5,o)},()=>z(l,o)]}return new class extends J{constructor(e){super(),B(this,e,Be,qe,c,{},null,[-1,-1,-1,-1])}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
